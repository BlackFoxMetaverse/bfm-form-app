var Us=Object.defineProperty;var $s=(i,e,s)=>e in i?Us(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var Hn=(i,e,s)=>($s(i,typeof e!="symbol"?e+"":e,s),s),xr=(i,e,s)=>{if(!e.has(i))throw TypeError("Cannot "+s)};var j=(i,e,s)=>(xr(i,e,"read from private field"),s?s.call(i):e.get(i)),Mt=(i,e,s)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,s)},Kt=(i,e,s,o)=>(xr(i,e,"write to private field"),o?o.call(i,s):e.set(i,s),s);var nr=(i,e,s,o)=>({set _(a){Kt(i,e,a,s)},get _(){return j(i,e,o)}}),jt=(i,e,s)=>(xr(i,e,"access private method"),s);function _mergeNamespaces(i,e){for(var s=0;s<e.length;s++){const o=e[s];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var s=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var a=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return i[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,e,s){this.props=i,this.context=e,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,e,s){this.props=i,this.context=e,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,e,s){var o,a={},c=null,d=null;if(e!=null)for(o in e.ref!==void 0&&(d=e.ref),e.key!==void 0&&(c=""+e.key),e)J.call(e,o)&&!L$1.hasOwnProperty(o)&&(a[o]=e[o]);var g=arguments.length-2;if(g===1)a.children=s;else if(1<g){for(var h=Array(g),_=0;_<g;_++)h[_]=arguments[_+2];a.children=h}if(i&&i.defaultProps)for(o in g=i.defaultProps,g)a[o]===void 0&&(a[o]=g[o]);return{$$typeof:l$1,type:i,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(i,e){return{$$typeof:l$1,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$1}function escape$1(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return e[s]})}var P$1=/\/+/g;function Q$1(i,e){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):e.toString(36)}function R$1(i,e,s,o,a){var c=typeof i;(c==="undefined"||c==="boolean")&&(i=null);var d=!1;if(i===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(i.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=i,a=a(d),i=o===""?"."+Q$1(d,0):o,I$1(a)?(s="",i!=null&&(s=i.replace(P$1,"$&/")+"/"),R$1(a,e,s,"",function(_){return _})):a!=null&&(O$1(a)&&(a=N$1(a,s+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+i)),e.push(a)),1;if(d=0,o=o===""?".":o+":",I$1(i))for(var g=0;g<i.length;g++){c=i[g];var h=o+Q$1(c,g);d+=R$1(c,e,s,h,a)}else if(h=A$1(i),typeof h=="function")for(i=h.call(i),g=0;!(c=i.next()).done;)c=c.value,h=o+Q$1(c,g++),d+=R$1(c,e,s,h,a);else if(c==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(i,e,s){if(i==null)return i;var o=[],a=0;return R$1(i,o,"","",function(c){return e.call(s,c,a++)}),o}function T$1(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,e,s){S$1(i,function(){e.apply(this,arguments)},s)},count:function(i){var e=0;return S$1(i,function(){e++}),e},toArray:function(i){return S$1(i,function(e){return e})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,e,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var o=C$1({},i.props),a=i.key,c=i.ref,d=i._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,d=K$1.current),e.key!==void 0&&(a=""+e.key),i.type&&i.type.defaultProps)var g=i.type.defaultProps;for(h in e)J.call(e,h)&&!L$1.hasOwnProperty(h)&&(o[h]=e[h]===void 0&&g!==void 0?g[h]:e[h])}var h=arguments.length-2;if(h===1)o.children=s;else if(1<h){g=Array(h);for(var _=0;_<h;_++)g[_]=arguments[_+2];o.children=g}return{$$typeof:l$1,type:i.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var e=M$1.bind(null,i);return e.type=i,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$1,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,e){return{$$typeof:x,type:i,compare:e===void 0?null:e}};react_production_min.startTransition=function(i){var e=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,e){return U$1.current.useCallback(i,e)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,e){return U$1.current.useEffect(i,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,e,s){return U$1.current.useImperativeHandle(i,e,s)};react_production_min.useInsertionEffect=function(i,e){return U$1.current.useInsertionEffect(i,e)};react_production_min.useLayoutEffect=function(i,e){return U$1.current.useLayoutEffect(i,e)};react_production_min.useMemo=function(i,e){return U$1.current.useMemo(i,e)};react_production_min.useReducer=function(i,e,s){return U$1.current.useReducer(i,e,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,e,s){return U$1.current.useSyncExternalStore(i,e,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(i,e,s){var o,a={},c=null,d=null;s!==void 0&&(c=""+s),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(d=e.ref);for(o in e)m$1.call(e,o)&&!p$1.hasOwnProperty(o)&&(a[o]=e[o]);if(i&&i.defaultProps)for(o in e=i.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:k,type:i,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(_t,Pt){var $t=_t.length;_t.push(Pt);e:for(;0<$t;){var Zt=$t-1>>>1,nn=_t[Zt];if(0<a(nn,Pt))_t[Zt]=Pt,_t[$t]=nn,$t=Zt;else break e}}function s(_t){return _t.length===0?null:_t[0]}function o(_t){if(_t.length===0)return null;var Pt=_t[0],$t=_t.pop();if($t!==Pt){_t[0]=$t;e:for(var Zt=0,nn=_t.length,Tt=nn>>>1;Zt<Tt;){var nt=2*(Zt+1)-1,ut=_t[nt],ot=nt+1,gt=_t[ot];if(0>a(ut,$t))ot<nn&&0>a(gt,ut)?(_t[Zt]=gt,_t[ot]=$t,Zt=ot):(_t[Zt]=ut,_t[nt]=$t,Zt=nt);else if(ot<nn&&0>a(gt,$t))_t[Zt]=gt,_t[ot]=$t,Zt=ot;else break e}}return Pt}function a(_t,Pt){var $t=_t.sortIndex-Pt.sortIndex;return $t!==0?$t:_t.id-Pt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var h=[],_=[],b=1,_e=null,ft=3,mt=!1,lt=!1,at=!1,ct=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function tt(_t){for(var Pt=s(_);Pt!==null;){if(Pt.callback===null)o(_);else if(Pt.startTime<=_t)o(_),Pt.sortIndex=Pt.expirationTime,e(h,Pt);else break;Pt=s(_)}}function ht(_t){if(at=!1,tt(_t),!lt)if(s(h)!==null)lt=!0,At(rt);else{var Pt=s(_);Pt!==null&&kt(ht,Pt.startTime-_t)}}function rt(_t,Pt){lt=!1,at&&(at=!1,et(pt),pt=-1),mt=!0;var $t=ft;try{for(tt(Pt),_e=s(h);_e!==null&&(!(_e.expirationTime>Pt)||_t&&!Et());){var Zt=_e.callback;if(typeof Zt=="function"){_e.callback=null,ft=_e.priorityLevel;var nn=Zt(_e.expirationTime<=Pt);Pt=i.unstable_now(),typeof nn=="function"?_e.callback=nn:_e===s(h)&&o(h),tt(Pt)}else o(h);_e=s(h)}if(_e!==null)var Tt=!0;else{var nt=s(_);nt!==null&&kt(ht,nt.startTime-Pt),Tt=!1}return Tt}finally{_e=null,ft=$t,mt=!1}}var dt=!1,xt=null,pt=-1,it=5,St=-1;function Et(){return!(i.unstable_now()-St<it)}function Dt(){if(xt!==null){var _t=i.unstable_now();St=_t;var Pt=!0;try{Pt=xt(!0,_t)}finally{Pt?Ft():(dt=!1,xt=null)}}else dt=!1}var Ft;if(typeof $=="function")Ft=function(){$(Dt)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,vt=yt.port2;yt.port1.onmessage=Dt,Ft=function(){vt.postMessage(null)}}else Ft=function(){ct(Dt,0)};function At(_t){xt=_t,dt||(dt=!0,Ft())}function kt(_t,Pt){pt=ct(function(){_t(i.unstable_now())},Pt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(_t){_t.callback=null},i.unstable_continueExecution=function(){lt||mt||(lt=!0,At(rt))},i.unstable_forceFrameRate=function(_t){0>_t||125<_t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<_t?Math.floor(1e3/_t):5},i.unstable_getCurrentPriorityLevel=function(){return ft},i.unstable_getFirstCallbackNode=function(){return s(h)},i.unstable_next=function(_t){switch(ft){case 1:case 2:case 3:var Pt=3;break;default:Pt=ft}var $t=ft;ft=Pt;try{return _t()}finally{ft=$t}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(_t,Pt){switch(_t){case 1:case 2:case 3:case 4:case 5:break;default:_t=3}var $t=ft;ft=_t;try{return Pt()}finally{ft=$t}},i.unstable_scheduleCallback=function(_t,Pt,$t){var Zt=i.unstable_now();switch(typeof $t=="object"&&$t!==null?($t=$t.delay,$t=typeof $t=="number"&&0<$t?Zt+$t:Zt):$t=Zt,_t){case 1:var nn=-1;break;case 2:nn=250;break;case 5:nn=1073741823;break;case 4:nn=1e4;break;default:nn=5e3}return nn=$t+nn,_t={id:b++,callback:Pt,priorityLevel:_t,startTime:$t,expirationTime:nn,sortIndex:-1},$t>Zt?(_t.sortIndex=$t,e(_,_t),s(h)===null&&_t===s(_)&&(at?(et(pt),pt=-1):at=!0,kt(ht,$t-Zt))):(_t.sortIndex=nn,e(h,_t),lt||mt||(lt=!0,At(rt))),_t},i.unstable_shouldYield=Et,i.unstable_wrapCallback=function(_t){var Pt=ft;return function(){var $t=ft;ft=Pt;try{return _t.apply(this,arguments)}finally{ft=$t}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,e){ha(i,e),ha(i+"Capture",e)}function ha(i,e){for(ea[i]=e,i=0;i<e.length;i++)da.add(e[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,e,s,o){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,e,s,o){if(e===null||typeof e>"u"||pa(i,e,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(i,e,s,o,a,c,d){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=i,this.type=e,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];z[e]=new v(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,e,s,o){var a=z.hasOwnProperty(e)?z[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,s,a,o)&&(s=null),o||a===null?oa(e)&&(s===null?i.removeAttribute(e):i.setAttribute(e,""+s)):a.mustUseProperty?i[a.propertyName]=s===null?a.type===3?!1:"":s:(e=a.attributeName,o=a.attributeNamespace,s===null?i.removeAttribute(e):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,o?i.setAttributeNS(o,e,s):i.setAttribute(e,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+i}var Na=!1;function Oa(i,e){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var o=_}Reflect.construct(i,[],e)}else{try{e.call()}catch(_){o=_}i.call(e.prototype)}else{try{throw Error()}catch(_){o=_}i()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,g=c.length-1;1<=d&&0<=g&&a[d]!==c[g];)g--;for(;1<=d&&0<=g;d--,g--)if(a[d]!==c[g]){if(d!==1||g!==1)do if(d--,g--,0>g||a[d]!==c[g]){var h=`
`+a[d].replace(" at new "," at ");return i.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",i.displayName)),h}while(1<=d&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return e=i.displayName||null,e!==null?e:Qa(i.type)||"Memo";case Ha:e=i._payload,i=i._init;try{return Qa(i(e))}catch{}}return null}function Ra(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(i){var e=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),o=""+i[e];if(!i.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,c=s.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(i,e,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var s=e.getValue(),o="";return i&&(o=Ta(i)?i.checked?"true":"false":i.value),i=o,i!==s?(e.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,e){var s=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,e){var s=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;s=Sa(e.value!=null?e.value:s),i._wrapperState={initialChecked:o,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(i,e){e=e.checked,e!=null&&ta(i,"checked",e,!1)}function bb(i,e){ab(i,e);var s=Sa(e.value),o=e.type;if(s!=null)o==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(o==="submit"||o==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?cb(i,e.type,s):e.hasOwnProperty("defaultValue")&&cb(i,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function db(i,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,s||e===i.value||(i.value=e),i.defaultValue=e}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,e,s){(e!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,e,s,o){if(i=i.options,e){e={};for(var a=0;a<s.length;a++)e["$"+s[a]]=!0;for(s=0;s<i.length;s++)a=e.hasOwnProperty("$"+i[s].value),i[s].selected!==a&&(i[s].selected=a),a&&o&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),e=null,a=0;a<i.length;a++){if(i[a].value===s){i[a].selected=!0,o&&(i[a].defaultSelected=!0);return}e!==null||i[a].disabled||(e=i[a])}e!==null&&(e.selected=!0)}}function gb(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}e=s}e==null&&(e=""),s=e}i._wrapperState={initialValue:Sa(s)}}function ib(i,e){var s=Sa(e.value),o=Sa(e.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),e.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),o!=null&&(i.defaultValue=""+o)}function jb(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,o,a){MSApp.execUnsafeLocalFunction(function(){return i(e,s,o,a)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function ob(i,e){if(e){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=e;return}}i.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),pb[e]=pb[i]})});function rb(i,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb.hasOwnProperty(i)&&pb[i]?(""+e).trim():e+"px"}function sb(i,e){i=i.style;for(var s in e)if(e.hasOwnProperty(s)){var o=s.indexOf("--")===0,a=rb(s,e[s],o);s==="float"&&(s="cssFloat"),o?i.setProperty(s,a):i[s]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,e){if(e){if(tb[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var e=i.stateNode;e&&(e=Db(e),yb(i.stateNode,i.type,e))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,e=Ab;if(Ab=zb=null,Bb(i),e)for(i=0;i<e.length;i++)Bb(e[i])}}function Gb(i,e){return i(e)}function Hb(){}var Ib=!1;function Jb(i,e,s){if(Ib)return i(e,s);Ib=!0;try{return Gb(i,e,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,e){var s=i.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p(231,e,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,e,s,o,a,c,d,g,h){var _=Array.prototype.slice.call(arguments,3);try{e.apply(s,_)}catch(b){this.onError(b)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,e,s,o,a,c,d,g,h){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,e,s,o,a,c,d,g,h){if(Tb.apply(this,arguments),Ob){if(Ob){var _=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_)}}function Vb(i){var e=i,s=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(s=e.return),i=e.return;while(i)}return e.tag===3?s:null}function Wb(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var e=i.alternate;if(!e){if(e=Vb(i),e===null)throw Error(p(188));return e!==i?null:i}for(var s=i,o=e;;){var a=s.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){s=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===s)return Xb(a),i;if(c===o)return Xb(a),e;c=c.sibling}throw Error(p(188))}if(s.return!==o.return)s=a,o=c;else{for(var d=!1,g=a.child;g;){if(g===s){d=!0,s=a,o=c;break}if(g===o){d=!0,o=a,s=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===s){d=!0,s=c,o=a;break}if(g===o){d=!0,o=c,s=a;break}g=g.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?i:e}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=$b(i);if(e!==null)return e;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,e){var s=i.pendingLanes;if(s===0)return 0;var o=0,a=i.suspendedLanes,c=i.pingedLanes,d=s&268435455;if(d!==0){var g=d&~a;g!==0?o=tc(g):(c&=d,c!==0&&(o=tc(c)))}else d=s&~a,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(e!==0&&e!==o&&!(e&a)&&(a=o&-o,c=e&-e,a>=c||a===16&&(c&4194240)!==0))return e;if(o&4&&(o|=s&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=o;0<e;)s=31-oc(e),a=1<<s,o|=i[s],e&=~a;return o}function vc(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,e){for(var s=i.suspendedLanes,o=i.pingedLanes,a=i.expirationTimes,c=i.pendingLanes;0<c;){var d=31-oc(c),g=1<<d,h=a[d];h===-1?(!(g&s)||g&o)&&(a[d]=vc(g,e)):h<=e&&(i.expiredLanes|=g),c&=~g}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var e=[],s=0;31>s;s++)e.push(i);return e}function Ac(i,e,s){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-oc(e),i[e]=s}function Bc(i,e){var s=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var o=i.eventTimes;for(i=i.expirationTimes;0<s;){var a=31-oc(s),c=1<<a;e[a]=0,o[a]=-1,i[a]=-1,s&=~c}}function Cc(i,e){var s=i.entangledLanes|=e;for(i=i.entanglements;s;){var o=31-oc(s),a=1<<o;a&e|i[o]&e&&(i[o]|=e),s&=~a}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,e){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(i,e,s,o,a,c){return i===null||i.nativeEvent!==c?(i={blockedOn:e,domEventName:s,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),i):(i.eventSystemFlags|=o,e=i.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),i)}function Uc(i,e,s,o,a){switch(e){case"focusin":return Lc=Tc(Lc,i,e,s,o,a),!0;case"dragenter":return Mc=Tc(Mc,i,e,s,o,a),!0;case"mouseover":return Nc=Tc(Nc,i,e,s,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,i,e,s,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,i,e,s,o,a)),!0}return!1}function Vc(i){var e=Wc(i.target);if(e!==null){var s=Vb(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb(s),e!==null){i.blockedOn=e,Ic(i.priority,function(){Gc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var s=Yc(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return e=Cb(s),e!==null&&Fc(e),i.blockedOn=s,!1;e.shift()}return!0}function Zc(i,e,s){Xc(i)&&s.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,e){i.blockedOn===e&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function e(a){return ad(a,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===i&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(e),Pc.forEach(e),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===i&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,e,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(i,e,s,o)}finally{C=a,cd.transition=c}}function gd(i,e,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(i,e,s,o)}finally{C=a,cd.transition=c}}function fd(i,e,s,o){if(dd){var a=Yc(i,e,s,o);if(a===null)hd(i,e,o,id,s),Sc(i,o);else if(Uc(a,i,e,s,o))o.stopPropagation();else if(Sc(i,o),e&4&&-1<Rc.indexOf(i)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(i,e,s,o),c===null&&hd(i,e,o,id,s),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(i,e,o,null,s)}}var id=null;function Yc(i,e,s,o){if(id=null,i=xb(o),i=Wc(i),i!==null)if(e=Vb(i),e===null)i=null;else if(s=e.tag,s===13){if(i=Wb(e),i!==null)return i;i=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,e=ld,s=e.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(i=0;i<s&&e[i]===a[i];i++);var d=s-i;for(o=1;o<=d&&e[s-o]===a[c-o];o++);return md=a.slice(i,1<o?1-o:void 0)}function od(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function e(s,o,a,c,d){this._reactName=s,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in i)i.hasOwnProperty(g)&&(s=i[g],this[g]=s?s(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=Od[i])?!!e[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var e=Md[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,e){switch(i){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,e){switch(i){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return i=e.data,i===ee&&fe?null:i;default:return null}}function ke(i,e){if(ie)return i==="compositionend"||!ae&&ge(i,e)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!le[i.type]:e==="textarea"}function ne(i,e,s,o){Eb(o),e=oe(e,"onChange"),0<e.length&&(s=new td("onChange","change",null,s,o),i.push({event:s,listeners:e}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var e=ue(i);if(Wa(e))return i}function ve(i,e){if(i==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,i,xb(i)),Jb(re,e)}}function Ce(i,e,s){i==="focusin"?(Ae(),pe=e,qe=s,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,e){if(i==="click")return te(e)}function Fe(i,e){if(i==="input"||i==="change")return te(e)}function Ge(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,e){if(He(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var a=s[o];if(!ja.call(e,a)||!He(i[a],e[a]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,e){var s=Je(i);i=0;for(var o;s;){if(s.nodeType===3){if(o=i+s.textContent.length,i<=e&&o>=e)return{node:s,offset:e-i};i=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?Le(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var i=window,e=Xa();e instanceof i.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)i=e.contentWindow;else break;e=Xa(i.document)}return e}function Ne(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function Oe(i){var e=Me(),s=i.focusedElem,o=i.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(e=o.start,i=o.end,i===void 0&&(i=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(i,s.value.length);else if(i=(e=s.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var a=s.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!i.extend&&c>o&&(a=o,o=c,c=a),a=Ke(s,c);var d=Ke(s,o);a&&d&&(i.rangeCount!==1||i.anchorNode!==a.node||i.anchorOffset!==a.offset||i.focusNode!==d.node||i.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),i.removeAllRanges(),c>o?(i.addRange(e),i.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),i.addRange(e)))}}for(e=[],i=s;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)i=e[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,e,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(e=new td("onSelect","select",null,e,s),i.push({event:e,listeners:o}),e.target=Qe)))}function Ve(i,e){var s={};return s[i.toLowerCase()]=e.toLowerCase(),s["Webkit"+i]="webkit"+e,s["Moz"+i]="moz"+e,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var e=We[i],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye)return Xe[i]=e[s];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,e){df.set(i,e),fa(e,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,e,s){var o=i.type||"unknown-event";i.currentTarget=s,Ub(o,e,void 0,i),i.currentTarget=null}function se(i,e){e=(e&4)!==0;for(var s=0;s<i.length;s++){var o=i[s],a=o.event;o=o.listeners;e:{var c=void 0;if(e)for(var d=o.length-1;0<=d;d--){var g=o[d],h=g.instance,_=g.currentTarget;if(g=g.listener,h!==c&&a.isPropagationStopped())break e;nf(a,g,_),c=h}else for(d=0;d<o.length;d++){if(g=o[d],h=g.instance,_=g.currentTarget,g=g.listener,h!==c&&a.isPropagationStopped())break e;nf(a,g,_),c=h}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var o=i+"__bubble";s.has(o)||(pf(e,i,2,!1),s.add(o))}function qf(i,e,s){var o=0;e&&(o|=4),pf(s,i,o,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(i,e,s,o){switch(jd(e)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}s=a.bind(null,e,s,i),a=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?i.addEventListener(e,s,{capture:!0,passive:a}):i.addEventListener(e,s,!0):a!==void 0?i.addEventListener(e,s,{passive:a}):i.addEventListener(e,s,!1)}function hd(i,e,s,o,a){var c=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var g=o.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var h=d.tag;if((h===3||h===4)&&(h=d.stateNode.containerInfo,h===a||h.nodeType===8&&h.parentNode===a))return;d=d.return}for(;g!==null;){if(d=Wc(g),d===null)return;if(h=d.tag,h===5||h===6){o=c=d;continue e}g=g.parentNode}}o=o.return}Jb(function(){var _=c,b=xb(s),_e=[];e:{var ft=df.get(i);if(ft!==void 0){var mt=td,lt=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":mt=Rd;break;case"focusin":lt="focus",mt=Fd;break;case"focusout":lt="blur",mt=Fd;break;case"beforeblur":case"afterblur":mt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Vd;break;case $e:case af:case bf:mt=Hd;break;case cf:mt=Xd;break;case"scroll":mt=vd;break;case"wheel":mt=Zd;break;case"copy":case"cut":case"paste":mt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Td}var at=(e&4)!==0,ct=!at&&i==="scroll",et=at?ft!==null?ft+"Capture":null:ft;at=[];for(var $=_,tt;$!==null;){tt=$;var ht=tt.stateNode;if(tt.tag===5&&ht!==null&&(tt=ht,et!==null&&(ht=Kb($,et),ht!=null&&at.push(tf($,ht,tt)))),ct)break;$=$.return}0<at.length&&(ft=new mt(ft,lt,null,s,b),_e.push({event:ft,listeners:at}))}}if(!(e&7)){e:{if(ft=i==="mouseover"||i==="pointerover",mt=i==="mouseout"||i==="pointerout",ft&&s!==wb&&(lt=s.relatedTarget||s.fromElement)&&(Wc(lt)||lt[uf]))break e;if((mt||ft)&&(ft=b.window===b?b:(ft=b.ownerDocument)?ft.defaultView||ft.parentWindow:window,mt?(lt=s.relatedTarget||s.toElement,mt=_,lt=lt?Wc(lt):null,lt!==null&&(ct=Vb(lt),lt!==ct||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(mt=null,lt=_),mt!==lt)){if(at=Bd,ht="onMouseLeave",et="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(at=Td,ht="onPointerLeave",et="onPointerEnter",$="pointer"),ct=mt==null?ft:ue(mt),tt=lt==null?ft:ue(lt),ft=new at(ht,$+"leave",mt,s,b),ft.target=ct,ft.relatedTarget=tt,ht=null,Wc(b)===_&&(at=new at(et,$+"enter",lt,s,b),at.target=tt,at.relatedTarget=ct,ht=at),ct=ht,mt&&lt)t:{for(at=mt,et=lt,$=0,tt=at;tt;tt=vf(tt))$++;for(tt=0,ht=et;ht;ht=vf(ht))tt++;for(;0<$-tt;)at=vf(at),$--;for(;0<tt-$;)et=vf(et),tt--;for(;$--;){if(at===et||et!==null&&at===et.alternate)break t;at=vf(at),et=vf(et)}at=null}else at=null;mt!==null&&wf(_e,ft,mt,at,!1),lt!==null&&ct!==null&&wf(_e,ct,lt,at,!0)}}e:{if(ft=_?ue(_):window,mt=ft.nodeName&&ft.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ft.type==="file")var rt=ve;else if(me(ft))if(we)rt=Fe;else{rt=De;var dt=Ce}else(mt=ft.nodeName)&&mt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(rt=Ee);if(rt&&(rt=rt(i,_))){ne(_e,rt,s,b);break e}dt&&dt(i,ft,_),i==="focusout"&&(dt=ft._wrapperState)&&dt.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(dt=_?ue(_):window,i){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=_,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_e,s,b);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_e,s,b)}var xt;if(ae)e:{switch(i){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ie?ge(i,s)&&(pt="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(de&&s.locale!=="ko"&&(ie||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ie&&(xt=nd()):(kd=b,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe(_,pt),0<dt.length&&(pt=new Ld(pt,i,null,s,b),_e.push({event:pt,listeners:dt}),xt?pt.data=xt:(xt=he(s),xt!==null&&(pt.data=xt)))),(xt=ce?je(i,s):ke(i,s))&&(_=oe(_,"onBeforeInput"),0<_.length&&(b=new Ld("onBeforeInput","beforeinput",null,s,b),_e.push({event:b,listeners:_}),b.data=xt))}se(_e,e)})}function tf(i,e,s){return{instance:i,listener:e,currentTarget:s}}function oe(i,e){for(var s=e+"Capture",o=[];i!==null;){var a=i,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(i,s),c!=null&&o.unshift(tf(i,c,a)),c=Kb(i,e),c!=null&&o.push(tf(i,c,a))),i=i.return}return o}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,e,s,o,a){for(var c=e._reactName,d=[];s!==null&&s!==o;){var g=s,h=g.alternate,_=g.stateNode;if(h!==null&&h===o)break;g.tag===5&&_!==null&&(g=_,a?(h=Kb(s,c),h!=null&&d.unshift(tf(s,h,g))):a||(h=Kb(s,c),h!=null&&d.push(tf(s,h,g)))),s=s.return}d.length!==0&&i.push({event:e,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,e,s){if(e=zf(e),zf(i)!==e&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,e){var s=e,o=0;do{var a=s.nextSibling;if(i.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(o===0){i.removeChild(a),bd(e);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=a}while(s);bd(e)}function Lf(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return i;e--}else s==="/$"&&e++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var e=i[Of];if(e)return e;for(var s=i.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return e}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,e){Tf++,Sf[Tf]=i.current,i.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,e){var s=i.type.contextTypes;if(!s)return Vf;var o=i.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in s)a[c]=e[c];return o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,e,s){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,s)}function bg(i,e,s){var o=i.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(p(108,Ra(i)||"Unknown",a));return A({},s,o)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,e,s){var o=i.stateNode;if(!o)throw Error(p(169));s?(i=bg(i,e,Xf),o.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,e=C;try{var s=eg;for(C=1;i<s.length;i++){var o=s[i];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),a}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,e){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=e}function ug(i,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var o=rg;i=sg;var a=32-oc(o)-1;o&=~(1<<a),s+=1;var c=32-oc(e)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc(e)+a|s<<a|o,sg=c+i}else rg=1<<c|s<<a|o,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=i,e=i.deletions,e===null?(i.deletions=[s],i.flags|=16):e.push(s)}function Cg(i,e){switch(i.tag){case 5:var s=i.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,xg=i,yg=Lf(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,xg=i,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var e=yg;if(e){var s=e;if(!Cg(i,e)){if(Dg(i))throw Error(p(418));e=Lf(s.nextSibling);var o=xg;e&&Cg(i,e)?Ag(o,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Ef(i.type,i.memoizedProps)),e&&(e=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;e;)Ag(i,e),e=Lf(e.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(e===0){yg=Lf(i.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,e){if(i&&i.defaultProps){e=A({},e),i=i.defaultProps;for(var s in i)e[s]===void 0&&(e[s]=i[s]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var e=Mg.current;E(Mg),i._currentValue=e}function Sg(i,e,s){for(;i!==null;){var o=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),i===s)break;i=i.return}}function Tg(i,e){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(Ug=!0),i.firstContext=null)}function Vg(i){var e=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return e}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,e,s,o){var a=e.interleaved;return a===null?(s.next=s,Xg(e)):(s.next=a.next,a.next=s),e.interleaved=s,Zg(i,o)}function Zg(i,e){i.lanes|=e;var s=i.alternate;for(s!==null&&(s.lanes|=e),s=i,i=i.return;i!==null;)i.childLanes|=e,s=i.alternate,s!==null&&(s.childLanes|=e),s=i,i=i.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(i,e,s){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,Zg(i,s)}return a=o.interleaved,a===null?(e.next=e,Xg(o)):(e.next=a.next,a.next=e),o.interleaved=e,Zg(i,s)}function eh(i,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}function fh(i,e){var s=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var a=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?a=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?a=c=e:c=c.next=e}else a=c=e;s={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=e:i.next=e,s.lastBaseUpdate=e}function gh(i,e,s,o){var a=i.updateQueue;$g=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var h=g,_=h.next;h.next=null,d===null?c=_:d.next=_,d=h;var b=i.alternate;b!==null&&(b=b.updateQueue,g=b.lastBaseUpdate,g!==d&&(g===null?b.firstBaseUpdate=_:g.next=_,b.lastBaseUpdate=h))}if(c!==null){var _e=a.baseState;d=0,b=_=h=null,g=c;do{var ft=g.lane,mt=g.eventTime;if((o&ft)===ft){b!==null&&(b=b.next={eventTime:mt,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var lt=i,at=g;switch(ft=e,mt=s,at.tag){case 1:if(lt=at.payload,typeof lt=="function"){_e=lt.call(mt,_e,ft);break e}_e=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=at.payload,ft=typeof lt=="function"?lt.call(mt,_e,ft):lt,ft==null)break e;_e=A({},_e,ft);break e;case 2:$g=!0}}g.callback!==null&&g.lane!==0&&(i.flags|=64,ft=a.effects,ft===null?a.effects=[g]:ft.push(g))}else mt={eventTime:mt,lane:ft,tag:g.tag,payload:g.payload,callback:g.callback,next:null},b===null?(_=b=mt,h=_e):b=b.next=mt,d|=ft;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;ft=g,g=ft.next,ft.next=null,a.lastBaseUpdate=ft,a.shared.pending=null}}while(!0);if(b===null&&(h=_e),a.baseState=h,a.firstBaseUpdate=_,a.lastBaseUpdate=b,e=a.shared.interleaved,e!==null){a=e;do d|=a.lane,a=a.next;while(a!==e)}else c===null&&(a.shared.lanes=0);hh|=d,i.lanes=d,i.memoizedState=_e}}function ih(i,e,s){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var o=i[e],a=o.callback;if(a!==null){if(o.callback=null,o=s,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var jh=new aa.Component().refs;function kh(i,e,s,o){e=i.memoizedState,s=s(o,e),s=s==null?e:A({},e,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,e,s){i=i._reactInternals;var o=L(),a=lh(i),c=ch(o,a);c.payload=e,s!=null&&(c.callback=s),e=dh(i,c,a),e!==null&&(mh(e,i,a,o),eh(e,i,a))},enqueueReplaceState:function(i,e,s){i=i._reactInternals;var o=L(),a=lh(i),c=ch(o,a);c.tag=1,c.payload=e,s!=null&&(c.callback=s),e=dh(i,c,a),e!==null&&(mh(e,i,a,o),eh(e,i,a))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var s=L(),o=lh(i),a=ch(s,o);a.tag=2,e!=null&&(a.callback=e),e=dh(i,a,o),e!==null&&(mh(e,i,o,s),eh(e,i,o))}};function oh(i,e,s,o,a,c,d){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,c,d):e.prototype&&e.prototype.isPureReactComponent?!Ie(s,o)||!Ie(a,c):!0}function ph(i,e,s){var o=!1,a=Vf,c=e.contextType;return typeof c=="object"&&c!==null?c=Vg(c):(a=Zf(e)?Xf:H.current,o=e.contextTypes,c=(o=o!=null)?Yf(i,a):Vf),e=new e(s,c),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,i.stateNode=e,e._reactInternals=i,o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=c),e}function qh(i,e,s,o){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,o),e.state!==i&&nh.enqueueReplaceState(e,e.state,null)}function rh(i,e,s,o){var a=i.stateNode;a.props=s,a.state=i.memoizedState,a.refs=jh,ah(i);var c=e.contextType;typeof c=="object"&&c!==null?a.context=Vg(c):(c=Zf(e)?Xf:H.current,a.context=Yf(i,c)),a.state=i.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(kh(i,e,c,s),a.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&nh.enqueueReplaceState(a,a.state,null),gh(i,s,a,o),a.state=i.memoizedState),typeof a.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,e,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var o=s.stateNode}if(!o)throw Error(p(147,i));var a=o,c=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(d){var g=a.refs;g===jh&&(g=a.refs={}),d===null?delete g[c]:g[c]=d},e._stringRef=c,e)}if(typeof i!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,i))}return i}function th(i,e){throw i=Object.prototype.toString.call(e),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function uh(i){var e=i._init;return e(i._payload)}function vh(i){function e(et,$){if(i){var tt=et.deletions;tt===null?(et.deletions=[$],et.flags|=16):tt.push($)}}function s(et,$){if(!i)return null;for(;$!==null;)e(et,$),$=$.sibling;return null}function o(et,$){for(et=new Map;$!==null;)$.key!==null?et.set($.key,$):et.set($.index,$),$=$.sibling;return et}function a(et,$){return et=wh(et,$),et.index=0,et.sibling=null,et}function c(et,$,tt){return et.index=tt,i?(tt=et.alternate,tt!==null?(tt=tt.index,tt<$?(et.flags|=2,$):tt):(et.flags|=2,$)):(et.flags|=1048576,$)}function d(et){return i&&et.alternate===null&&(et.flags|=2),et}function g(et,$,tt,ht){return $===null||$.tag!==6?($=xh(tt,et.mode,ht),$.return=et,$):($=a($,tt),$.return=et,$)}function h(et,$,tt,ht){var rt=tt.type;return rt===ya?b(et,$,tt.props.children,ht,tt.key):$!==null&&($.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&uh(rt)===$.type)?(ht=a($,tt.props),ht.ref=sh(et,$,tt),ht.return=et,ht):(ht=yh(tt.type,tt.key,tt.props,null,et.mode,ht),ht.ref=sh(et,$,tt),ht.return=et,ht)}function _(et,$,tt,ht){return $===null||$.tag!==4||$.stateNode.containerInfo!==tt.containerInfo||$.stateNode.implementation!==tt.implementation?($=zh(tt,et.mode,ht),$.return=et,$):($=a($,tt.children||[]),$.return=et,$)}function b(et,$,tt,ht,rt){return $===null||$.tag!==7?($=Ah(tt,et.mode,ht,rt),$.return=et,$):($=a($,tt),$.return=et,$)}function _e(et,$,tt){if(typeof $=="string"&&$!==""||typeof $=="number")return $=xh(""+$,et.mode,tt),$.return=et,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case va:return tt=yh($.type,$.key,$.props,null,et.mode,tt),tt.ref=sh(et,null,$),tt.return=et,tt;case wa:return $=zh($,et.mode,tt),$.return=et,$;case Ha:var ht=$._init;return _e(et,ht($._payload),tt)}if(eb($)||Ka($))return $=Ah($,et.mode,tt,null),$.return=et,$;th(et,$)}return null}function ft(et,$,tt,ht){var rt=$!==null?$.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number")return rt!==null?null:g(et,$,""+tt,ht);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case va:return tt.key===rt?h(et,$,tt,ht):null;case wa:return tt.key===rt?_(et,$,tt,ht):null;case Ha:return rt=tt._init,ft(et,$,rt(tt._payload),ht)}if(eb(tt)||Ka(tt))return rt!==null?null:b(et,$,tt,ht,null);th(et,tt)}return null}function mt(et,$,tt,ht,rt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return et=et.get(tt)||null,g($,et,""+ht,rt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return et=et.get(ht.key===null?tt:ht.key)||null,h($,et,ht,rt);case wa:return et=et.get(ht.key===null?tt:ht.key)||null,_($,et,ht,rt);case Ha:var dt=ht._init;return mt(et,$,tt,dt(ht._payload),rt)}if(eb(ht)||Ka(ht))return et=et.get(tt)||null,b($,et,ht,rt,null);th($,ht)}return null}function lt(et,$,tt,ht){for(var rt=null,dt=null,xt=$,pt=$=0,it=null;xt!==null&&pt<tt.length;pt++){xt.index>pt?(it=xt,xt=null):it=xt.sibling;var St=ft(et,xt,tt[pt],ht);if(St===null){xt===null&&(xt=it);break}i&&xt&&St.alternate===null&&e(et,xt),$=c(St,$,pt),dt===null?rt=St:dt.sibling=St,dt=St,xt=it}if(pt===tt.length)return s(et,xt),I&&tg(et,pt),rt;if(xt===null){for(;pt<tt.length;pt++)xt=_e(et,tt[pt],ht),xt!==null&&($=c(xt,$,pt),dt===null?rt=xt:dt.sibling=xt,dt=xt);return I&&tg(et,pt),rt}for(xt=o(et,xt);pt<tt.length;pt++)it=mt(xt,et,pt,tt[pt],ht),it!==null&&(i&&it.alternate!==null&&xt.delete(it.key===null?pt:it.key),$=c(it,$,pt),dt===null?rt=it:dt.sibling=it,dt=it);return i&&xt.forEach(function(Et){return e(et,Et)}),I&&tg(et,pt),rt}function at(et,$,tt,ht){var rt=Ka(tt);if(typeof rt!="function")throw Error(p(150));if(tt=rt.call(tt),tt==null)throw Error(p(151));for(var dt=rt=null,xt=$,pt=$=0,it=null,St=tt.next();xt!==null&&!St.done;pt++,St=tt.next()){xt.index>pt?(it=xt,xt=null):it=xt.sibling;var Et=ft(et,xt,St.value,ht);if(Et===null){xt===null&&(xt=it);break}i&&xt&&Et.alternate===null&&e(et,xt),$=c(Et,$,pt),dt===null?rt=Et:dt.sibling=Et,dt=Et,xt=it}if(St.done)return s(et,xt),I&&tg(et,pt),rt;if(xt===null){for(;!St.done;pt++,St=tt.next())St=_e(et,St.value,ht),St!==null&&($=c(St,$,pt),dt===null?rt=St:dt.sibling=St,dt=St);return I&&tg(et,pt),rt}for(xt=o(et,xt);!St.done;pt++,St=tt.next())St=mt(xt,et,pt,St.value,ht),St!==null&&(i&&St.alternate!==null&&xt.delete(St.key===null?pt:St.key),$=c(St,$,pt),dt===null?rt=St:dt.sibling=St,dt=St);return i&&xt.forEach(function(Dt){return e(et,Dt)}),I&&tg(et,pt),rt}function ct(et,$,tt,ht){if(typeof tt=="object"&&tt!==null&&tt.type===ya&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case va:e:{for(var rt=tt.key,dt=$;dt!==null;){if(dt.key===rt){if(rt=tt.type,rt===ya){if(dt.tag===7){s(et,dt.sibling),$=a(dt,tt.props.children),$.return=et,et=$;break e}}else if(dt.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&uh(rt)===dt.type){s(et,dt.sibling),$=a(dt,tt.props),$.ref=sh(et,dt,tt),$.return=et,et=$;break e}s(et,dt);break}else e(et,dt);dt=dt.sibling}tt.type===ya?($=Ah(tt.props.children,et.mode,ht,tt.key),$.return=et,et=$):(ht=yh(tt.type,tt.key,tt.props,null,et.mode,ht),ht.ref=sh(et,$,tt),ht.return=et,et=ht)}return d(et);case wa:e:{for(dt=tt.key;$!==null;){if($.key===dt)if($.tag===4&&$.stateNode.containerInfo===tt.containerInfo&&$.stateNode.implementation===tt.implementation){s(et,$.sibling),$=a($,tt.children||[]),$.return=et,et=$;break e}else{s(et,$);break}else e(et,$);$=$.sibling}$=zh(tt,et.mode,ht),$.return=et,et=$}return d(et);case Ha:return dt=tt._init,ct(et,$,dt(tt._payload),ht)}if(eb(tt))return lt(et,$,tt,ht);if(Ka(tt))return at(et,$,tt,ht);th(et,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"?(tt=""+tt,$!==null&&$.tag===6?(s(et,$.sibling),$=a($,tt),$.return=et,et=$):(s(et,$),$=xh(tt,et.mode,ht),$.return=et,et=$),d(et)):s(et,$)}return ct}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p(174));return i}function Ih(i,e){switch(G(Gh,e),G(Fh,i),G(Eh,Dh),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=lb(e,i)}E(Eh),G(Eh,e)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var e=Hh(Eh.current),s=lb(e,i.type);e!==s&&(G(Fh,i),G(Eh,s))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var e=i;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(i,e){if(e===null)return!1;for(var s=0;s<e.length&&s<i.length;s++)if(!He(i[s],e[s]))return!1;return!0}function Xh(i,e,s,o,a,c){if(Rh=c,N=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=s(o,a),Th){c=0;do{if(Th=!1,Uh=0,25<=c)throw Error(p(301));c+=1,P=O=null,e.updateQueue=null,Ph.current=$h,i=s(o,a)}while(Th)}if(Ph.current=ai,e=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,e)throw Error(p(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var e=P===null?N.memoizedState:P.next;if(e!==null)P=e,O=i;else{if(i===null)throw Error(p(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,e){return typeof e=="function"?e(i):e}function fi(i){var e=di(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=i;var o=O,a=o.baseQueue,c=s.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,s.pending=null}if(a!==null){c=a.next,o=o.baseState;var g=d=null,h=null,_=c;do{var b=_.lane;if((Rh&b)===b)h!==null&&(h=h.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:i(o,_.action);else{var _e={lane:b,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};h===null?(g=h=_e,d=o):h=h.next=_e,N.lanes|=b,hh|=b}_=_.next}while(_!==null&&_!==c);h===null?d=o:h.next=g,He(o,e.memoizedState)||(Ug=!0),e.memoizedState=o,e.baseState=d,e.baseQueue=h,s.lastRenderedState=o}if(i=s.interleaved,i!==null){a=i;do c=a.lane,N.lanes|=c,hh|=c,a=a.next;while(a!==i)}else a===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function gi(i){var e=di(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=i;var o=s.dispatch,a=s.pending,c=e.memoizedState;if(a!==null){s.pending=null;var d=a=a.next;do c=i(c,d.action),d=d.next;while(d!==a);He(c,e.memoizedState)||(Ug=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),s.lastRenderedState=c}return[c,o]}function hi(){}function ii(i,e){var s=N,o=di(),a=e(),c=!He(o.memoizedState,a);if(c&&(o.memoizedState=a,Ug=!0),o=o.queue,ji(ki.bind(null,s,o,i),[i]),o.getSnapshot!==e||c||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,o,a,e),void 0,null),R===null)throw Error(p(349));Rh&30||ni(s,e,a)}return a}function ni(i,e,s){i.flags|=16384,i={getSnapshot:e,value:s},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.stores=[i]):(s=e.stores,s===null?e.stores=[i]:s.push(i))}function mi(i,e,s,o){e.value=s,e.getSnapshot=o,oi(e)&&pi(i)}function ki(i,e,s){return s(function(){oi(e)&&pi(i)})}function oi(i){var e=i.getSnapshot;i=i.value;try{var s=e();return!He(i,s)}catch{return!0}}function pi(i){var e=Zg(i,1);e!==null&&mh(e,i,1,-1)}function qi(i){var e=ci();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},e.queue=i,i=i.dispatch=ri.bind(null,N,i),[e.memoizedState,i]}function li(i,e,s,o){return i={tag:i,create:e,destroy:s,deps:o,next:null},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.lastEffect=i.next=i):(s=e.lastEffect,s===null?e.lastEffect=i.next=i:(o=s.next,s.next=i,i.next=o,e.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,e,s,o){var a=ci();N.flags|=i,a.memoizedState=li(1|e,s,void 0,o===void 0?null:o)}function ui(i,e,s,o){var a=di();o=o===void 0?null:o;var c=void 0;if(O!==null){var d=O.memoizedState;if(c=d.destroy,o!==null&&Wh(o,d.deps)){a.memoizedState=li(e,s,c,o);return}}N.flags|=i,a.memoizedState=li(1|e,s,c,o)}function vi(i,e){return ti(8390656,8,i,e)}function ji(i,e){return ui(2048,8,i,e)}function wi(i,e){return ui(4,2,i,e)}function xi(i,e){return ui(4,4,i,e)}function yi(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function zi(i,e,s){return s=s!=null?s.concat([i]):null,ui(4,4,yi.bind(null,e,i),s)}function Ai(){}function Bi(i,e){var s=di();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Wh(e,o[1])?o[0]:(s.memoizedState=[i,e],i)}function Ci(i,e){var s=di();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Wh(e,o[1])?o[0]:(i=i(),s.memoizedState=[i,e],i)}function Di(i,e,s){return Rh&21?(He(s,e)||(s=yc(),N.lanes|=s,hh|=s,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=s)}function Ei(i,e){var s=C;C=s!==0&&4>s?s:4,i(!0);var o=Qh.transition;Qh.transition={};try{i(!1),e()}finally{C=s,Qh.transition=o}}function Fi(){return di().memoizedState}function Gi(i,e,s){var o=lh(i);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(e,s);else if(s=Yg(i,e,s,o),s!==null){var a=L();mh(s,i,o,a),Ji(s,e,o)}}function ri(i,e,s){var o=lh(i),a={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(e,a);else{var c=i.alternate;if(i.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var d=e.lastRenderedState,g=c(d,s);if(a.hasEagerState=!0,a.eagerState=g,He(g,d)){var h=e.interleaved;h===null?(a.next=a,Xg(e)):(a.next=h.next,h.next=a),e.interleaved=a;return}}catch{}finally{}s=Yg(i,e,a,o),s!==null&&(a=L(),mh(s,i,o,a),Ji(s,e,o))}}function Hi(i){var e=i.alternate;return i===N||e!==null&&e===N}function Ii(i,e){Th=Sh=!0;var s=i.pending;s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e}function Ji(i,e,s){if(s&4194240){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,e){return ci().memoizedState=[i,e===void 0?null:e],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,e,s){return s=s!=null?s.concat([i]):null,ti(4194308,4,yi.bind(null,e,i),s)},useLayoutEffect:function(i,e){return ti(4194308,4,i,e)},useInsertionEffect:function(i,e){return ti(4,2,i,e)},useMemo:function(i,e){var s=ci();return e=e===void 0?null:e,i=i(),s.memoizedState=[i,e],i},useReducer:function(i,e,s){var o=ci();return e=s!==void 0?s(e):e,o.memoizedState=o.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},o.queue=i,i=i.dispatch=Gi.bind(null,N,i),[o.memoizedState,i]},useRef:function(i){var e=ci();return i={current:i},e.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),e=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,s){var o=N,a=ci();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=e(),R===null)throw Error(p(349));Rh&30||ni(o,e,s)}a.memoizedState=s;var c={value:s,getSnapshot:e};return a.queue=c,vi(ki.bind(null,o,c,i),[i]),o.flags|=2048,li(9,mi.bind(null,o,c,s,e),void 0,null),s},useId:function(){var i=ci(),e=R.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,e=":"+e+"R"+s,s=Uh++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Vh++,e=":"+e+"r"+s.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var e=di();return Di(e,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],e=di().memoizedState;return[i,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var e=di();return O===null?e.memoizedState=i:Di(e,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],e=di().memoizedState;return[i,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,e){try{var s="",o=e;do s+=Pa(o),o=o.return;while(o);var a=s}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:i,source:e,stack:a,digest:null}}function Li(i,e,s){return{value:i,source:null,stack:s??null,digest:e??null}}function Mi(i,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,e,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var o=e.value;return s.callback=function(){Pi||(Pi=!0,Qi=o),Mi(i,e)},s}function Ri(i,e,s){s=ch(-1,s),s.tag=3;var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;s.payload=function(){return o(a)},s.callback=function(){Mi(i,e)}}var c=i.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Mi(i,e),typeof o!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var d=e.stack;this.componentDidCatch(e.value,{componentStack:d!==null?d:""})}),s}function Ti(i,e,s){var o=i.pingCache;if(o===null){o=i.pingCache=new Ni;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(s)||(a.add(s),i=Ui.bind(null,i,e,s),e.then(i,i))}function Vi(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function Wi(i,e,s,o,a){return i.mode&1?(i.flags|=65536,i.lanes=a,i):(i===e?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=ch(-1,1),e.tag=2,dh(s,e,1))),s.lanes|=1),i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,e,s,o){e.child=i===null?Ch(e,null,s,o):Bh(e,i.child,s,o)}function Zi(i,e,s,o,a){s=s.render;var c=e.ref;return Tg(e,a),o=Xh(i,e,s,o,c,a),s=bi(),i!==null&&!Ug?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,$i(i,e,a)):(I&&s&&vg(e),e.flags|=1,Yi(i,e,o,a),e.child)}function aj(i,e,s,o,a){if(i===null){var c=s.type;return typeof c=="function"&&!bj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=c,cj(i,e,c,o,a)):(i=yh(s.type,null,o,e,e.mode,a),i.ref=e.ref,i.return=e,e.child=i)}if(c=i.child,!(i.lanes&a)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,o)&&i.ref===e.ref)return $i(i,e,a)}return e.flags|=1,i=wh(c,o),i.ref=e.ref,i.return=e,e.child=i}function cj(i,e,s,o,a){if(i!==null){var c=i.memoizedProps;if(Ie(c,o)&&i.ref===e.ref)if(Ug=!1,e.pendingProps=o=c,(i.lanes&a)!==0)i.flags&131072&&(Ug=!0);else return e.lanes=i.lanes,$i(i,e,a)}return dj(i,e,s,o,a)}function ej(i,e,s){var o=e.pendingProps,a=o.children,c=i!==null?i.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return i=c!==null?c.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,G(fj,gj),gj|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:s,G(fj,gj),gj|=o}else c!==null?(o=c.baseLanes|s,e.memoizedState=null):o=s,G(fj,gj),gj|=o;return Yi(i,e,a,s),e.child}function hj(i,e){var s=e.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function dj(i,e,s,o,a){var c=Zf(s)?Xf:H.current;return c=Yf(e,c),Tg(e,a),s=Xh(i,e,s,o,c,a),o=bi(),i!==null&&!Ug?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,$i(i,e,a)):(I&&o&&vg(e),e.flags|=1,Yi(i,e,s,a),e.child)}function ij(i,e,s,o,a){if(Zf(s)){var c=!0;cg(e)}else c=!1;if(Tg(e,a),e.stateNode===null)jj(i,e),ph(e,s,o),rh(e,s,o,a),o=!0;else if(i===null){var d=e.stateNode,g=e.memoizedProps;d.props=g;var h=d.context,_=s.contextType;typeof _=="object"&&_!==null?_=Vg(_):(_=Zf(s)?Xf:H.current,_=Yf(e,_));var b=s.getDerivedStateFromProps,_e=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function";_e||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==o||h!==_)&&qh(e,d,o,_),$g=!1;var ft=e.memoizedState;d.state=ft,gh(e,o,d,a),h=e.memoizedState,g!==o||ft!==h||Wf.current||$g?(typeof b=="function"&&(kh(e,s,b,o),h=e.memoizedState),(g=$g||oh(e,s,g,o,ft,h,_))?(_e||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=h),d.props=o,d.state=h,d.context=_,o=g):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{d=e.stateNode,bh(i,e),g=e.memoizedProps,_=e.type===e.elementType?g:Lg(e.type,g),d.props=_,_e=e.pendingProps,ft=d.context,h=s.contextType,typeof h=="object"&&h!==null?h=Vg(h):(h=Zf(s)?Xf:H.current,h=Yf(e,h));var mt=s.getDerivedStateFromProps;(b=typeof mt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==_e||ft!==h)&&qh(e,d,o,h),$g=!1,ft=e.memoizedState,d.state=ft,gh(e,o,d,a);var lt=e.memoizedState;g!==_e||ft!==lt||Wf.current||$g?(typeof mt=="function"&&(kh(e,s,mt,o),lt=e.memoizedState),(_=$g||oh(e,s,_,o,ft,lt,h)||!1)?(b||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,lt,h),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,lt,h)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===i.memoizedProps&&ft===i.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===i.memoizedProps&&ft===i.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=lt),d.props=o,d.state=lt,d.context=h,o=_):(typeof d.componentDidUpdate!="function"||g===i.memoizedProps&&ft===i.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===i.memoizedProps&&ft===i.memoizedState||(e.flags|=1024),o=!1)}return kj(i,e,s,o,c,a)}function kj(i,e,s,o,a,c){hj(i,e);var d=(e.flags&128)!==0;if(!o&&!d)return a&&dg(e,s,!1),$i(i,e,c);o=e.stateNode,Xi.current=e;var g=d&&typeof s.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,i!==null&&d?(e.child=Bh(e,i.child,null,c),e.child=Bh(e,null,g,c)):Yi(i,e,g,c),e.memoizedState=o.state,a&&dg(e,s,!0),e.child}function lj(i){var e=i.stateNode;e.pendingContext?ag(i,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(i,e.context,!1),Ih(i,e.containerInfo)}function mj(i,e,s,o,a){return Ig(),Jg(a),e.flags|=256,Yi(i,e,s,o),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,e,s){var o=e.pendingProps,a=M.current,c=!1,d=(e.flags&128)!==0,g;if((g=d)||(g=i!==null&&i.memoizedState===null?!1:(a&2)!==0),g?(c=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(a|=1),G(M,a&1),i===null)return Eg(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(d=o.children,i=o.fallback,c?(o=e.mode,c=e.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=qj(d,o,0,null),i=Ah(i,o,s,null),c.return=e,i.return=e,c.sibling=i,e.child=c,e.child.memoizedState=oj(s),e.memoizedState=nj,i):rj(e,d));if(a=i.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return sj(i,e,d,o,g,a,s);if(c){c=o.fallback,d=e.mode,a=i.child,g=a.sibling;var h={mode:"hidden",children:o.children};return!(d&1)&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=h,e.deletions=null):(o=wh(a,h),o.subtreeFlags=a.subtreeFlags&14680064),g!==null?c=wh(g,c):(c=Ah(c,d,s,null),c.flags|=2),c.return=e,o.return=e,o.sibling=c,e.child=o,o=c,c=e.child,d=i.child.memoizedState,d=d===null?oj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=i.childLanes&~s,e.memoizedState=nj,o}return c=i.child,i=c.sibling,o=wh(c,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=s),o.return=e,o.sibling=null,i!==null&&(s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)),e.child=o,e.memoizedState=null,o}function rj(i,e){return e=qj({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function tj(i,e,s,o){return o!==null&&Jg(o),Bh(e,i.child,null,s),i=rj(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function sj(i,e,s,o,a,c,d){if(s)return e.flags&256?(e.flags&=-257,o=Li(Error(p(422))),tj(i,e,d,o)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(c=o.fallback,a=e.mode,o=qj({mode:"visible",children:o.children},a,0,null),c=Ah(c,a,d,null),c.flags|=2,o.return=e,c.return=e,o.sibling=c,e.child=o,e.mode&1&&Bh(e,i.child,null,d),e.child.memoizedState=oj(d),e.memoizedState=nj,c);if(!(e.mode&1))return tj(i,e,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var g=o.dgst;return o=g,c=Error(p(419)),o=Li(c,o,void 0),tj(i,e,d,o)}if(g=(d&i.childLanes)!==0,Ug||g){if(o=R,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,Zg(i,a),mh(o,i,a,-1))}return uj(),o=Li(Error(p(421))),tj(i,e,d,o)}return a.data==="$?"?(e.flags|=128,e.child=i.child,e=vj.bind(null,i),a._reactRetry=e,null):(i=c.treeContext,yg=Lf(a.nextSibling),xg=e,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=e),e=rj(e,o.children),e.flags|=4096,e)}function wj(i,e,s){i.lanes|=e;var o=i.alternate;o!==null&&(o.lanes|=e),Sg(i.return,e,s)}function xj(i,e,s,o,a){var c=i.memoizedState;c===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:a}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=s,c.tailMode=a)}function yj(i,e,s){var o=e.pendingProps,a=o.revealOrder,c=o.tail;if(Yi(i,e,o.children,s),o=M.current,o&2)o=o&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,s,e);else if(i.tag===19)wj(i,s,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}if(G(M,o),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(s=e.child,a=null;s!==null;)i=s.alternate,i!==null&&Mh(i)===null&&(a=s),s=s.sibling;s=a,s===null?(a=e.child,e.child=null):(a=s.sibling,s.sibling=null),xj(e,!1,a,s,c);break;case"backwards":for(s=null,a=e.child,e.child=null;a!==null;){if(i=a.alternate,i!==null&&Mh(i)===null){e.child=a;break}i=a.sibling,a.sibling=s,s=a,a=i}xj(e,!0,s,null,c);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function $i(i,e,s){if(i!==null&&(e.dependencies=i.dependencies),hh|=e.lanes,!(s&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(p(153));if(e.child!==null){for(i=e.child,s=wh(i,i.pendingProps),e.child=s,s.return=e;i.sibling!==null;)i=i.sibling,s=s.sibling=wh(i,i.pendingProps),s.return=e;s.sibling=null}return e.child}function zj(i,e,s){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;G(Mg,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(G(M,M.current&1),e.flags|=128,null):s&e.child.childLanes?pj(i,e,s):(G(M,M.current&1),i=$i(i,e,s),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(o=(s&e.childLanes)!==0,i.flags&128){if(o)return yj(i,e,s);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(M,M.current),o)break;return null;case 22:case 23:return e.lanes=0,ej(i,e,s)}return $i(i,e,s)}var Aj,Bj,Cj,Dj;Aj=function(i,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(i,e,s,o){var a=i.memoizedProps;if(a!==o){i=e.stateNode,Hh(Eh.current);var c=null;switch(s){case"input":a=Ya(i,a),o=Ya(i,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(i,a),o=gb(i,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(i.onclick=Bf)}ub(s,o);var d;s=null;for(_ in a)if(!o.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var g=a[_];for(d in g)g.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in o){var h=o[_];if(g=a!=null?a[_]:void 0,o.hasOwnProperty(_)&&h!==g&&(h!=null||g!=null))if(_==="style")if(g){for(d in g)!g.hasOwnProperty(d)||h&&h.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in h)h.hasOwnProperty(d)&&g[d]!==h[d]&&(s||(s={}),s[d]=h[d])}else s||(c||(c=[]),c.push(_,s)),s=h;else _==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,g=g?g.__html:void 0,h!=null&&g!==h&&(c=c||[]).push(_,h)):_==="children"?typeof h!="string"&&typeof h!="number"||(c=c||[]).push(_,""+h):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_)?(h!=null&&_==="onScroll"&&D("scroll",i),c||g===h||(c=[])):(c=c||[]).push(_,h))}s&&(c=c||[]).push("style",s);var _=c;(e.updateQueue=_)&&(e.flags|=4)}};Dj=function(i,e,s,o){s!==o&&(e.flags|=4)};function Ej(i,e){if(!I)switch(i.tailMode){case"hidden":e=i.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function S(i){var e=i.alternate!==null&&i.alternate.child===i.child,s=0,o=0;if(e)for(var a=i.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=i,a=a.sibling;else for(a=i.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=i,a=a.sibling;return i.subtreeFlags|=o,i.childLanes=s,e}function Fj(i,e,s){var o=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return o=e.stateNode,Jh(),E(Wf),E(H),Oh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gg(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,e),S(e),null;case 5:Lh(e);var a=Hh(Gh.current);if(s=e.type,i!==null&&e.stateNode!=null)Cj(i,e,s,o,a),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(p(166));return S(e),null}if(i=Hh(Eh.current),Gg(e)){o=e.stateNode,s=e.type;var c=e.memoizedProps;switch(o[Of]=e,o[Pf]=c,i=(e.mode&1)!==0,s){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,c),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D("invalid",o);break;case"textarea":hb(o,c),D("invalid",o)}ub(s,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var g=c[d];d==="children"?typeof g=="string"?o.textContent!==g&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,g,i),a=["children",g]):typeof g=="number"&&o.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,g,i),a=["children",""+g]):ea.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&D("scroll",o)}switch(s){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof o.is=="string"?i=d.createElement(s,{is:o.is}):(i=d.createElement(s),s==="select"&&(d=i,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):i=d.createElementNS(i,s),i[Of]=e,i[Pf]=o,Aj(i,e,!1,!1),e.stateNode=i;e:{switch(d=vb(s,o),s){case"dialog":D("cancel",i),D("close",i),a=o;break;case"iframe":case"object":case"embed":D("load",i),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],i);a=o;break;case"source":D("error",i),a=o;break;case"img":case"image":case"link":D("error",i),D("load",i),a=o;break;case"details":D("toggle",i),a=o;break;case"input":Za(i,o),a=Ya(i,o),D("invalid",i);break;case"option":a=o;break;case"select":i._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,o),a=gb(i,o),D("invalid",i);break;default:a=o}ub(s,a),g=a;for(c in g)if(g.hasOwnProperty(c)){var h=g[c];c==="style"?sb(i,h):c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&nb(i,h)):c==="children"?typeof h=="string"?(s!=="textarea"||h!=="")&&ob(i,h):typeof h=="number"&&ob(i,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?h!=null&&c==="onScroll"&&D("scroll",i):h!=null&&ta(i,c,h,d))}switch(s){case"input":Va(i),db(i,o,!1);break;case"textarea":Va(i),jb(i);break;case"option":o.value!=null&&i.setAttribute("value",""+Sa(o.value));break;case"select":i.multiple=!!o.multiple,c=o.value,c!=null?fb(i,!!o.multiple,c,!1):o.defaultValue!=null&&fb(i,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(i&&e.stateNode!=null)Dj(i,e,i.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(p(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(o=e.stateNode,s=e.memoizedProps,o[Of]=e,(c=o.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(o.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(i.mode&1)!==0)}c&&(e.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=e,e.stateNode=o}return S(e),null;case 13:if(E(M),o=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,c=!1;else if(c=Gg(e),o!==null&&o.dehydrated!==null){if(i===null){if(!c)throw Error(p(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),c=!1}else zg!==null&&(Gj(zg),zg=null),c=!0;if(!c)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(o=o!==null,o!==(i!==null&&i.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return Jh(),Bj(i,e),i===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return Rg(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(M),c=e.memoizedState,c===null)return S(e),null;if(o=(e.flags&128)!==0,d=c.rendering,d===null)if(o)Ej(c,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(d=Mh(i),d!==null){for(e.flags|=128,Ej(c,!1),o=d.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=s,s=e.child;s!==null;)c=s,i=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=i,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,i=d.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(M,M.current&1|2),e.child}i=i.sibling}c.tail!==null&&B()>Hj&&(e.flags|=128,o=!0,Ej(c,!1),e.lanes=4194304)}else{if(!o)if(i=Mh(d),i!==null){if(e.flags|=128,o=!0,s=i.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Ej(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(e),null}else 2*B()-c.renderingStartTime>Hj&&s!==1073741824&&(e.flags|=128,o=!0,Ej(c,!1),e.lanes=4194304);c.isBackwards?(d.sibling=e.child,e.child=d):(s=c.last,s!==null?s.sibling=d:e.child=d,c.last=d)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=B(),e.sibling=null,s=M.current,G(M,o?s&1|2:s&1),e):(S(e),null);case 22:case 23:return Ij(),o=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?gj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Jj(i,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E(M),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,e){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(i,e,o)}else s.current=null}function Nj(i,e,s){try{s()}catch(o){W(i,e,o)}}var Oj=!1;function Pj(i,e){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,g=-1,h=-1,_=0,b=0,_e=i,ft=null;t:for(;;){for(var mt;_e!==s||a!==0&&_e.nodeType!==3||(g=d+a),_e!==c||o!==0&&_e.nodeType!==3||(h=d+o),_e.nodeType===3&&(d+=_e.nodeValue.length),(mt=_e.firstChild)!==null;)ft=_e,_e=mt;for(;;){if(_e===i)break t;if(ft===s&&++_===a&&(g=d),ft===c&&++b===o&&(h=d),(mt=_e.nextSibling)!==null)break;_e=ft,ft=_e.parentNode}_e=mt}s=g===-1||h===-1?null:{start:g,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=e;V!==null;)if(e=V,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,V=i;else for(;V!==null;){e=V;try{var lt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var at=lt.memoizedProps,ct=lt.memoizedState,et=e.stateNode,$=et.getSnapshotBeforeUpdate(e.elementType===e.type?at:Lg(e.type,at),ct);et.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var tt=e.stateNode.containerInfo;tt.nodeType===1?tt.textContent="":tt.nodeType===9&&tt.documentElement&&tt.removeChild(tt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ht){W(e,e.return,ht)}if(i=e.sibling,i!==null){i.return=e.return,V=i;break}V=e.return}return lt=Oj,Oj=!1,lt}function Qj(i,e,s){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&i)===i){var c=a.destroy;a.destroy=void 0,c!==void 0&&Nj(e,s,c)}a=a.next}while(a!==o)}}function Rj(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&i)===i){var o=s.create;s.destroy=o()}s=s.next}while(s!==e)}}function Sj(i){var e=i.ref;if(e!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof e=="function"?e(i):e.current=i}}function Tj(i){var e=i.alternate;e!==null&&(i.alternate=null,Tj(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(i,e):s.insertBefore(i,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(i,s)):(e=s,e.appendChild(i)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(o!==4&&(i=i.child,i!==null))for(Wj(i,e,s),i=i.sibling;i!==null;)Wj(i,e,s),i=i.sibling}function Xj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.insertBefore(i,e):s.appendChild(i);else if(o!==4&&(i=i.child,i!==null))for(Xj(i,e,s),i=i.sibling;i!==null;)Xj(i,e,s),i=i.sibling}var X=null,Yj=!1;function Zj(i,e,s){for(s=s.child;s!==null;)ak(i,e,s),s=s.sibling}function ak(i,e,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,e);case 6:var o=X,a=Yj;X=null,Zj(i,e,s),X=o,Yj=a,X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X,s.stateNode));break;case 4:o=X,a=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(i,e,s),X=o,Yj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Nj(s,e,d),a=a.next}while(a!==o)}Zj(i,e,s);break;case 1:if(!U&&(Mj(s,e),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(g){W(s,e,g)}Zj(i,e,s);break;case 21:Zj(i,e,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Zj(i,e,s),U=o):Zj(i,e,s);break;default:Zj(i,e,s)}}function bk(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Lj),e.forEach(function(o){var a=ck.bind(null,i,o);s.has(o)||(s.add(o),o.then(a,a))})}}function dk(i,e){var s=e.deletions;if(s!==null)for(var o=0;o<s.length;o++){var a=s[o];try{var c=i,d=e,g=d;e:for(;g!==null;){switch(g.tag){case 5:X=g.stateNode,Yj=!1;break e;case 3:X=g.stateNode.containerInfo,Yj=!0;break e;case 4:X=g.stateNode.containerInfo,Yj=!0;break e}g=g.return}if(X===null)throw Error(p(160));ak(c,d,a),X=null,Yj=!1;var h=a.alternate;h!==null&&(h.return=null),a.return=null}catch(_){W(a,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,i),e=e.sibling}function ek(i,e){var s=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(e,i),fk(i),o&4){try{Qj(3,i,i.return),Rj(3,i)}catch(at){W(i,i.return,at)}try{Qj(5,i,i.return)}catch(at){W(i,i.return,at)}}break;case 1:dk(e,i),fk(i),o&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(e,i),fk(i),o&512&&s!==null&&Mj(s,s.return),i.flags&32){var a=i.stateNode;try{ob(a,"")}catch(at){W(i,i.return,at)}}if(o&4&&(a=i.stateNode,a!=null)){var c=i.memoizedProps,d=s!==null?s.memoizedProps:c,g=i.type,h=i.updateQueue;if(i.updateQueue=null,h!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(g,d);var _=vb(g,c);for(d=0;d<h.length;d+=2){var b=h[d],_e=h[d+1];b==="style"?sb(a,_e):b==="dangerouslySetInnerHTML"?nb(a,_e):b==="children"?ob(a,_e):ta(a,b,_e,_)}switch(g){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var ft=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var mt=c.value;mt!=null?fb(a,!!c.multiple,mt,!1):ft!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(at){W(i,i.return,at)}}break;case 6:if(dk(e,i),fk(i),o&4){if(i.stateNode===null)throw Error(p(162));a=i.stateNode,c=i.memoizedProps;try{a.nodeValue=c}catch(at){W(i,i.return,at)}}break;case 3:if(dk(e,i),fk(i),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(at){W(i,i.return,at)}break;case 4:dk(e,i),fk(i);break;case 13:dk(e,i),fk(i),a=i.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(gk=B())),o&4&&bk(i);break;case 22:if(b=s!==null&&s.memoizedState!==null,i.mode&1?(U=(_=U)||b,dk(e,i),U=_):dk(e,i),fk(i),o&8192){if(_=i.memoizedState!==null,(i.stateNode.isHidden=_)&&!b&&i.mode&1)for(V=i,b=i.child;b!==null;){for(_e=V=b;V!==null;){switch(ft=V,mt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Qj(4,ft,ft.return);break;case 1:Mj(ft,ft.return);var lt=ft.stateNode;if(typeof lt.componentWillUnmount=="function"){o=ft,s=ft.return;try{e=o,lt.props=e.memoizedProps,lt.state=e.memoizedState,lt.componentWillUnmount()}catch(at){W(o,s,at)}}break;case 5:Mj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){hk(_e);continue}}mt!==null?(mt.return=ft,V=mt):hk(_e)}b=b.sibling}e:for(b=null,_e=i;;){if(_e.tag===5){if(b===null){b=_e;try{a=_e.stateNode,_?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=_e.stateNode,h=_e.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null,g.style.display=rb("display",d))}catch(at){W(i,i.return,at)}}}else if(_e.tag===6){if(b===null)try{_e.stateNode.nodeValue=_?"":_e.memoizedProps}catch(at){W(i,i.return,at)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===i)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===i)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===i)break e;b===_e&&(b=null),_e=_e.return}b===_e&&(b=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:dk(e,i),fk(i),o&4&&bk(i);break;case 21:break;default:dk(e,i),fk(i)}}function fk(i){var e=i.flags;if(e&2){try{e:{for(var s=i.return;s!==null;){if(Uj(s)){var o=s;break e}s=s.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Vj(i);Xj(i,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,g=Vj(i);Wj(i,g,d);break;default:throw Error(p(161))}}catch(h){W(i,i.return,h)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function ik(i,e,s){V=i,jk(i)}function jk(i,e,s){for(var o=(i.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Kj;if(!d){var g=a.alternate,h=g!==null&&g.memoizedState!==null||U;g=Kj;var _=U;if(Kj=d,(U=h)&&!_)for(V=a;V!==null;)d=V,h=d.child,d.tag===22&&d.memoizedState!==null?kk(a):h!==null?(h.return=d,V=h):kk(a);for(;c!==null;)V=c,jk(c),c=c.sibling;V=a,Kj=g,U=_}lk(i)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):lk(i)}}function lk(i){for(;V!==null;){var e=V;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Rj(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!U)if(s===null)o.componentDidMount();else{var a=e.elementType===e.type?s.memoizedProps:Lg(e.type,s.memoizedProps);o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&ih(e,c,o);break;case 3:var d=e.updateQueue;if(d!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}ih(e,d,s)}break;case 5:var g=e.stateNode;if(s===null&&e.flags&4){s=g;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&s.focus();break;case"img":h.src&&(s.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var b=_.memoizedState;if(b!==null){var _e=b.dehydrated;_e!==null&&bd(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Sj(e)}catch(ft){W(e,e.return,ft)}}if(e===i){V=null;break}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}}function hk(i){for(;V!==null;){var e=V;if(e===i){V=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V=s;break}V=e.return}}function kk(i){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Rj(4,e)}catch(h){W(e,s,h)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(h){W(e,a,h)}}var c=e.return;try{Sj(e)}catch(h){W(e,c,h)}break;case 5:var d=e.return;try{Sj(e)}catch(h){W(e,d,h)}}}catch(h){W(e,e.return,h)}if(e===i){V=null;break}var g=e.sibling;if(g!==null){g.return=e.return,V=g;break}V=e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,e,s,o){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(i,s,o),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=s),T===4&&Dk(i,Z)),Ek(i,o),s===1&&K===0&&!(e.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,e){var s=i.callbackNode;wc(i,e);var o=uc(i,i===R?Z:0);if(o===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(e=o&-o,i.callbackPriority!==e){if(s!=null&&bc(s),e===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,i))}i.callbackPriority=e,i.callbackNode=s}}function Hk(i,e){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var s=i.callbackNode;if(Ik()&&i.callbackNode!==s)return null;var o=uc(i,i===R?Z:0);if(o===0)return null;if(o&30||o&i.expiredLanes||e)e=Jk(i,o);else{e=o;var a=K;K|=2;var c=Kk();(R!==i||Z!==e)&&(vk=null,Hj=B()+500,Lk(i,e));do try{Mk();break}catch(g){Nk(i,g)}while(!0);Qg(),nk.current=c,K=a,Y!==null?e=0:(R=null,Z=0,e=T)}if(e!==0){if(e===2&&(a=xc(i),a!==0&&(o=a,e=Ok(i,a))),e===1)throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;if(e===6)Dk(i,o);else{if(a=i.current.alternate,!(o&30)&&!Pk(a)&&(e=Jk(i,o),e===2&&(c=xc(i),c!==0&&(o=c,e=Ok(i,c))),e===1))throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;switch(i.finishedWork=a,i.finishedLanes=o,e){case 0:case 1:throw Error(p(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,o),(o&130023424)===o&&(e=gk+500-B(),10<e)){if(uc(i,0)!==0)break;if(a=i.suspendedLanes,(a&o)!==o){L(),i.pingedLanes|=i.suspendedLanes&a;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),e);break}Qk(i,uk,vk);break;case 4:if(Dk(i,o),(o&4194240)===o)break;for(e=i.eventTimes,a=-1;0<o;){var d=31-oc(o);c=1<<d,d=e[d],d>a&&(a=d),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p(329))}}}return Ek(i,B()),i.callbackNode===s?Hk.bind(null,i):null}function Ok(i,e){var s=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,e).flags|=256),i=Jk(i,e),i!==2&&(e=uk,uk=s,e!==null&&Gj(e)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var e=i;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var a=s[o],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(i,e){for(e&=~sk,e&=~rk,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var s=31-oc(e),o=1<<s;i[s]=-1,e&=~o}}function Fk(i){if(K&6)throw Error(p(327));Ik();var e=uc(i,0);if(!(e&1))return Ek(i,B()),null;var s=Jk(i,e);if(i.tag!==0&&s===2){var o=xc(i);o!==0&&(e=o,s=Ok(i,o))}if(s===1)throw s=qk,Lk(i,0),Dk(i,e),Ek(i,B()),s;if(s===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,e){var s=K;K|=1;try{return i(e)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var e=K;K|=1;var s=pk.transition,o=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=o,pk.transition=s,K=e,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,e){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(o);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=i,Y=i=wh(i.current,null),Z=gj=e,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(s=Wg[e],o=s.interleaved,o!==null){s.interleaved=null;var a=o.next,c=s.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}s.pending=o}Wg=null}return i}function Nk(i,e){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var o=N.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=e,Y=null;break}e:{var c=i,d=s.return,g=s,h=e;if(e=Z,g.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var _=h,b=g,_e=b.tag;if(!(b.mode&1)&&(_e===0||_e===11||_e===15)){var ft=b.alternate;ft?(b.updateQueue=ft.updateQueue,b.memoizedState=ft.memoizedState,b.lanes=ft.lanes):(b.updateQueue=null,b.memoizedState=null)}var mt=Vi(d);if(mt!==null){mt.flags&=-257,Wi(mt,d,g,c,e),mt.mode&1&&Ti(c,_,e),e=mt,h=_;var lt=e.updateQueue;if(lt===null){var at=new Set;at.add(h),e.updateQueue=at}else lt.add(h);break e}else{if(!(e&1)){Ti(c,_,e),uj();break e}h=Error(p(426))}}else if(I&&g.mode&1){var ct=Vi(d);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),Wi(ct,d,g,c,e),Jg(Ki(h,g));break e}}c=h=Ki(h,g),T!==4&&(T=2),tk===null?tk=[c]:tk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var et=Oi(c,h,e);fh(c,et);break e;case 1:g=h;var $=c.type,tt=c.stateNode;if(!(c.flags&128)&&(typeof $.getDerivedStateFromError=="function"||tt!==null&&typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt)))){c.flags|=65536,e&=-e,c.lanes|=e;var ht=Ri(c,g,e);fh(c,ht);break e}}c=c.return}while(c!==null)}Tk(s)}catch(rt){e=rt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,e){var s=K;K|=2;var o=Kk();(R!==i||Z!==e)&&(vk=null,Lk(i,e));do try{Uk();break}catch(a){Nk(i,a)}while(!0);if(Qg(),K=s,nk.current=o,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var e=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,e===null?Tk(i):Y=e,ok.current=null}function Tk(i){var e=i;do{var s=e.alternate;if(i=e.return,e.flags&32768){if(s=Jj(s,e),s!==null){s.flags&=32767,Y=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,e,gj),s!==null){Y=s;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=i}while(e!==null);T===0&&(T=5)}function Qk(i,e,s){var o=C,a=pk.transition;try{pk.transition=null,C=1,Xk(i,e,s,o)}finally{pk.transition=a,C=o}return null}function Xk(i,e,s,o){do Ik();while(xk!==null);if(K&6)throw Error(p(327));s=i.finishedWork;var a=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc(i,c),i===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),c=(s.flags&15990)!==0,s.subtreeFlags&15990||c){c=pk.transition,pk.transition=null;var d=C;C=1;var g=K;K|=4,ok.current=null,Pj(i,s),ek(s,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=s,ik(s),dc(),K=g,C=d,pk.transition=c}else i.current=s;if(wk&&(wk=!1,xk=i,yk=a),c=i.pendingLanes,c===0&&(Si=null),mc(s.stateNode),Ek(i,B()),e!==null)for(o=i.onRecoverableError,s=0;s<e.length;s++)a=e[s],o(a.value,{componentStack:a.stack,digest:a.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),c=i.pendingLanes,c&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),e=pk.transition,s=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var o=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=i.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var g=c.deletions;if(g!==null){for(var h=0;h<g.length;h++){var _=g[h];for(V=_;V!==null;){var b=V;switch(b.tag){case 0:case 11:case 15:Qj(8,b,c)}var _e=b.child;if(_e!==null)_e.return=b,V=_e;else for(;V!==null;){b=V;var ft=b.sibling,mt=b.return;if(Tj(b),b===_){V=null;break}if(ft!==null){ft.return=mt,V=ft;break}V=mt}}}var lt=c.alternate;if(lt!==null){var at=lt.child;if(at!==null){lt.child=null;do{var ct=at.sibling;at.sibling=null,at=ct}while(at!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Qj(9,c,c.return)}var et=c.sibling;if(et!==null){et.return=c.return,V=et;break e}V=c.return}}var $=i.current;for(V=$;V!==null;){d=V;var tt=d.child;if(d.subtreeFlags&2064&&tt!==null)tt.return=d,V=tt;else e:for(d=$;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Rj(9,g)}}catch(rt){W(g,g.return,rt)}if(g===d){V=null;break e}var ht=g.sibling;if(ht!==null){ht.return=g.return,V=ht;break e}V=g.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}o=!0}return o}finally{C=s,pk.transition=e}}return!1}function Yk(i,e,s){e=Ki(s,e),e=Oi(i,e,1),i=dh(i,e,1),e=L(),i!==null&&(Ac(i,1,e),Ek(i,e))}function W(i,e,s){if(i.tag===3)Yk(i,i,s);else for(;e!==null;){if(e.tag===3){Yk(e,i,s);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){i=Ki(s,i),i=Ri(e,i,1),e=dh(e,i,1),i=L(),e!==null&&(Ac(e,1,i),Ek(e,i));break}}e=e.return}}function Ui(i,e,s){var o=i.pingCache;o!==null&&o.delete(e),e=L(),i.pingedLanes|=i.suspendedLanes&s,R===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=s),Ek(i,e)}function Zk(i,e){e===0&&(i.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var s=L();i=Zg(i,e),i!==null&&(Ac(i,e,s),Ek(i,s))}function vj(i){var e=i.memoizedState,s=0;e!==null&&(s=e.retryLane),Zk(i,s)}function ck(i,e){var s=0;switch(i.tag){case 13:var o=i.stateNode,a=i.memoizedState;a!==null&&(s=a.retryLane);break;case 19:o=i.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(e),Zk(i,s)}var Wk;Wk=function(i,e,s){if(i!==null)if(i.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&s)&&!(e.flags&128))return Ug=!1,zj(i,e,s);Ug=!!(i.flags&131072)}else Ug=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;jj(i,e),i=e.pendingProps;var a=Yf(e,H.current);Tg(e,s),a=Xh(null,e,o,i,a,s);var c=bi();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(o)?(c=!0,cg(e)):c=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ah(e),a.updater=nh,e.stateNode=a,a._reactInternals=e,rh(e,o,i,s),e=kj(null,e,o,!0,c,s)):(e.tag=0,I&&c&&vg(e),Yi(null,e,a,s),e=e.child),e;case 16:o=e.elementType;e:{switch(jj(i,e),i=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=$k(o),i=Lg(o,i),a){case 0:e=dj(null,e,o,i,s);break e;case 1:e=ij(null,e,o,i,s);break e;case 11:e=Zi(null,e,o,i,s);break e;case 14:e=aj(null,e,o,Lg(o.type,i),s);break e}throw Error(p(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),dj(i,e,o,a,s);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),ij(i,e,o,a,s);case 3:e:{if(lj(e),i===null)throw Error(p(387));o=e.pendingProps,c=e.memoizedState,a=c.element,bh(i,e),gh(e,o,null,s);var d=e.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){a=Ki(Error(p(423)),e),e=mj(i,e,o,s,a);break e}else if(o!==a){a=Ki(Error(p(424)),e),e=mj(i,e,o,s,a);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,s=Ch(e,null,o,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===a){e=$i(i,e,s);break e}Yi(i,e,o,s)}e=e.child}return e;case 5:return Kh(e),i===null&&Eg(e),o=e.type,a=e.pendingProps,c=i!==null?i.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(e.flags|=32),hj(i,e),Yi(i,e,d,s),e.child;case 6:return i===null&&Eg(e),null;case 13:return pj(i,e,s);case 4:return Ih(e,e.stateNode.containerInfo),o=e.pendingProps,i===null?e.child=Bh(e,null,o,s):Yi(i,e,o,s),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),Zi(i,e,o,a,s);case 7:return Yi(i,e,e.pendingProps,s),e.child;case 8:return Yi(i,e,e.pendingProps.children,s),e.child;case 12:return Yi(i,e,e.pendingProps.children,s),e.child;case 10:e:{if(o=e.type._context,a=e.pendingProps,c=e.memoizedProps,d=a.value,G(Mg,o._currentValue),o._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){e=$i(i,e,s);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var g=c.dependencies;if(g!==null){d=c.child;for(var h=g.firstContext;h!==null;){if(h.context===o){if(c.tag===1){h=ch(-1,s&-s),h.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var b=_.pending;b===null?h.next=h:(h.next=b.next,b.next=h),_.pending=h}}c.lanes|=s,h=c.alternate,h!==null&&(h.lanes|=s),Sg(c.return,s,e),g.lanes|=s;break}h=h.next}}else if(c.tag===10)d=c.type===e.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=s,g=d.alternate,g!==null&&(g.lanes|=s),Sg(d,s,e),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Yi(i,e,a.children,s),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,Tg(e,s),a=Vg(a),o=o(a),e.flags|=1,Yi(i,e,o,s),e.child;case 14:return o=e.type,a=Lg(o,e.pendingProps),a=Lg(o.type,a),aj(i,e,o,a,s);case 15:return cj(i,e,e.type,e.pendingProps,s);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),jj(i,e),e.tag=1,Zf(o)?(i=!0,cg(e)):i=!1,Tg(e,s),ph(e,o,a),rh(e,o,a,s),kj(null,e,o,!0,i,s);case 19:return yj(i,e,s);case 22:return ej(i,e,s)}throw Error(p(156,e.tag))};function Gk(i,e){return ac(i,e)}function al(i,e,s,o){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,e,s,o){return new al(i,e,s,o)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,e){var s=i.alternate;return s===null?(s=Bg(i.tag,e,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=e,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function yh(i,e,s,o,a,c){var d=2;if(o=i,typeof i=="function")bj(i)&&(d=1);else if(typeof i=="string")d=5;else e:switch(i){case ya:return Ah(s.children,a,c,e);case za:d=8,a|=8;break;case Aa:return i=Bg(12,s,e,a|2),i.elementType=Aa,i.lanes=c,i;case Ea:return i=Bg(13,s,e,a),i.elementType=Ea,i.lanes=c,i;case Fa:return i=Bg(19,s,e,a),i.elementType=Fa,i.lanes=c,i;case Ia:return qj(s,a,c,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,i==null?i:typeof i,""))}return e=Bg(d,s,e,a),e.elementType=i,e.type=o,e.lanes=c,e}function Ah(i,e,s,o){return i=Bg(7,i,o,e),i.lanes=s,i}function qj(i,e,s,o){return i=Bg(22,i,o,e),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function xh(i,e,s){return i=Bg(6,i,null,e),i.lanes=s,i}function zh(i,e,s){return e=Bg(4,i.children!==null?i.children:[],i.key,e),e.lanes=s,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function bl(i,e,s,o,a){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cl(i,e,s,o,a,c,d,g,h){return i=new bl(i,e,s,g,h),e===1?(e=1,c===!0&&(e|=8)):e=0,c=Bg(3,null,null,e),i.current=c,c.stateNode=i,c.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(c),i}function dl(i,e,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:i,containerInfo:e,implementation:s}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,e)}return e}function fl(i,e,s,o,a,c,d,g,h){return i=cl(s,o,!0,i,a,c,d,g,h),i.context=el(null),s=i.current,o=L(),a=lh(s),c=ch(o,a),c.callback=e??null,dh(s,c,a),i.current.lanes=a,Ac(i,a,o),Ek(i,o),i}function gl(i,e,s,o){var a=e.current,c=L(),d=lh(a);return s=el(s),e.context===null?e.context=s:e.pendingContext=s,e=ch(c,d),e.payload={element:i},o=o===void 0?null:o,o!==null&&(e.callback=o),i=dh(a,e,d),i!==null&&(mh(i,a,d,c),eh(i,a,d)),d}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<e?s:e}}function jl(i,e){il(i,e),(i=i.alternate)&&il(i,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(p(409));gl(i,e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;Sk(function(){gl(null,i,null,null)}),e[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var e=Hc();i={blockedOn:null,target:i,priority:e};for(var s=0;s<Qc.length&&e!==0&&e<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,e,s,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var _=hl(d);c.call(_)}}var d=fl(e,o,i,0,null,!1,!1,"",ql);return i._reactRootContainer=d,i[uf]=d.current,sf(i.nodeType===8?i.parentNode:i),Sk(),d}for(;a=i.lastChild;)i.removeChild(a);if(typeof o=="function"){var g=o;o=function(){var _=hl(h);g.call(_)}}var h=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=h,i[uf]=h.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(e,h,s,o)}),h}function sl(i,e,s,o,a){var c=s._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var g=a;a=function(){var h=hl(d);g.call(h)}}gl(e,d,i,a)}else d=rl(s,e,i,a,o);return hl(d)}Ec=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc(e.pendingLanes);s!==0&&(Cc(e,s|1),Ek(e,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var o=Zg(i,1);if(o!==null){var a=L();mh(o,i,1,a)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var e=Zg(i,134217728);if(e!==null){var s=L();mh(e,i,134217728,s)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var e=lh(i),s=Zg(i,e);if(s!==null){var o=L();mh(s,i,e,o)}jl(i,e)}};Hc=function(){return C};Ic=function(i,e){var s=C;try{return C=i,e()}finally{C=s}};yb=function(i,e,s){switch(e){case"input":if(bb(i,s),e=s.name,s.type==="radio"&&e!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var o=s[e];if(o!==i&&o.form===i.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(i,s);break;case"select":e=s.value,e!=null&&fb(i,!!s.multiple,e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p(200));return dl(i,e,null,s)};reactDom_production_min.createRoot=function(i,e){if(!ol(i))throw Error(p(299));var s=!1,o="",a=ll;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=cl(i,1,!1,null,null,s,!1,o,a),i[uf]=e.current,sf(i.nodeType===8?i.parentNode:i),new ml(e)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(e),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,e,s){if(!pl(e))throw Error(p(200));return sl(null,i,e,!0,s)};reactDom_production_min.hydrateRoot=function(i,e,s){if(!ol(i))throw Error(p(405));var o=s!=null&&s.hydratedSources||null,a=!1,c="",d=ll;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),e=fl(e,null,i,1,s??null,a,!1,c,d),i[uf]=e.current,sf(i),o)for(i=0;i<o.length;i++)s=o[i],a=s._getVersion,a=a(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,a]:e.mutableSourceEagerHydrationData.push(s,a);return new nl(e)};reactDom_production_min.render=function(i,e,s){if(!pl(e))throw Error(p(200));return sl(null,i,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,e,s,o){if(!pl(s))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return sl(i,e,s,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;const Container$3="_Container_1ieqh_1",Center$1="_Center_1ieqh_15",Wrapper="_Wrapper_1ieqh_31",Heading="_Heading_1ieqh_43",Subtext$1="_Subtext_1ieqh_55",style$2={Container:Container$3,Center:Center$1,Wrapper,Heading,Subtext:Subtext$1},bfmlogo="/assets/Frame-DKgDxhrh.svg",Navbar=()=>jsxRuntimeExports.jsx("nav",{className:style$2.Container,children:jsxRuntimeExports.jsx("div",{className:style$2.Center,children:jsxRuntimeExports.jsxs("div",{className:style$2.Wrapper,children:[jsxRuntimeExports.jsx("img",{src:bfmlogo,alt:"logo"}),jsxRuntimeExports.jsx("div",{className:style$2.Heading,children:"Registration"})]})})}),Container$2="_Container_xr07m_1",Center="_Center_xr07m_17",Page$2="_Page_xr07m_31",Header="_Header_xr07m_51",Subtext="_Subtext_xr07m_61",NumberField="_NumberField_xr07m_73",Btn="_Btn_xr07m_129",TextField="_TextField_xr07m_173",Label$1="_Label_xr07m_189",TextInput="_TextInput_xr07m_199",TextAreaInput="_TextAreaInput_xr07m_227",Dropdown="_Dropdown_xr07m_261",TagsContainer="_TagsContainer_xr07m_293",Tag="_Tag_xr07m_293",Remove="_Remove_xr07m_347",Image$1="_Image_xr07m_377",Resume="_Resume_xr07m_475",SocialType="_SocialType_xr07m_549",GallaryImages="_GallaryImages_xr07m_567",GallaryImage="_GallaryImage_xr07m_567",FirstImage="_FirstImage_xr07m_619",ImageButton="_ImageButton_xr07m_629",VideoButton="_VideoButton_xr07m_663",videoContainer="_videoContainer_xr07m_697",PlayButton="_PlayButton_xr07m_719",CheckBox="_CheckBox_xr07m_749",SuggestionContainer="_SuggestionContainer_xr07m_815",Suggestion="_Suggestion_xr07m_815",style$1={Container:Container$2,Center,Page:Page$2,Header,Subtext,NumberField,Btn,"otp-container":"_otp-container_xr07m_137","otp-input":"_otp-input_xr07m_145",TextField,Label:Label$1,TextInput,TextAreaInput,Dropdown,TagsContainer,Tag,Remove,Image:Image$1,Resume,SocialType,GallaryImages,GallaryImage,FirstImage,ImageButton,VideoButton,videoContainer,PlayButton,CheckBox,SuggestionContainer,Suggestion};var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(o,a,c,d,g,h){if(h!==ReactPropTypesSecret){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function e(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$1=["attr","size","title"];function _objectWithoutProperties(i,e){if(i==null)return{};var s=_objectWithoutPropertiesLoose$1(i,e),o,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(a=0;a<c.length;a++)o=c[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(s[o]=i[o])}return s}function _objectWithoutPropertiesLoose$1(i,e){if(i==null)return{};var s={},o=Object.keys(i),a,c;for(c=0;c<o.length;c++)a=o[c],!(e.indexOf(a)>=0)&&(s[a]=i[a]);return s}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$3.apply(this,arguments)}function ownKeys(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(s),!0).forEach(function(o){_defineProperty(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}function _defineProperty(i,e,s){return e=_toPropertyKey(e),e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}function _toPropertyKey(i){var e=_toPrimitive(i,"string");return typeof e=="symbol"?e:String(e)}function _toPrimitive(i,e){if(typeof i!="object"||i===null)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var o=s.call(i,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Tree2Element(i){return i&&i.map((e,s)=>React.createElement(e.tag,_objectSpread({key:s},e.attr),Tree2Element(e.child)))}function GenIcon(i){return e=>React.createElement(IconBase,_extends$3({attr:_objectSpread({},i.attr)},e),Tree2Element(i.child))}function IconBase(i){var e=s=>{var{attr:o,size:a,title:c}=i,d=_objectWithoutProperties(i,_excluded$1),g=a||s.size||"1em",h;return s.className&&(h=s.className),i.className&&(h=(h?h+" ":"")+i.className),React.createElement("svg",_extends$3({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,o,d,{className:h,style:_objectSpread(_objectSpread({color:i.color||s.color},s.style),i.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),c&&React.createElement("title",null,c),i.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,s=>e(s)):e(DefaultContext)}function IoAdd(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(i)}function IoCameraOutline(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m350.54 148.68-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 0 0-32 32v192a32 32 0 0 0 32 32h352a32 32 0 0 0 32-32V192a32 32 0 0 0-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"272",r:"80",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M124 158v-22h-24v22"},child:[]}]})(i)}function IoCheckmarkCircleSharp(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-38 312.38-80.6-89.57 23.79-21.41 56 62.22L350 153.46 374.54 174z"},child:[]}]})(i)}const Container$1="_Container_gqo0b_1",Numbers="_Numbers_gqo0b_15",ActiveIndex="_ActiveIndex_gqo0b_37",Index="_Index_gqo0b_53",Steps="_Steps_gqo0b_67",Text="_Text_gqo0b_87",Check="_Check_gqo0b_95",UnvisitedIndex="_UnvisitedIndex_gqo0b_103",style={Container:Container$1,Numbers,ActiveIndex,Index,Steps,Text,Check,UnvisitedIndex},Bread=({page:i,setPage:e})=>{const s=[{title:"Verify Yourself",onClick:null},{title:"Personal Information",onClick:()=>i>2?(e(2),!0):!1},{title:"Professional Information",onClick:()=>i>3?(e(3),!0):!1},{title:"Show Your Work",onClick:null}];return jsxRuntimeExports.jsxs("div",{className:style.Container,children:[jsxRuntimeExports.jsx("div",{className:style.Numbers,children:s.map((o,a)=>jsxRuntimeExports.jsx("div",{onClick:o.onClick,className:i===a+1?style.ActiveIndex:style.Index,style:{cursor:o.onClick?"pointer":"default"},children:i<=a+1?jsxRuntimeExports.jsx("div",{className:style.UnvisitedIndex,children:a+1}):jsxRuntimeExports.jsx(IoCheckmarkCircleSharp,{size:27,color:"rgba(74, 222, 128, 1)"})},a))}),jsxRuntimeExports.jsx("div",{className:style.Steps,children:s.map((o,a)=>jsxRuntimeExports.jsx("div",{onClick:o.onClick,className:style.Text,style:{cursor:o.onClick?"pointer":"default"},children:o.title},a))})]})};Bread.propTypes={page:PropTypes.number.isRequired,setPage:PropTypes.func.isRequired};const Container="_Container_rqo2v_1",containerStyle="_containerStyle_rqo2v_13",Label="_Label_rqo2v_25",inputStyle="_inputStyle_rqo2v_33",Resend="_Resend_rqo2v_71",Otp_module={Container,containerStyle,Label,inputStyle,Resend};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(i){const e=[];let s=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?e[s++]=a:a<2048?(e[s++]=a>>6|192,e[s++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),e[s++]=a>>18|240,e[s++]=a>>12&63|128,e[s++]=a>>6&63|128,e[s++]=a&63|128):(e[s++]=a>>12|224,e[s++]=a>>6&63|128,e[s++]=a&63|128)}return e},byteArrayToString=function(i){const e=[];let s=0,o=0;for(;s<i.length;){const a=i[s++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[s++];e[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[s++],d=i[s++],g=i[s++],h=((a&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[o++]=String.fromCharCode(55296+(h>>10)),e[o++]=String.fromCharCode(56320+(h&1023))}else{const c=i[s++],d=i[s++];e[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,g=d?i[a+1]:0,h=a+2<i.length,_=h?i[a+2]:0,b=c>>2,_e=(c&3)<<4|g>>4;let ft=(g&15)<<2|_>>6,mt=_&63;h||(mt=64,d||(ft=64)),o.push(s[b],s[_e],s[ft],s[mt])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(stringToByteArray$1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):byteArrayToString(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=s[i.charAt(a++)],g=a<i.length?s[i.charAt(a)]:0;++a;const _=a<i.length?s[i.charAt(a)]:64;++a;const _e=a<i.length?s[i.charAt(a)]:64;if(++a,c==null||g==null||_==null||_e==null)throw Error();const ft=c<<2|g>>4;if(o.push(ft),_!==64){const mt=g<<4&240|_>>2;if(o.push(mt),_e!==64){const lt=_<<6&192|_e;o.push(lt)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},base64Encode=function(i){const e=stringToByteArray$1(i);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(i){return base64Encode(i).replace(/\./g,"")},base64Decode=function(i){try{return base64.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const i=getUA();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function isIndexedDBAvailable(){return typeof indexedDB=="object"}function validateIndexedDBOpenable(){return new Promise((i,e)=>{try{let s=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),s||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{s=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(s){e(s)}})}function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const i=define_process_env_default.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&base64Decode(i[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},getDefaultEmulatorHost=i=>{var e,s;return(s=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[i]},getDefaultAppConfig=()=>{var i;return(i=getDefaults())===null||i===void 0?void 0:i.config},getExperimentalSetting=i=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,o)=>{s?this.reject(s):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,o))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,s,o){super(s),this.code=e,this.customData=o,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,s,o){this.service=e,this.serviceName=s,this.errors=o}create(e,...s){const o=s[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?replaceTemplate(c,o):"Error",g=`${this.serviceName}: ${d} (${a}).`;return new FirebaseError(a,g,o)}}function replaceTemplate(i,e){return i.replace(PATTERN,(s,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function deepEqual(i,e){if(i===e)return!0;const s=Object.keys(i),o=Object.keys(e);for(const a of s){if(!o.includes(a))return!1;const c=i[a],d=e[a];if(isObject$1(c)&&isObject$1(d)){if(!deepEqual(c,d))return!1}else if(c!==d)return!1}for(const a of o)if(!s.includes(a))return!1;return!0}function isObject$1(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(i){const e=[];for(const[s,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function querystringDecode(i){const e={};return i.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[a,c]=o.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function extractQuerystring(i){const e=i.indexOf("?");if(!e)return"";const s=i.indexOf("#",e);return i.substring(e,s>0?s:void 0)}function createSubscribe(i,e){const s=new ObserverProxy(i,e);return s.subscribe.bind(s)}class ObserverProxy{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,o){let a;if(e===void 0&&s===void 0&&o===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?a=e:a={next:e,error:s,complete:o},a.next===void 0&&(a.next=noop$1),a.error===void 0&&(a.error=noop$1),a.complete===void 0&&(a.complete=noop$1);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function noop$1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(i){return i&&i._delegate?i._delegate:i}class Component{constructor(e,s,o){this.name=e,this.instanceFactory=s,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const o=new Deferred;if(this.instancesDeferred.set(s,o),this.isInitialized(s)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:s});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:s});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&d.resolve(a)}return a}onInit(e,s){var o;const a=this.normalizeInstanceIdentifier(s),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,s){const o=this.onInitCallbacks.get(s);if(o)for(const a of o)try{a(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:s}),this.instances.set(e,o),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(i){return i===DEFAULT_ENTRY_NAME$1?void 0:i}function isComponentEager(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new Provider(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(i,e,...s)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),a=ConsoleMethod[e];if(a)console[a](`[${o}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(i,e)=>e.some(s=>i instanceof s);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(i){const e=new Promise((s,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{s(wrap(i.result)),a()},d=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(s=>{s instanceof IDBCursor&&cursorRequestMap.set(s,i)}).catch(()=>{}),reverseTransformCache.set(e,i),e}function cacheDonePromiseForTransaction(i){if(transactionDoneMap.has(i))return;const e=new Promise((s,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{s(),a()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});transactionDoneMap.set(i,e)}let idbProxyTraps={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(i);if(e==="objectStoreNames")return i.objectStoreNames||transactionStoreNamesMap.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return wrap(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function replaceTraps(i){idbProxyTraps=i(idbProxyTraps)}function wrapFunction(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const o=i.call(unwrap(this),e,...s);return transactionStoreNamesMap.set(o,e.sort?e.sort():[e]),wrap(o)}:getCursorAdvanceMethods().includes(i)?function(...e){return i.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(i.apply(unwrap(this),e))}}function transformCachableValue(i){return typeof i=="function"?wrapFunction(i):(i instanceof IDBTransaction&&cacheDonePromiseForTransaction(i),instanceOfAny(i,getIdbProxyableTypes())?new Proxy(i,idbProxyTraps):i)}function wrap(i){if(i instanceof IDBRequest)return promisifyRequest(i);if(transformCache.has(i))return transformCache.get(i);const e=transformCachableValue(i);return e!==i&&(transformCache.set(i,e),reverseTransformCache.set(e,i)),e}const unwrap=i=>reverseTransformCache.get(i);function openDB(i,e,{blocked:s,upgrade:o,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),g=wrap(d);return o&&d.addEventListener("upgradeneeded",h=>{o(wrap(d.result),h.oldVersion,h.newVersion,wrap(d.transaction))}),s&&d.addEventListener("blocked",()=>s()),g.then(h=>{c&&h.addEventListener("close",()=>c()),a&&h.addEventListener("versionchange",()=>a())}).catch(()=>{}),g}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const s=e.replace(/FromIndex$/,""),o=e!==s,a=writeMethods.includes(s);if(!(s in(o?IDBIndex:IDBObjectStore).prototype)||!(a||readMethods.includes(s)))return;const c=async function(d,...g){const h=this.transaction(d,a?"readwrite":"readonly");let _=h.store;return o&&(_=_.index(g.shift())),(await Promise.all([_[s](...g),a&&h.done]))[0]};return cachedMethods.set(e,c),c}replaceTraps(i=>({...i,get:(e,s,o)=>getMethod(e,s)||i.get(e,s,o),has:(e,s)=>!!getMethod(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(isVersionServiceProvider(s)){const o=s.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(s=>s).join(" ")}}function isVersionServiceProvider(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$2="9.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(i,e){try{i.container.addComponent(e)}catch(s){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function _registerComponent(i){const e=i.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,i);for(const s of _apps.values())_addComponent(s,i);return!0}function _getProvider(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,s,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$2;function initializeApp(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),a=o.name;if(typeof a!="string"||!a)throw ERROR_FACTORY.create("bad-app-name",{appName:String(a)});if(s||(s=getDefaultAppConfig()),!s)throw ERROR_FACTORY.create("no-options");const c=_apps.get(a);if(c){if(deepEqual(s,c.options)&&deepEqual(o,c.config))return c;throw ERROR_FACTORY.create("duplicate-app",{appName:a})}const d=new ComponentContainer(a);for(const h of _components.values())d.addComponent(h);const g=new FirebaseAppImpl(s,o,d);return _apps.set(a,g),g}function getApp(i=DEFAULT_ENTRY_NAME){const e=_apps.get(i);if(!e&&i===DEFAULT_ENTRY_NAME)return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:i});return e}function registerVersion(i,e,s){var o;let a=(o=PLATFORM_LOG_STRING[i])!==null&&o!==void 0?o:i;s&&(a+=`-${s}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${a}" with version "${e}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(g.join(" "));return}_registerComponent(new Component(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(STORE_NAME)}}}).catch(i=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:i.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(i){var e;try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(i))}catch(s){if(s instanceof FirebaseError)logger.warn(s.message);else{const o=ERROR_FACTORY.create("idb-get",{originalErrorMessage:(e=s)===null||e===void 0?void 0:e.message});logger.warn(o.message)}}}async function writeHeartbeatsToIndexedDB(i,e){var s;try{const a=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await a.objectStore(STORE_NAME).put(e,computeKey(i)),a.done}catch(o){if(o instanceof FirebaseError)logger.warn(o.message);else{const a=ERROR_FACTORY.create("idb-set",{originalErrorMessage:(s=o)===null||s===void 0?void 0:s.message});logger.warn(a.message)}}}function computeKey(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(s),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:s,unsentEntries:o}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),a=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(i,e=MAX_HEADER_BYTES){const s=[];let o=i.slice();for(const a of i){const c=s.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),countBytes(s)>e){c.dates.pop();break}}else if(s.push({agent:a.agent,dates:[a.date]}),countBytes(s)>e){s.pop();break}o=o.slice(1)}return{heartbeatsToSend:s,unsentEntries:o}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function countBytes(i){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(i){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,i),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$1="firebase",version$1="9.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");function __rest$2(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(s[o[a]]=i[o[a]]);return s}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logError(i,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(i,...e){throw createErrorInternal(i,...e)}function _createError(i,...e){return createErrorInternal(i,...e)}function _errorWithCustomMessage(i,e,s){const o=Object.assign(Object.assign({},prodErrorMap()),{[e]:s});return new ErrorFactory("auth","Firebase",o).create(e,{appName:i.name})}function _assertInstanceOf(i,e,s){const o=s;if(!(e instanceof o))throw o.name!==e.constructor.name&&_fail(i,"argument-error"),_errorWithCustomMessage(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(i,...e){if(typeof i!="string"){const s=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=i.name),i._errorFactory.create(s,...o)}return _DEFAULT_AUTH_ERROR_FACTORY.create(i,...e)}function _assert(i,e,...s){if(!i)throw createErrorInternal(e,...s)}function debugFail(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _logError(e),new Error(e)}function debugAssert(i,e){i||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(i){debugAssert(i instanceof Function,"Expected a class definition");let e=instanceCache.get(i);return e?(debugAssert(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,instanceCache.set(i,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(i,e){const s=_getProvider(i,"auth");if(s.isInitialized()){const a=s.getImmediate(),c=s.getOptions();if(deepEqual(c,e??{}))return a;_fail(a,"already-initialized")}return s.initialize({options:e})}function _initializeAuthInstance(i,e){const s=(e==null?void 0:e.persistence)||[],o=(Array.isArray(s)?s:[s]).map(_getInstance);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(o,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,s){this.shortDelay=e,this.longDelay=s,debugAssert(s>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(i,e){debugAssert(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,s,o){this.fetchImpl=e,s&&(this.headersImpl=s),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function _performApiRequest(i,e,s,o,a={}){return _performFetchWithErrorHandling(i,a,async()=>{let c={},d={};o&&(e==="GET"?d=o:c={body:JSON.stringify(o)});const g=querystring(Object.assign({key:i.config.apiKey},d)).slice(1),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode),FetchProvider.fetch()(_getFinalTarget(i,i.config.apiHost,s,g),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},c))})}async function _performFetchWithErrorHandling(i,e,s){i._canInitEmulator=!1;const o=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const a=new NetworkTimeout(i),c=await Promise.race([s(),a.promise]);a.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw _makeTaggedError(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[h,_]=g.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(i,"credential-already-in-use",d);if(h==="EMAIL_EXISTS")throw _makeTaggedError(i,"email-already-in-use",d);if(h==="USER_DISABLED")throw _makeTaggedError(i,"user-disabled",d);const b=o[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw _errorWithCustomMessage(i,b,_);_fail(i,b)}}catch(a){if(a instanceof FirebaseError)throw a;_fail(i,"network-request-failed")}}async function _performSignInRequest(i,e,s,o,a={}){const c=await _performApiRequest(i,e,s,o,a);return"mfaPendingCredential"in c&&_fail(i,"multi-factor-auth-required",{_serverResponse:c}),c}function _getFinalTarget(i,e,s,o){const a=`${e}${s}?${o}`;return i.config.emulator?_emulatorUrl(i.config,a):`${i.config.apiScheme}://${a}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,o)=>{this.timer=setTimeout(()=>o(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(i,e,s){const o={appName:i.name};s.email&&(o.email=s.email),s.phoneNumber&&(o.phoneNumber=s.phoneNumber);const a=_createError(i,e,o);return a.customData._tokenResponse=s,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(i,e){return _performApiRequest(i,"POST","/v1/accounts:delete",e)}async function getAccountInfo(i,e){return _performApiRequest(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(i,e=!1){const s=getModularInstance(i),o=await s.getIdToken(e),a=_parseToken(o);_assert(a&&a.exp&&a.auth_time&&a.iat,s.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:a,token:o,authTime:utcTimestampToDateString(secondsStringToMilliseconds(a.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(a.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(a.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function secondsStringToMilliseconds(i){return Number(i)*1e3}function _parseToken(i){var e;const[s,o,a]=i.split(".");if(s===void 0||o===void 0||a===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const c=base64Decode(o);return c?JSON.parse(c):(_logError("Failed to decode base64 JWT payload"),null)}catch(c){return _logError("Caught error parsing JWT payload as JSON",(e=c)===null||e===void 0?void 0:e.toString()),null}}function _tokenExpiresIn(i){const e=_parseToken(i);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(i,e,s=!1){if(s)return e;try{return await e}catch(o){throw o instanceof FirebaseError&&isUserInvalidated(o)&&i.auth.currentUser===i&&await i.auth.signOut(),o}}function isUserInvalidated({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const a=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(s){((e=s)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(i){var e;const s=i.auth,o=await i.getIdToken(),a=await _logoutIfInvalidated(i,getAccountInfo(s,{idToken:o}));_assert(a==null?void 0:a.users.length,s,"internal-error");const c=a.users[0];i._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(c.providerUserInfo):[],g=mergeProviderData(i.providerData,d),h=i.isAnonymous,_=!(i.email&&c.passwordHash)&&!(g!=null&&g.length),b=h?_:!1,_e={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new UserMetadata(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(i,_e)}async function reload(i){const e=getModularInstance(i);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(i,e){return[...i.filter(o=>!e.some(a=>a.providerId===o.providerId)),...e]}function extractProviderData(i){return i.map(e=>{var{providerId:s}=e,o=__rest$2(e,["providerId"]);return{providerId:s,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(i,e){const s=await _performFetchWithErrorHandling(i,{},async()=>{const o=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=i.config,d=_getFinalTarget(i,a,"/v1/token",`key=${c}`),g=await i._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(d,{method:"POST",headers:g,body:o})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}async getToken(e,s=!1){return _assert(!this.accessToken||this.refreshToken,e,"user-token-expired"),!s&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:o,refreshToken:a,expiresIn:c}=await requestStsToken(e,s);this.updateTokensAndExpiration(o,a,Number(c))}updateTokensAndExpiration(e,s,o){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,s){const{refreshToken:o,accessToken:a,expirationTime:c}=s,d=new StsTokenManager;return o&&(_assert(typeof o=="string","internal-error",{appName:e}),d.refreshToken=o),a&&(_assert(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),c&&(_assert(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(i,e){_assert(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:s,auth:o,stsTokenManager:a}=e,c=__rest$2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=o,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new UserMetadata(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const s=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),s&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var o,a,c,d,g,h,_,b;const _e=(o=s.displayName)!==null&&o!==void 0?o:void 0,ft=(a=s.email)!==null&&a!==void 0?a:void 0,mt=(c=s.phoneNumber)!==null&&c!==void 0?c:void 0,lt=(d=s.photoURL)!==null&&d!==void 0?d:void 0,at=(g=s.tenantId)!==null&&g!==void 0?g:void 0,ct=(h=s._redirectEventId)!==null&&h!==void 0?h:void 0,et=(_=s.createdAt)!==null&&_!==void 0?_:void 0,$=(b=s.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:tt,emailVerified:ht,isAnonymous:rt,providerData:dt,stsTokenManager:xt}=s;_assert(tt&&xt,e,"internal-error");const pt=StsTokenManager.fromJSON(this.name,xt);_assert(typeof tt=="string",e,"internal-error"),assertStringOrUndefined(_e,e.name),assertStringOrUndefined(ft,e.name),_assert(typeof ht=="boolean",e,"internal-error"),_assert(typeof rt=="boolean",e,"internal-error"),assertStringOrUndefined(mt,e.name),assertStringOrUndefined(lt,e.name),assertStringOrUndefined(at,e.name),assertStringOrUndefined(ct,e.name),assertStringOrUndefined(et,e.name),assertStringOrUndefined($,e.name);const it=new UserImpl({uid:tt,auth:e,email:ft,emailVerified:ht,displayName:_e,isAnonymous:rt,photoURL:lt,phoneNumber:mt,tenantId:at,stsTokenManager:pt,createdAt:et,lastLoginAt:$});return dt&&Array.isArray(dt)&&(it.providerData=dt.map(St=>Object.assign({},St))),ct&&(it._redirectEventId=ct),it}static async _fromIdTokenResponse(e,s,o=!1){const a=new StsTokenManager;a.updateFromServerResponse(s);const c=new UserImpl({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o});return await _reloadWithoutSaving(c),c}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(i,e,s){return`firebase:${i}:${e}:${s}`}class PersistenceUserManager{constructor(e,s,o){this.persistence=e,this.auth=s,this.userKey=o;const{config:a,name:c}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,a.apiKey,c),this.fullPersistenceKey=_persistenceKeyName("persistence",a.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,o="authUser"){if(!s.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,o);const a=(await Promise.all(s.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=a[0]||_getInstance(inMemoryPersistence);const d=_persistenceKeyName(o,e.config.apiKey,e.name);let g=null;for(const _ of s)try{const b=await _._get(d);if(b){const _e=UserImpl._fromJSON(e,b);_!==c&&(g=_e),c=_;break}}catch{}const h=a.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!h.length?new PersistenceUserManager(c,e,o):(c=h[0],g&&await c._set(d,g.toJSON()),await Promise.all(s.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new PersistenceUserManager(c,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=i.match(s);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function _isFirefox(i=getUA()){return/firefox\//i.test(i)}function _isSafari(i=getUA()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(i=getUA()){return/crios\//i.test(i)}function _isIEMobile(i=getUA()){return/iemobile/i.test(i)}function _isAndroid(i=getUA()){return/android/i.test(i)}function _isBlackBerry(i=getUA()){return/blackberry/i.test(i)}function _isWebOS(i=getUA()){return/webos/i.test(i)}function _isIOS(i=getUA()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function _isIOSStandalone(i=getUA()){var e;return _isIOS(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(i=getUA()){return _isIOS(i)||_isAndroid(i)||_isWebOS(i)||_isBlackBerry(i)||/windows phone/i.test(i)||_isIEMobile(i)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(i,e=[]){let s;switch(i){case"Browser":s=_getBrowserName(getUA());break;case"Worker":s=`${_getBrowserName(getUA())}-${i}`;break;default:s=i}const o=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${SDK_VERSION}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const o=c=>new Promise((d,g)=>{try{const h=e(c);d(h)}catch(h){g(h)}});o.onAbort=s,this.queue.push(o);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){var s;if(this.auth.currentUser===e)return;const o=[];try{for(const a of this.queue)await a(e),a.onAbort&&o.push(a.onAbort)}catch(a){o.reverse();for(const c of o)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(s=a)===null||s===void 0?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,s,o){this.app=e,this.heartbeatServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=_getInstance(s)),this._initializationPromise=this.queue(async()=>{var o,a;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var s;const o=await this.assertedPersistence.getCurrentUser();let a=o,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,g=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!d||d===g)&&(h!=null&&h.user)&&(a=h.user,c=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){var s;try{await _reloadWithoutSaving(e)}catch(o){if(((s=o)===null||s===void 0?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const s=e?getModularInstance(e):null;return s&&_assert(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,s,o){return this.registerStateListener(this.authStateSubscription,e,s,o)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,o){return this.registerStateListener(this.idTokenSubscription,e,s,o)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const o=await this.getOrInitRedirectPersistenceManager(s);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&_getInstance(e)||this._popupRedirectResolver;_assert(s,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,o;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,o,a){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s),d=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(d,this,"internal-error"),d.then(()=>c(this.currentUser)),typeof s=="function"?e.addObserver(s,o,a):e.addObserver(s)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const o=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return o&&(s["X-Firebase-Client"]=o),s}}function _castAuth(i){return getModularInstance(i)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(s=>this.observer=s)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function connectAuthEmulator(i,e,s){const o=_castAuth(i);_assert(o._canInitEmulator,o,"emulator-config-failed"),_assert(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const a=!!(s!=null&&s.disableWarnings),c=extractProtocol(e),{host:d,port:g}=extractHostAndPort(e),h=g===null?"":`:${g}`;o.config.emulator={url:`${c}//${d}${h}/`},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||emitEmulatorWarning()}function extractProtocol(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function extractHostAndPort(i){const e=extractProtocol(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const o=s[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(o);if(a){const c=a[1];return{host:c,port:parsePort(o.substr(c.length+1))}}else{const[c,d]=o.split(":");return{host:c,port:parsePort(d)}}}function parsePort(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function emitEmulatorWarning(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,s){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function updateEmailPassword(i,e){return _performApiRequest(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(i,e))}async function sendOobCode(i,e){return _performApiRequest(i,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(i,e))}async function sendSignInLinkToEmail$1(i,e){return sendOobCode(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(i,e))}async function signInWithEmailLinkForLinking(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,s,o,a=null){super("password",o),this._email=e,this._password=s,this._tenantId=a}static _fromEmailAndPassword(e,s){return new EmailAuthCredential(e,s,"password")}static _fromEmailAndCode(e,s,o=null){return new EmailAuthCredential(e,s,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return signInWithPassword(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":return updateEmailPassword(e,{idToken:s,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:s,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):_fail("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a}=s,c=__rest$2(s,["providerId","signInMethod"]);if(!o||!a)return null;const d=new OAuthCredential(o,a);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const s=this.buildRequest();return signInWithIdp(e,s)}_linkToIdToken(e,s){const o=this.buildRequest();return o.idToken=s,signInWithIdp(e,o)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,signInWithIdp(e,s)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=querystring(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(i){const e=querystringDecode(extractQuerystring(i)).link,s=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,o=querystringDecode(extractQuerystring(i)).deep_link_id;return(o?querystringDecode(extractQuerystring(o)).link:null)||o||s||e||i}class ActionCodeURL{constructor(e){var s,o,a,c,d,g;const h=querystringDecode(extractQuerystring(e)),_=(s=h.apiKey)!==null&&s!==void 0?s:null,b=(o=h.oobCode)!==null&&o!==void 0?o:null,_e=parseMode((a=h.mode)!==null&&a!==void 0?a:null);_assert(_&&b&&_e,"argument-error"),this.apiKey=_,this.operation=_e,this.code=b,this.continueUrl=(c=h.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=h.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=h.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const s=parseDeepLink(e);try{return new ActionCodeURL(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,s){return EmailAuthCredential._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const o=ActionCodeURL.parseLink(s);return _assert(o,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,o.code,o.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:o}=e;if(!s&&!o)return null;try{return GoogleAuthProvider.credential(s,o)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,s){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:o}=e;if(!s||!o)return null;try{return TwitterAuthProvider.credential(s,o)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,o,a=!1){const c=await UserImpl._fromIdTokenResponse(e,o,a),d=providerIdForResponse(o);return new UserCredentialImpl({user:c,providerId:d,_tokenResponse:o,operationType:s})}static async _forOperation(e,s,o){await e._updateTokensIfNecessary(o,!0);const a=providerIdForResponse(o);return new UserCredentialImpl({user:e,providerId:a,_tokenResponse:o,operationType:s})}}function providerIdForResponse(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,s,o,a){var c;super(s.code,s.message),this.operationType=o,this.user=a,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:s.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,s,o,a){return new MultiFactorError(e,s,o,a)}}function _processCredentialSavingMfaContextIfNecessary(i,e,s,o){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(i,c,e,o):c})}async function _link$1(i,e,s=!1){const o=await _logoutIfInvalidated(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return UserCredentialImpl._forOperation(i,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(i,e,s=!1){var o;const{auth:a}=i,c="reauthenticate";try{const d=await _logoutIfInvalidated(i,_processCredentialSavingMfaContextIfNecessary(a,c,e,i),s);_assert(d.idToken,a,"internal-error");const g=_parseToken(d.idToken);_assert(g,a,"internal-error");const{sub:h}=g;return _assert(i.uid===h,a,"user-mismatch"),UserCredentialImpl._forOperation(i,c,d)}catch(d){throw((o=d)===null||o===void 0?void 0:o.code)==="auth/user-not-found"&&_fail(a,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(i,e,s=!1){const o="signIn",a=await _processCredentialSavingMfaContextIfNecessary(i,o,e),c=await UserCredentialImpl._fromIdTokenResponse(i,o,a);return s||await i._updateCurrentUser(c.user),c}async function signInWithCredential(i,e){return _signInWithCredential(_castAuth(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _setActionCodeSettingsOnRequest(i,e,s){var o;_assert(((o=s.url)===null||o===void 0?void 0:o.length)>0,i,"invalid-continue-uri"),_assert(typeof s.dynamicLinkDomain>"u"||s.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),e.continueUrl=s.url,e.dynamicLinkDomain=s.dynamicLinkDomain,e.canHandleCodeInApp=s.handleCodeInApp,s.iOS&&(_assert(s.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=s.iOS.bundleId),s.android&&(_assert(s.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=s.android.installApp,e.androidMinimumVersionCode=s.android.minimumVersion,e.androidPackageName=s.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendSignInLinkToEmail(i,e,s){const o=getModularInstance(i),a={requestType:"EMAIL_SIGNIN",email:e};_assert(s.handleCodeInApp,o,"argument-error"),s&&_setActionCodeSettingsOnRequest(o,a,s),await sendSignInLinkToEmail$1(o,a)}async function signInWithEmailLink(i,e,s){const o=getModularInstance(i),a=EmailAuthProvider.credentialWithLink(e,s||_getCurrentUrl());return _assert(a._tenantId===(o.tenantId||null),o,"tenant-id-mismatch"),signInWithCredential(o,a)}function onIdTokenChanged(i,e,s,o){return getModularInstance(i).onIdTokenChanged(e,s,o)}function beforeAuthStateChanged(i,e,s){return getModularInstance(i).beforeAuthStateChanged(e,s)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const i=getUA();return _isSafari(i)||_isIOS(i)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const o=this.storage.getItem(s),a=this.localCache[s];o!==a&&e(s,a,o)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((d,g,h)=>{this.notifyListeners(d,h)});return}const o=e.key;if(s?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const d=this.storage.getItem(o);if(e.newValue!==d)e.newValue!==null?this.storage.setItem(o,e.newValue):this.storage.removeItem(o);else if(this.localCache[o]===e.newValue&&!s)return}const a=()=>{const d=this.storage.getItem(o);!s&&this.localCache[o]===d||this.notifyListeners(o,d)},c=this.storage.getItem(o);_isIE10()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,IE10_LOCAL_STORAGE_SYNC_DELAY):a()}notifyListeners(e,s){this.localCache[e]=s;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:o}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(a=>a.isListeningto(e));if(s)return s;const o=new Receiver(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:o,eventType:a,data:c}=s.data,d=this.handlersMap[a];if(!(d!=null&&d.size))return;s.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const g=Array.from(d).map(async _=>_(s.origin,c)),h=await _allSettled(g);s.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:h})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(i="",e=10){let s="";for(let o=0;o<e;o++)s+=Math.floor(Math.random()*10);return i+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,o=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,d;return new Promise((g,h)=>{const _=_generateEventId("",20);a.port1.start();const b=setTimeout(()=>{h(new Error("unsupported_event"))},o);d={messageChannel:a,onMessage(_e){const ft=_e;if(ft.data.eventId===_)switch(ft.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(ft.data.response);break;default:clearTimeout(b),clearTimeout(c),h(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:s},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(i){_window().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function getObjectStore(i,e){return i.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const i=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(i).toPromise()}function _openDatabase(){const i=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const o=i.result;try{o.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(a){s(a)}}),i.addEventListener("success",async()=>{const o=i.result;o.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(o):(o.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(i,e,s){const o=getObjectStore(i,!0).put({[DB_DATA_KEYPATH]:e,value:s});return new DBPromise(o).toPromise()}async function getObject(i,e){const s=getObjectStore(i,!1).get(e),o=await new DBPromise(s).toPromise();return o===void 0?null:o.value}function _deleteObject(i,e){const s=getObjectStore(i,!0).delete(e);return new DBPromise(s).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let s=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(s++>_TRANSACTION_RETRY_COUNT)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((e=o[0])===null||e===void 0)&&e.fulfilled&&!((s=o[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(o=>_putObject(o,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(o=>getObject(o,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>_deleteObject(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=getObjectStore(a,!1).getAll();return new DBPromise(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],o=new Set;for(const{fbase_key:a,value:c}of e)o.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),s.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!o.has(a)&&(this.notifyListeners(a,null),s.push(a));return s}notifyListeners(e,s){this.localCache[e]=s;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}function _loadJS(i){return new Promise((e,s)=>{const o=document.createElement("script");o.setAttribute("src",i),o.onload=e,o.onerror=a=>{const c=_createError("internal-error");c.customData=a,s(c)},o.type="text/javascript",o.charset="UTF-8",getScriptParentElement().appendChild(o)})}function _generateCallbackName(i){return`__${i}${Math.floor(Math.random()*1e6)}`}new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(i,e){return e?_getInstance(e):(_assert(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,s){return signInWithIdp(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function _signIn(i){return _signInWithCredential(i.auth,new IdpCredential(i),i.bypassAuthState)}function _reauth(i){const{auth:e,user:s}=i;return _assert(s,e,"internal-error"),_reauthenticate(s,new IdpCredential(i),i.bypassAuthState)}async function _link(i){const{auth:e,user:s}=i;return _assert(s,e,"internal-error"),_link$1(s,new IdpCredential(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,s,o,a,c=!1){this.auth=e,this.resolver=o,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:o,postBody:a,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const h={auth:this.auth,requestUri:s,sessionId:o,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(h))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(i,e,s){const o=_castAuth(i);_assertInstanceOf(i,e,FederatedAuthProvider);const a=_withDefaultResolver(o,s);return new PopupOperation(o,"signInViaPopup",e,a).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,s,o,a,c){super(e,s,a,c),this.provider=o,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,o;if(!((o=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,s,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,o),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const o=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(s){e=()=>Promise.reject(s)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(i,e){const s=pendingRedirectKey(e),o=resolverPersistence(i);if(!await o._isAvailable())return!1;const a=await o._get(s)==="true";return await o._remove(s),a}function _overrideRedirectResult(i,e){redirectOutcomeMap.set(i._key(),e)}function resolverPersistence(i){return _getInstance(i._redirectPersistence)}function pendingRedirectKey(i){return _persistenceKeyName(PENDING_REDIRECT_KEY,i.config.apiKey,i.name)}async function _getRedirectResult(i,e,s=!1){const o=_castAuth(i),a=_withDefaultResolver(o,e),d=await new RedirectAction(o,a,s).execute();return d&&!s&&(delete d.user._redirectEventId,await o._persistUserIfCurrent(d.user),await o._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(s=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var o;if(e.error&&!isNullRedirectEvent(e)){const a=((o=e.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";s.onError(_createError(this.auth,a))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const o=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(i,e={}){return _performApiRequest(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(i){if(i.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(i);for(const s of e)try{if(matchDomain(s))return}catch{}_fail(i,"unauthorized-domain")}function matchDomain(i){const e=_getCurrentUrl(),{protocol:s,hostname:o}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&o===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&d.hostname===o}if(!HTTP_REGEX.test(s))return!1;if(IP_ADDRESS_REGEX.test(i))return o===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const i=_window().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function loadGapi(i){return new Promise((e,s)=>{var o,a,c;function d(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),s(_createError(i,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((a=(o=_window().gapi)===null||o===void 0?void 0:o.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((c=_window().gapi)===null||c===void 0)&&c.load)d();else{const g=_generateCallbackName("iframefcb");return _window()[g]=()=>{gapi.load?d():s(_createError(i,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${g}`).catch(h=>s(h))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(i){return cachedGApiLoader=cachedGApiLoader||loadGapi(i),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(i){const e=i.config;_assert(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${i.config.authDomain}/${IFRAME_PATH}`,o={apiKey:e.apiKey,appName:i.name,v:SDK_VERSION},a=EID_FROM_APIHOST.get(i.config.apiHost);a&&(o.eid=a);const c=i._getFrameworks();return c.length&&(o.fw=c.join(",")),`${s}?${querystring(o).slice(1)}`}async function _openIframe(i){const e=await _loadGapi(i),s=_window().gapi;return _assert(s,i,"internal-error"),e.open({where:document.body,url:getIframeUrl(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},o=>new Promise(async(a,c)=>{await o.restyle({setHideOnLeave:!1});const d=_createError(i,"network-request-failed"),g=_window().setTimeout(()=>{c(d)},PING_TIMEOUT.get());function h(){_window().clearTimeout(g),a(o)}o.ping(h).then(h,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(i,e,s,o=DEFAULT_WIDTH,a=DEFAULT_HEIGHT){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-o)/2,0).toString();let g="";const h=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:o.toString(),height:a.toString(),top:c,left:d}),_=getUA().toLowerCase();s&&(g=_isChromeIOS(_)?TARGET_BLANK:s),_isFirefox(_)&&(e=e||FIREFOX_EMPTY_URL,h.scrollbars="yes");const b=Object.entries(h).reduce((ft,[mt,lt])=>`${ft}${mt}=${lt},`,"");if(_isIOSStandalone(_)&&g!=="_self")return openAsNewWindowIOS(e||"",g),new AuthPopup(null);const _e=window.open(e||"",g,b);_assert(_e,i,"popup-blocked");try{_e.focus()}catch{}return new AuthPopup(_e)}function openAsNewWindowIOS(i,e){const s=document.createElement("a");s.href=i,s.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(i,e,s,o,a,c){_assert(i.config.authDomain,i,"auth-domain-config-required"),_assert(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:o,v:SDK_VERSION,eventId:a};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,_]of Object.entries(c||{}))d[h]=_}if(e instanceof BaseOAuthProvider){const h=e.getScopes().filter(_=>_!=="");h.length>0&&(d.scopes=h.join(","))}i.tenantId&&(d.tid=i.tenantId);const g=d;for(const h of Object.keys(g))g[h]===void 0&&delete g[h];return`${getHandlerBase(i)}?${querystring(g).slice(1)}`}function getHandlerBase({config:i}){return i.emulator?_emulatorUrl(i,EMULATOR_WIDGET_PATH):`https://${i.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,s,o,a){var c;debugAssert((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=_getRedirectUrl(e,s,o,_getCurrentUrl(),a);return _open(e,d,_generateEventId())}async _openRedirect(e,s,o,a){return await this._originValidation(e),_setWindowLocation(_getRedirectUrl(e,s,o,_getCurrentUrl(),a)),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:a,promise:c}=this.eventManagers[s];return a?Promise.resolve(a):(debugAssert(c,"If manager is not set, promise should be"),c)}const o=this.initAndGetManager(e);return this.eventManagers[s]={promise:o},o.catch(()=>{delete this.eventManagers[s]}),o}async initAndGetManager(e){const s=await _openIframe(e),o=new AuthEventManager(e);return s.register("authEvent",a=>(_assert(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:o.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=s,o}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},a=>{var c;const d=(c=a==null?void 0:a[0])===null||c===void 0?void 0:c[WEB_STORAGE_SUPPORT_KEY];d!==void 0&&s(!!d),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=_validateOrigin(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name="@firebase/auth",version="0.20.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(o=>{var a;e(((a=o)===null||a===void 0?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(i){_registerComponent(new Component("auth",(e,{options:s})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:c,authDomain:d}=o.options;return((g,h)=>{_assert(c&&!c.includes(":"),"invalid-api-key",{appName:g.name}),_assert(!(d!=null&&d.includes(":")),"argument-error",{appName:g.name});const _={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(i)},b=new AuthImpl(g,h,_);return _initializeAuthInstance(b,s),b})(o,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,o)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const s=_castAuth(e.getProvider("auth").getImmediate());return(o=>new AuthInterop(o))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name,version,getVersionForPlatform(i)),registerVersion(name,version,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=i=>async e=>{const s=e&&await e.getIdTokenResult(),o=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(o&&o>authIdTokenMaxAge)return;const a=s==null?void 0:s.token;lastPostedIdToken!==a&&(lastPostedIdToken=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function getAuth(i=getApp()){const e=_getProvider(i,"auth");if(e.isInitialized())return e.getImmediate();const s=initializeAuth(i,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),o=getExperimentalSetting("authTokenSyncURL");if(o){const c=mintCookieFactory(o);beforeAuthStateChanged(s,c,()=>c(s.currentUser)),onIdTokenChanged(s,d=>c(d))}const a=getDefaultEmulatorHost("auth");return a&&connectAuthEmulator(s,`http://${a}`),s}registerAuth("Browser");const firebaseConfig={apiKey:"AIzaSyC1grh5x3O9oQt5Qa79sbzdeffrKL9qjko",authDomain:"bfm-location.firebaseapp.com",projectId:"bfm-location",storageBucket:"bfm-location.appspot.com",messagingSenderId:"756542061451",appId:"1:756542061451:web:ade7a95a39bef5a94bcd8e",measurementId:"G-9KH2KY1N7K"},app=initializeApp(firebaseConfig),auth=getAuth(app);function bind(i,e){return function(){return i.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(i=>e=>{const s=toString.call(e);return i[s]||(i[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=i=>(i=i.toLowerCase(),e=>kindOf(e)===i),typeOfTest=i=>e=>typeof e===i,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(i){return i!==null&&!isUndefined(i)&&i.constructor!==null&&!isUndefined(i.constructor)&&isFunction(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const isArrayBuffer$1=kindOfTest("ArrayBuffer");function isArrayBufferView(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&isArrayBuffer$1(i.buffer),e}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=i=>i!==null&&typeof i=="object",isBoolean=i=>i===!0||i===!1,isPlainObject=i=>{if(kindOf(i)!=="object")return!1;const e=getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},isDate=kindOfTest("Date"),isFile$1=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=i=>isObject(i)&&isFunction(i.pipe),isFormData=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||isFunction(i.append)&&((e=kindOf(i))==="formdata"||e==="object"&&isFunction(i.toString)&&i.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(i,e,{allOwnKeys:s=!1}={}){if(i===null||typeof i>"u")return;let o,a;if(typeof i!="object"&&(i=[i]),isArray(i))for(o=0,a=i.length;o<a;o++)e.call(null,i[o],o,i);else{const c=s?Object.getOwnPropertyNames(i):Object.keys(i),d=c.length;let g;for(o=0;o<d;o++)g=c[o],e.call(null,i[g],g,i)}}function findKey(i,e){e=e.toLowerCase();const s=Object.keys(i);let o=s.length,a;for(;o-- >0;)if(a=s[o],e===a.toLowerCase())return a;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=i=>!isUndefined(i)&&i!==_global;function merge(){const{caseless:i}=isContextDefined(this)&&this||{},e={},s=(o,a)=>{const c=i&&findKey(e,a)||a;isPlainObject(e[c])&&isPlainObject(o)?e[c]=merge(e[c],o):isPlainObject(o)?e[c]=merge({},o):isArray(o)?e[c]=o.slice():e[c]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&forEach(arguments[o],s);return e}const extend=(i,e,s,{allOwnKeys:o}={})=>(forEach(e,(a,c)=>{s&&isFunction(a)?i[c]=bind(a,s):i[c]=a},{allOwnKeys:o}),i),stripBOM=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),inherits=(i,e,s,o)=>{i.prototype=Object.create(e.prototype,o),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),s&&Object.assign(i.prototype,s)},toFlatObject=(i,e,s,o)=>{let a,c,d;const g={};if(e=e||{},i==null)return e;do{for(a=Object.getOwnPropertyNames(i),c=a.length;c-- >0;)d=a[c],(!o||o(d,i,e))&&!g[d]&&(e[d]=i[d],g[d]=!0);i=s!==!1&&getPrototypeOf(i)}while(i&&(!s||s(i,e))&&i!==Object.prototype);return e},endsWith=(i,e,s)=>{i=String(i),(s===void 0||s>i.length)&&(s=i.length),s-=e.length;const o=i.indexOf(e,s);return o!==-1&&o===s},toArray=i=>{if(!i)return null;if(isArray(i))return i;let e=i.length;if(!isNumber(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=i[e];return s},isTypedArray$1=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(i,e)=>{const o=(i&&i[Symbol.iterator]).call(i);let a;for(;(a=o.next())&&!a.done;){const c=a.value;e.call(i,c[0],c[1])}},matchAll=(i,e)=>{let s;const o=[];for(;(s=i.exec(e))!==null;)o.push(s);return o},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,a){return o.toUpperCase()+a}),hasOwnProperty=(({hasOwnProperty:i})=>(e,s)=>i.call(e,s))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(i,e)=>{const s=Object.getOwnPropertyDescriptors(i),o={};forEach(s,(a,c)=>{let d;(d=e(a,c,i))!==!1&&(o[c]=d||a)}),Object.defineProperties(i,o)},freezeMethods=i=>{reduceDescriptors(i,(e,s)=>{if(isFunction(i)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=i[s];if(isFunction(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},toObjectSet=(i,e)=>{const s={},o=a=>{a.forEach(c=>{s[c]=!0})};return isArray(i)?o(i):o(String(i).split(e)),s},noop=()=>{},toFiniteNumber=(i,e)=>(i=+i,Number.isFinite(i)?i:e),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(i=16,e=ALPHABET.ALPHA_DIGIT)=>{let s="";const{length:o}=e;for(;i--;)s+=e[Math.random()*o|0];return s};function isSpecCompliantForm(i){return!!(i&&isFunction(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const toJSONObject=i=>{const e=new Array(10),s=(o,a)=>{if(isObject(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const c=isArray(o)?[]:{};return forEach(o,(d,g)=>{const h=s(d,a+1);!isUndefined(h)&&(c[g]=h)}),e[a]=void 0,c}}return o};return s(i,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=i=>i&&(isObject(i)||isFunction(i))&&isFunction(i.then)&&isFunction(i.catch),utils$1={isArray,isArrayBuffer:isArrayBuffer$1,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean,isObject,isPlainObject,isUndefined,isDate,isFile:isFile$1,isBlob:isBlob$1,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(i,e,s,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),o&&(this.request=o),a&&(this.response=a)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{descriptors[i]={value:i}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(i,e,s,o,a,c)=>{const d=Object.create(prototype$1);return utils$1.toFlatObject(i,d,function(h){return h!==Error.prototype},g=>g!=="isAxiosError"),AxiosError.call(d,i.message,e,s,o,a),d.cause=i,d.name=i.name,c&&Object.assign(d,c),d};const httpAdapter=null;function isVisitable(i){return utils$1.isPlainObject(i)||utils$1.isArray(i)}function removeBrackets(i){return utils$1.endsWith(i,"[]")?i.slice(0,-2):i}function renderKey(i,e,s){return i?i.concat(e).map(function(a,c){return a=removeBrackets(a),!s&&c?"["+a+"]":a}).join(s?".":""):e}function isFlatArray(i){return utils$1.isArray(i)&&!i.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(i,e,s){if(!utils$1.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,s=utils$1.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(at,ct){return!utils$1.isUndefined(ct[at])});const o=s.metaTokens,a=s.visitor||b,c=s.dots,d=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(a))throw new TypeError("visitor must be a function");function _(lt){if(lt===null)return"";if(utils$1.isDate(lt))return lt.toISOString();if(!h&&utils$1.isBlob(lt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(lt)||utils$1.isTypedArray(lt)?h&&typeof Blob=="function"?new Blob([lt]):Buffer.from(lt):lt}function b(lt,at,ct){let et=lt;if(lt&&!ct&&typeof lt=="object"){if(utils$1.endsWith(at,"{}"))at=o?at:at.slice(0,-2),lt=JSON.stringify(lt);else if(utils$1.isArray(lt)&&isFlatArray(lt)||(utils$1.isFileList(lt)||utils$1.endsWith(at,"[]"))&&(et=utils$1.toArray(lt)))return at=removeBrackets(at),et.forEach(function(tt,ht){!(utils$1.isUndefined(tt)||tt===null)&&e.append(d===!0?renderKey([at],ht,c):d===null?at:at+"[]",_(tt))}),!1}return isVisitable(lt)?!0:(e.append(renderKey(ct,at,c),_(lt)),!1)}const _e=[],ft=Object.assign(predicates,{defaultVisitor:b,convertValue:_,isVisitable});function mt(lt,at){if(!utils$1.isUndefined(lt)){if(_e.indexOf(lt)!==-1)throw Error("Circular reference detected in "+at.join("."));_e.push(lt),utils$1.forEach(lt,function(et,$){(!(utils$1.isUndefined(et)||et===null)&&a.call(e,et,utils$1.isString($)?$.trim():$,at,ft))===!0&&mt(et,at?at.concat($):[$])}),_e.pop()}}if(!utils$1.isObject(i))throw new TypeError("data must be an object");return mt(i),e}function encode$1(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function AxiosURLSearchParams(i,e){this._pairs=[],i&&toFormData(i,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,s){this._pairs.push([e,s])};prototype.toString=function(e){const s=e?function(o){return e.call(this,o,encode$1)}:encode$1;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function encode(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(i,e,s){if(!e)return i;const o=s&&s.encode||encode,a=s&&s.serialize;let c;if(a?c=a(e,s):c=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,s).toString(o),c){const d=i.indexOf("#");d!==-1&&(i=i.slice(0,d)),i+=(i.indexOf("?")===-1?"?":"&")+c}return i}class InterceptorManager{constructor(){this.handlers=[]}use(e,s,o){return this.handlers.push({fulfilled:e,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(o){o!==null&&e(o)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(i=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(i)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(i,e){return toFormData(i,new platform.classes.URLSearchParams,Object.assign({visitor:function(s,o,a,c){return platform.isNode&&utils$1.isBuffer(s)?(this.append(o,s.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(i){return utils$1.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(i){const e={},s=Object.keys(i);let o;const a=s.length;let c;for(o=0;o<a;o++)c=s[o],e[c]=i[c];return e}function formDataToJSON(i){function e(s,o,a,c){let d=s[c++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),h=c>=s.length;return d=!d&&utils$1.isArray(a)?a.length:d,h?(utils$1.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!g):((!a[d]||!utils$1.isObject(a[d]))&&(a[d]=[]),e(s,o,a[d],c)&&utils$1.isArray(a[d])&&(a[d]=arrayToObject(a[d])),!g)}if(utils$1.isFormData(i)&&utils$1.isFunction(i.entries)){const s={};return utils$1.forEachEntry(i,(o,a)=>{e(parsePropPath(o),a,s,0)}),s}return null}function stringifySafely(i,e,s){if(utils$1.isString(i))try{return(e||JSON.parse)(i),utils$1.trim(i)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(i)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(e,s){const o=s.getContentType()||"",a=o.indexOf("application/json")>-1,c=utils$1.isObject(e);if(c&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return a?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let g;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((g=utils$1.isFileList(e))||o.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return toFormData(g?{"files[]":e}:e,h&&new h,this.formSerializer)}}return c||a?(s.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const s=this.transitional||defaults.transitional,o=s&&s.forcedJSONParsing,a=this.responseType==="json";if(e&&utils$1.isString(e)&&(o&&!this.responseType||a)){const d=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(g){if(d)throw g.name==="SyntaxError"?AxiosError.from(g,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):g}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],i=>{defaults.headers[i]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=i=>{const e={};let s,o,a;return i&&i.split(`
`).forEach(function(d){a=d.indexOf(":"),s=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!s||e[s]&&ignoreDuplicateOf[s])&&(s==="set-cookie"?e[s]?e[s].push(o):e[s]=[o]:e[s]=e[s]?e[s]+", "+o:o)}),e},$internals=Symbol("internals");function normalizeHeader(i){return i&&String(i).trim().toLowerCase()}function normalizeValue(i){return i===!1||i==null?i:utils$1.isArray(i)?i.map(normalizeValue):String(i)}function parseTokens(i){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(i);)e[o[1]]=o[2];return e}const isValidHeaderName=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function matchHeaderValue(i,e,s,o,a){if(utils$1.isFunction(o))return o.call(this,e,s);if(a&&(e=s),!!utils$1.isString(e)){if(utils$1.isString(o))return e.indexOf(o)!==-1;if(utils$1.isRegExp(o))return o.test(e)}}function formatHeader(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,o)=>s.toUpperCase()+o)}function buildAccessors(i,e){const s=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(i,o+s,{value:function(a,c,d){return this[o].call(this,e,a,c,d)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,s,o){const a=this;function c(g,h,_){const b=normalizeHeader(h);if(!b)throw new Error("header name must be a non-empty string");const _e=utils$1.findKey(a,b);(!_e||a[_e]===void 0||_===!0||_===void 0&&a[_e]!==!1)&&(a[_e||h]=normalizeValue(g))}const d=(g,h)=>utils$1.forEach(g,(_,b)=>c(_,b,h));return utils$1.isPlainObject(e)||e instanceof this.constructor?d(e,s):utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?d(parseHeaders(e),s):e!=null&&c(s,e,o),this}get(e,s){if(e=normalizeHeader(e),e){const o=utils$1.findKey(this,e);if(o){const a=this[o];if(!s)return a;if(s===!0)return parseTokens(a);if(utils$1.isFunction(s))return s.call(this,a,o);if(utils$1.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=normalizeHeader(e),e){const o=utils$1.findKey(this,e);return!!(o&&this[o]!==void 0&&(!s||matchHeaderValue(this,this[o],o,s)))}return!1}delete(e,s){const o=this;let a=!1;function c(d){if(d=normalizeHeader(d),d){const g=utils$1.findKey(o,d);g&&(!s||matchHeaderValue(o,o[g],g,s))&&(delete o[g],a=!0)}}return utils$1.isArray(e)?e.forEach(c):c(e),a}clear(e){const s=Object.keys(this);let o=s.length,a=!1;for(;o--;){const c=s[o];(!e||matchHeaderValue(this,this[c],c,e,!0))&&(delete this[c],a=!0)}return a}normalize(e){const s=this,o={};return utils$1.forEach(this,(a,c)=>{const d=utils$1.findKey(o,c);if(d){s[d]=normalizeValue(a),delete s[c];return}const g=e?formatHeader(c):String(c).trim();g!==c&&delete s[c],s[g]=normalizeValue(a),o[g]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return utils$1.forEach(this,(o,a)=>{o!=null&&o!==!1&&(s[a]=e&&utils$1.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const o=new this(e);return s.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[$internals]=this[$internals]={accessors:{}}).accessors,a=this.prototype;function c(d){const g=normalizeHeader(d);o[g]||(buildAccessors(a,d),o[g]=!0)}return utils$1.isArray(e)?e.forEach(c):c(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:i},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(o){this[s]=o}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(i,e){const s=this||defaults$1,o=e||s,a=AxiosHeaders$1.from(o.headers);let c=o.data;return utils$1.forEach(i,function(g){c=g.call(s,c,a.normalize(),e?e.status:void 0)}),a.normalize(),c}function isCancel(i){return!!(i&&i.__CANCEL__)}function CanceledError(i,e,s){AxiosError.call(this,i??"canceled",AxiosError.ERR_CANCELED,e,s),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(i,e,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?i(s):e(new AxiosError("Request failed with status code "+s.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const cookies=platform.hasStandardBrowserEnv?{write(i,e,s,o,a,c){const d=[i+"="+encodeURIComponent(e)];utils$1.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),utils$1.isString(o)&&d.push("path="+o),utils$1.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function combineURLs(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function buildFullPath(i,e){return i&&!isAbsoluteURL(e)?combineURLs(i,e):e}const isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let o;function a(c){let d=c;return e&&(s.setAttribute("href",d),d=s.href),s.setAttribute("href",d),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return o=a(window.location.href),function(d){const g=utils$1.isString(d)?a(d):d;return g.protocol===o.protocol&&g.host===o.host}}():function(){return function(){return!0}}();function parseProtocol(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function speedometer(i,e){i=i||10;const s=new Array(i),o=new Array(i);let a=0,c=0,d;return e=e!==void 0?e:1e3,function(h){const _=Date.now(),b=o[c];d||(d=_),s[a]=h,o[a]=_;let _e=c,ft=0;for(;_e!==a;)ft+=s[_e++],_e=_e%i;if(a=(a+1)%i,a===c&&(c=(c+1)%i),_-d<e)return;const mt=b&&_-b;return mt?Math.round(ft*1e3/mt):void 0}}function progressEventReducer(i,e){let s=0;const o=speedometer(50,250);return a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,g=c-s,h=o(g),_=c<=d;s=c;const b={loaded:c,total:d,progress:d?c/d:void 0,bytes:g,rate:h||void 0,estimated:h&&d&&_?(d-c)/h:void 0,event:a};b[e?"download":"upload"]=!0,i(b)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(i){return new Promise(function(s,o){let a=i.data;const c=AxiosHeaders$1.from(i.headers).normalize();let{responseType:d,withXSRFToken:g}=i,h;function _(){i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let b;if(utils$1.isFormData(a)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)c.setContentType(!1);else if((b=c.getContentType())!==!1){const[at,...ct]=b?b.split(";").map(et=>et.trim()).filter(Boolean):[];c.setContentType([at||"multipart/form-data",...ct].join("; "))}}let _e=new XMLHttpRequest;if(i.auth){const at=i.auth.username||"",ct=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";c.set("Authorization","Basic "+btoa(at+":"+ct))}const ft=buildFullPath(i.baseURL,i.url);_e.open(i.method.toUpperCase(),buildURL(ft,i.params,i.paramsSerializer),!0),_e.timeout=i.timeout;function mt(){if(!_e)return;const at=AxiosHeaders$1.from("getAllResponseHeaders"in _e&&_e.getAllResponseHeaders()),et={data:!d||d==="text"||d==="json"?_e.responseText:_e.response,status:_e.status,statusText:_e.statusText,headers:at,config:i,request:_e};settle(function(tt){s(tt),_()},function(tt){o(tt),_()},et),_e=null}if("onloadend"in _e?_e.onloadend=mt:_e.onreadystatechange=function(){!_e||_e.readyState!==4||_e.status===0&&!(_e.responseURL&&_e.responseURL.indexOf("file:")===0)||setTimeout(mt)},_e.onabort=function(){_e&&(o(new AxiosError("Request aborted",AxiosError.ECONNABORTED,i,_e)),_e=null)},_e.onerror=function(){o(new AxiosError("Network Error",AxiosError.ERR_NETWORK,i,_e)),_e=null},_e.ontimeout=function(){let ct=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const et=i.transitional||transitionalDefaults;i.timeoutErrorMessage&&(ct=i.timeoutErrorMessage),o(new AxiosError(ct,et.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,i,_e)),_e=null},platform.hasStandardBrowserEnv&&(g&&utils$1.isFunction(g)&&(g=g(i)),g||g!==!1&&isURLSameOrigin(ft))){const at=i.xsrfHeaderName&&i.xsrfCookieName&&cookies.read(i.xsrfCookieName);at&&c.set(i.xsrfHeaderName,at)}a===void 0&&c.setContentType(null),"setRequestHeader"in _e&&utils$1.forEach(c.toJSON(),function(ct,et){_e.setRequestHeader(et,ct)}),utils$1.isUndefined(i.withCredentials)||(_e.withCredentials=!!i.withCredentials),d&&d!=="json"&&(_e.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&_e.addEventListener("progress",progressEventReducer(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&_e.upload&&_e.upload.addEventListener("progress",progressEventReducer(i.onUploadProgress)),(i.cancelToken||i.signal)&&(h=at=>{_e&&(o(!at||at.type?new CanceledError(null,i,_e):at),_e.abort(),_e=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const lt=parseProtocol(ft);if(lt&&platform.protocols.indexOf(lt)===-1){o(new AxiosError("Unsupported protocol "+lt+":",AxiosError.ERR_BAD_REQUEST,i));return}_e.send(a||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$1.forEach(knownAdapters,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const renderReason=i=>`- ${i}`,isResolvedHandle=i=>utils$1.isFunction(i)||i===null||i===!1,adapters={getAdapter:i=>{i=utils$1.isArray(i)?i:[i];const{length:e}=i;let s,o;const a={};for(let c=0;c<e;c++){s=i[c];let d;if(o=s,!isResolvedHandle(s)&&(o=knownAdapters[(d=String(s)).toLowerCase()],o===void 0))throw new AxiosError(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+c]=o}if(!o){const c=Object.entries(a).map(([g,h])=>`adapter ${g} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=e?c.length>1?`since :
`+c.map(renderReason).join(`
`):" "+renderReason(c[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:knownAdapters};function throwIfCancellationRequested(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new CanceledError(null,i)}function dispatchRequest(i){return throwIfCancellationRequested(i),i.headers=AxiosHeaders$1.from(i.headers),i.data=transformData.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(i.adapter||defaults$1.adapter)(i).then(function(o){return throwIfCancellationRequested(i),o.data=transformData.call(i,i.transformResponse,o),o.headers=AxiosHeaders$1.from(o.headers),o},function(o){return isCancel(o)||(throwIfCancellationRequested(i),o&&o.response&&(o.response.data=transformData.call(i,i.transformResponse,o.response),o.response.headers=AxiosHeaders$1.from(o.response.headers))),Promise.reject(o)})}const headersToObject=i=>i instanceof AxiosHeaders$1?i.toJSON():i;function mergeConfig(i,e){e=e||{};const s={};function o(_,b,_e){return utils$1.isPlainObject(_)&&utils$1.isPlainObject(b)?utils$1.merge.call({caseless:_e},_,b):utils$1.isPlainObject(b)?utils$1.merge({},b):utils$1.isArray(b)?b.slice():b}function a(_,b,_e){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(_))return o(void 0,_,_e)}else return o(_,b,_e)}function c(_,b){if(!utils$1.isUndefined(b))return o(void 0,b)}function d(_,b){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(_))return o(void 0,_)}else return o(void 0,b)}function g(_,b,_e){if(_e in e)return o(_,b);if(_e in i)return o(void 0,_)}const h={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(_,b)=>a(headersToObject(_),headersToObject(b),!0)};return utils$1.forEach(Object.keys(Object.assign({},i,e)),function(b){const _e=h[b]||a,ft=_e(i[b],e[b],b);utils$1.isUndefined(ft)&&_e!==g||(s[b]=ft)}),s}const VERSION="1.6.7",validators$1={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{validators$1[i]=function(o){return typeof o===i||"a"+(e<1?"n ":" ")+i}});const deprecatedWarnings={};validators$1.transitional=function(e,s,o){function a(c,d){return"[Axios v"+VERSION+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,g)=>{if(e===!1)throw new AxiosError(a(d," has been removed"+(s?" in "+s:"")),AxiosError.ERR_DEPRECATED);return s&&!deprecatedWarnings[d]&&(deprecatedWarnings[d]=!0,console.warn(a(d," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(c,d,g):!0}};function assertOptions(i,e,s){if(typeof i!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const o=Object.keys(i);let a=o.length;for(;a-- >0;){const c=o[a],d=e[c];if(d){const g=i[c],h=g===void 0||d(g,c,i);if(h!==!0)throw new AxiosError("option "+c+" must be "+h,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new AxiosError("Unknown option "+c,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,s){try{return await this._request(e,s)}catch(o){if(o instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}throw o}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=mergeConfig(this.defaults,s);const{transitional:o,paramsSerializer:a,headers:c}=s;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),a!=null&&(utils$1.isFunction(a)?s.paramsSerializer={serialize:a}:validator.assertOptions(a,{encode:validators.function,serialize:validators.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=c&&utils$1.merge(c.common,c[s.method]);c&&utils$1.forEach(["delete","get","head","post","put","patch","common"],lt=>{delete c[lt]}),s.headers=AxiosHeaders$1.concat(d,c);const g=[];let h=!0;this.interceptors.request.forEach(function(at){typeof at.runWhen=="function"&&at.runWhen(s)===!1||(h=h&&at.synchronous,g.unshift(at.fulfilled,at.rejected))});const _=[];this.interceptors.response.forEach(function(at){_.push(at.fulfilled,at.rejected)});let b,_e=0,ft;if(!h){const lt=[dispatchRequest.bind(this),void 0];for(lt.unshift.apply(lt,g),lt.push.apply(lt,_),ft=lt.length,b=Promise.resolve(s);_e<ft;)b=b.then(lt[_e++],lt[_e++]);return b}ft=g.length;let mt=s;for(_e=0;_e<ft;){const lt=g[_e++],at=g[_e++];try{mt=lt(mt)}catch(ct){at.call(this,ct);break}}try{b=dispatchRequest.call(this,mt)}catch(lt){return Promise.reject(lt)}for(_e=0,ft=_.length;_e<ft;)b=b.then(_[_e++],_[_e++]);return b}getUri(e){e=mergeConfig(this.defaults,e);const s=buildFullPath(e.baseURL,e.url);return buildURL(s,e.params,e.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(s,o){return this.request(mergeConfig(o||{},{method:e,url:s,data:(o||{}).data}))}});utils$1.forEach(["post","put","patch"],function(e){function s(o){return function(c,d,g){return this.request(mergeConfig(g||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Axios.prototype[e]=s(),Axios.prototype[e+"Form"]=s(!0)});const Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(c){s=c});const o=this;this.promise.then(a=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](a);o._listeners=null}),this.promise.then=a=>{let c;const d=new Promise(g=>{o.subscribe(g),c=g}).then(a);return d.cancel=function(){o.unsubscribe(c)},d},e(function(c,d,g){o.reason||(o.reason=new CanceledError(c,d,g),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}static source(){let e;return{token:new CancelToken(function(a){e=a}),cancel:e}}}const CancelToken$1=CancelToken;function spread(i){return function(s){return i.apply(null,s)}}function isAxiosError(i){return utils$1.isObject(i)&&i.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([i,e])=>{HttpStatusCode[e]=i});const HttpStatusCode$1=HttpStatusCode;function createInstance(i){const e=new Axios$1(i),s=bind(Axios$1.prototype.request,e);return utils$1.extend(s,Axios$1.prototype,e,{allOwnKeys:!0}),utils$1.extend(s,e,null,{allOwnKeys:!0}),s.create=function(a){return createInstance(mergeConfig(i,a))},s}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=i=>formDataToJSON(utils$1.isHTMLForm(i)?new FormData(i):i);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;function SubscriptionConfirmation({username:i,uid:e}){console.log({uid:e,username:i});const s=()=>{window.location.href=`https://portfolio.blackfoxmetaverse.io/profile/${i}?uid=${e}`};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{jsx:!0,children:`
      .mainModal{
        position: fixed;
        inset: 0;
        height: 100vh;
        background: white;
        display: flex;
        justify-content: center;
        align-items: center;
      }

        .container {
          align-items: center;
          color: #212121;
          display: flex;
          justify-content: center;
          align-items: center;
          flex-direction: column;
          max-width: 597px;
          width: 100%;
          background: white;
          padding: 10px;
          border-radius: 20px;
          aspect-ratio: 16/9;
        }

        .success-icon {
          aspect-ratio: 1.01;
          max-width: 100%;
          object-fit: auto;
          object-position: center;
          width: 199px;
        }

        .checkmark-icon {
          aspect-ratio: 3.45;
          margin-top: 17px;
          max-width: 100%;
          object-fit: auto;
          object-position: center;
          width: 103px;
        }

        .title {
          font: 700 30px Neue Helvetica, -apple-system, Roboto, Helvetica,
            sans-serif;
          margin-top: 16px;
          white-space: nowrap;
        }

        .description {
          align-self: stretch;
          font: 400 19px
          margin-top: 16px;
          text-align: center;
          width: 100%;
        }

        .back-home-button {
          background-color: var(--Primary-1, #4461f2);
          border: none;
          border-radius: 3.172px;
          color: var(--Primary-blue, #fff);
          cursor: pointer;
          font: 450 15px/100% Neue Helvetica, -apple-system, Roboto, Helvetica,
            sans-serif;
          justify-content: center;
          margin-top: 22px;
          padding: 11px 41px;
          text-transform: capitalize;
          white-space: nowrap;
        }
      `}),jsxRuntimeExports.jsx("main",{className:"mainModal",children:jsxRuntimeExports.jsxs("section",{className:"container",children:[jsxRuntimeExports.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/963feeb721f285766f2a7526c504de8ce2e9b0cf651f9d4ab1f739efcba5d040?apiKey=91ddce01d5c046adbb0d93d1184c8d50&",alt:"Success icon",className:"success-icon"}),jsxRuntimeExports.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/9e76872a7c3f5d0e938baf210fabbe25873fe4fa3e0047799e579afaa0c96e83?apiKey=91ddce01d5c046adbb0d93d1184c8d50&",alt:"Checkmark icon",className:"checkmark-icon"}),jsxRuntimeExports.jsx("h2",{className:"title",children:"User Already Exist"}),jsxRuntimeExports.jsx("p",{className:"description",children:"You have successfully subscribed to our list. We will let you know when we launch."}),jsxRuntimeExports.jsx("button",{onClick:s,className:"back-home-button",children:"View Profile"})]})})]})}function Login({setPage:i,seller:e,setSeller:s}){const[o,a]=reactExports.useState(!1),[c,d]=reactExports.useState(!1),[g,h]=reactExports.useState(!1),[_,b]=reactExports.useState({username:"",uid:""});async function _e(lt){try{const at=await axios.get("https://api.blackfoxmetaverse.io/main/login",{headers:{token:`${lt}`}});return Promise.resolve(at.data.check)}catch(at){return Promise.reject(at)}}const ft=async()=>{try{const lt=new GoogleAuthProvider,at=await signInWithPopup(auth,lt),ct=at.user.accessToken,{displayName:et,email:$,uid:tt}=at.user;sessionStorage.setItem("bfm-form-seller-token",ct),sessionStorage.setItem("bfm-form-seller-uid",tt);const ht=await _e(ct);ht.isSeller?(b({username:ht==null?void 0:ht.username,uid:tt}),a(!0)):(i(2),s({...e,name:et,email:$}))}catch(lt){console.error("Error signing in with Google:",lt),alert("Failed to sign in with Google Please try after sometime"),a(!1)}};reactExports.useEffect(()=>{const lt=window.localStorage.getItem("userCustomEmail");signInWithEmailLink(auth,lt).then(async at=>{const{displayName:ct,email:et,uid:$}=at.user,tt=at.user.accessToken;sessionStorage.setItem("bfm-form-seller-token",tt),sessionStorage.setItem("bfm-form-seller-uid",$),localStorage.removeItem("userCustomEmail"),await _e(tt).then(ht=>{ht.isSeller?(b({username:ht==null?void 0:ht.username,uid:$}),a(!0)):(i(2),s({...e,name:ct,email:et}))}).catch(ht=>{console.error(ht),a(!1)})}).catch(at=>{console.error(at)})},[]);const mt=async lt=>{try{lt.preventDefault();const at=lt.target.email.value;await sendSignInLinkToEmail(auth,at,{url:window.location.href,handleCodeInApp:!0}).then(()=>{localStorage.setItem("userCustomEmail",at),h(!0)})}catch(at){console.error("Error signing in with email:",at),alert("Failed to sign in with email. Please try again."),a(!1),h(!1)}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:style$1.Page,children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:style$1.Page,children:[jsxRuntimeExports.jsx("div",{className:style$1.Header,children:"Register with us"}),jsxRuntimeExports.jsx("div",{className:style$1.Subtext,children:"Click the button below to sign in with your Google account."}),jsxRuntimeExports.jsxs("button",{className:"googleBtn",onClick:ft,children:[jsxRuntimeExports.jsx("img",{src:"/logo_google.svg",alt:""}),"Sign in with Google"]}),jsxRuntimeExports.jsx("p",{style:{width:"100%",textAlign:"center",margin:0},children:"or"}),c?jsxRuntimeExports.jsxs("form",{className:style$1.TextField,action:"",method:"post",onSubmit:mt,children:[jsxRuntimeExports.jsx("input",{type:"email",name:"email",id:"email",style:{borderRadius:100,border:"1.5px solid rgba(91, 155, 233, 0.5)"},className:style$1.TextInput,placeholder:"example@example.com"}),jsxRuntimeExports.jsx("button",{type:"submit",style:{borderRadius:100,padding:8,border:"3px solid rgba(91, 155, 233, 0.5)",color:g&&"rgba(91, 155, 233, 1)"},className:g?"SecondaryBtn":"PrimaryBtn",children:g?"Check your email to Sign In":"Send Confirmation"})]}):jsxRuntimeExports.jsx("button",{type:"button",style:{borderRadius:100,padding:8},className:"PrimaryBtn",onClick:()=>d(!c),children:"Register"})]})})}),jsxRuntimeExports.jsx("div",{id:"recaptcha"}),o&&jsxRuntimeExports.jsx(SubscriptionConfirmation,{..._})]})}function PersonalInfo({seller:i,setSeller:e,setPage:s}){let o,a;const[c,d]=reactExports.useState(null),[g,h]=reactExports.useState(!1),[_,b]=reactExports.useState(null),[_e,ft]=reactExports.useState([]),mt=$=>{$.preventDefault(),c!==null&&(c==null?void 0:c.message)==="Phone Number is valid"&&g&&s(3)},lt=async $=>{try{const tt="+91";if($==="")return Promise.resolve(!1);const ht=sessionStorage.getItem("bfm-form-seller-uid"),rt=await axios.get(`https://api.blackfoxmetaverse.io/check/phone?uid=${ht}&phone_number=${encodeURIComponent(tt+$)}`);return Promise.resolve(rt.data)}catch(tt){return Promise.reject(tt)}},at=async $=>{try{if($==="")return Promise.resolve(!1);const tt=sessionStorage.getItem("bfm-form-seller-uid"),ht=await axios.get(`https://api.blackfoxmetaverse.io/check/userName?uid=${tt}&userName=${$}`);return Promise.resolve(ht.data)}catch(tt){return Promise.reject(tt)}};reactExports.useEffect(()=>{o&&clearTimeout(o),o=setTimeout(()=>{i.phone_number.length<10||lt(i.phone_number).then($=>{d($?{color:"green",message:"Phone Number is valid"}:{color:"red",message:"Phone Number already taken"})}).catch($=>{d({color:"red",message:"Phone Number already taken"})})},500)},[i.phone_number]),reactExports.useEffect(()=>{a&&clearTimeout(a),a=setTimeout(()=>{at(i.userName).then($=>h($)).catch($=>h(!1))},500)},[i.userName]);async function ct($){var tt;try{const ht=$.target.value;e({...i,city:ht});const rt=await axios.get(`https://api.blackfoxmetaverse.io/suggestion/cities?keyword=${ht}`);ft((tt=rt.data)==null?void 0:tt.cities)}catch(ht){console.error("Error fetching cities:",ht)}}const et=$=>{e({...i,city:$}),ft([])};return jsxRuntimeExports.jsxs("form",{onSubmit:mt,className:"formLayout",children:[jsxRuntimeExports.jsx("div",{className:style$1.Header,children:"Personal Information"}),jsxRuntimeExports.jsx("div",{className:style$1.Subtext,children:"Please enter your Personal Information. To Become a seller on BFM."}),jsxRuntimeExports.jsxs("div",{className:style$1.Page,children:[jsxRuntimeExports.jsxs("div",{className:style$1.Image,children:[_?jsxRuntimeExports.jsx("img",{src:_,alt:""}):jsxRuntimeExports.jsx("img",{src:"https://i.pinimg.com/564x/70/dd/61/70dd612c65034b88ebf474a52ccc70c4.jpg",alt:""}),jsxRuntimeExports.jsxs("label",{htmlFor:"image",children:[jsxRuntimeExports.jsx(IoCameraOutline,{}),jsxRuntimeExports.jsx("input",{type:"file",name:"image",id:"image",accept:"image/*",onChange:$=>{e(tt=>({...tt,image:$.target.files[0]})),b(URL.createObjectURL($.target.files[0]))}})]})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:style$1.Label,children:"Name*"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",id:"name",placeholder:"Full Name",required:!0,value:i.name,className:style$1.TextInput,onChange:$=>e(tt=>({...tt,name:$.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"userName",className:style$1.Label,children:"Username*"}),jsxRuntimeExports.jsx("input",{type:"text",name:"userName",id:"userName",placeholder:"username@2024",className:style$1.TextInput,required:!0,value:i.userName,onChange:$=>e(tt=>({...tt,userName:$.target.value}))}),i.userName===""?null:g?jsxRuntimeExports.jsx("h4",{style:{color:"green",margin:0},children:"Username available"}):jsxRuntimeExports.jsx("h4",{style:{color:"red",margin:0},children:"Username already taken"})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"gender",className:style$1.Label,children:"Gender*"}),jsxRuntimeExports.jsxs("select",{name:"gender",id:"gender",value:i.gender,className:style$1.Dropdown,onChange:$=>e(tt=>({...tt,gender:$.target.value})),required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select a gender"}),jsxRuntimeExports.jsx("option",{value:"male",children:"Male"}),jsxRuntimeExports.jsx("option",{value:"female",children:"Female"}),jsxRuntimeExports.jsx("option",{value:"others",children:"Others"})]})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:style$1.Label,children:"Email Address*"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",id:"email",placeholder:"randomemail@gmail.com",className:style$1.TextInput,disabled:!0,value:i.email})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"phone_number",className:style$1.Label,children:"Phone Number* (Whatsapp Number)"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex"},className:style$1.NumberField,children:[jsxRuntimeExports.jsx("p",{className:"m-0 font-p",children:"+91"}),jsxRuntimeExports.jsx("input",{name:"phone_number",type:"number",id:"phone_number",maxLength:10,required:!0,placeholder:"1234567890",value:i.phone_number,onChange:$=>e({...i,phone_number:$.target.value})})]}),i.phone_number.length<10?null:c?jsxRuntimeExports.jsx("h4",{style:{color:c==null?void 0:c.color,margin:0},children:c==null?void 0:c.message}):jsxRuntimeExports.jsx("h4",{style:{color:c==null?void 0:c.color,margin:0},children:c==null?void 0:c.message})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"city",className:style$1.Label,children:"City*"}),jsxRuntimeExports.jsx("input",{type:"text",name:"city",id:"city",className:style$1.TextInput,placeholder:"Select Your City",required:!0,value:i.city,onChange:$=>ct($)}),(i==null?void 0:i.city)!==""&&_e.length>0&&jsxRuntimeExports.jsx("div",{className:style$1.SuggestionContainer,children:_e==null?void 0:_e.map(($,tt)=>jsxRuntimeExports.jsx("div",{className:style$1.Suggestion,onClick:()=>et($["ASCII Name"]),children:$["ASCII Name"]},tt))})]}),jsxRuntimeExports.jsx("button",{disabled:c&&!g,className:"PrimaryBtn",type:"submit",children:"Save & Continue"})]})]})}function RxCross1(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"},child:[]}]})(i)}function RxCross2(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(i)}function ProfessionalInfo({seller:i,setSeller:e,setPage:s}){const[o,a]=reactExports.useState(""),[c,d]=reactExports.useState(""),[g,h]=reactExports.useState([]),[_,b]=reactExports.useState([]),[_e,ft]=reactExports.useState([]),[mt,lt]=reactExports.useState([]);reactExports.useEffect(()=>{o?(async()=>{var it,St;try{const Et=await axios.get(`https://api.blackfoxmetaverse.io/suggestion/skills?keyword=${o}`);h((St=(it=Et.data)==null?void 0:it.skills)==null?void 0:St.filter(Dt=>!i.skills.includes(Dt.tag)))}catch(Et){console.error("Error fetching skills:",Et)}})():h([])},[o,i.skills]),reactExports.useEffect(()=>{c?(async()=>{var it,St;try{const Et=await axios.get(`https://api.blackfoxmetaverse.io/suggestion/services?keyword=${c}`);b((St=(it=Et.data)==null?void 0:it.services)==null?void 0:St.filter(Dt=>!i.services.includes(Dt.tag)))}catch(Et){console.error("Error fetching services:",Et)}})():b([])},[c,i.services]);const at=pt=>{e(it=>({...it,skills:[...it.skills,pt]})),a("")},ct=pt=>{e(it=>({...it,services:[...it.services,pt]})),d("")},et=pt=>{e(it=>({...it,skills:it.skills.filter((St,Et)=>Et!==pt)}))},$=pt=>{e(it=>({...it,services:it.services.filter((St,Et)=>Et!==pt)}))};async function tt(pt){var it;try{const St=pt.target.value;e({...i,profession:St});const Et=await axios.get(`https://api.blackfoxmetaverse.io/suggestion/professions?keyword=${St}`);ft((it=Et.data)==null?void 0:it.professions)}catch(St){console.error("Error fetching profession:",St)}}const ht=pt=>{e({...i,profession:pt}),ft([])};async function rt(pt){var it;try{const St=pt.target.value;e({...i,collegeName:St});const Et=await axios.get(`https://api.blackfoxmetaverse.io/suggestion/colleges?keyword=${St}`);lt((it=Et.data)==null?void 0:it.colleges)}catch(St){console.error("Error fetching colleges:",St)}}const dt=pt=>{e({...i,collegeName:pt}),lt([])},xt=pt=>{pt.preventDefault(),s(4)};return jsxRuntimeExports.jsxs("form",{onSubmit:xt,className:"formLayout",children:[jsxRuntimeExports.jsx("div",{className:style$1.Header,children:"Professional Information"}),jsxRuntimeExports.jsx("div",{className:style$1.Subtext,children:"Please enter your Professional Information."}),jsxRuntimeExports.jsxs("div",{className:style$1.Page,children:[jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"city",className:style$1.Label,children:"Profession*"}),jsxRuntimeExports.jsx("input",{type:"text",name:"profession",id:"profession",className:style$1.TextInput,placeholder:"Select Your Profession",required:!0,value:i.profession,onChange:pt=>tt(pt)}),(i==null?void 0:i.profession)!==""&&_e.length>0&&jsxRuntimeExports.jsx("div",{className:style$1.SuggestionContainer,children:_e==null?void 0:_e.map((pt,it)=>jsxRuntimeExports.jsx("div",{className:style$1.Suggestion,onClick:()=>ht(pt.tag),children:pt.tag},it))})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"experience",className:style$1.Label,children:"Experience*"}),jsxRuntimeExports.jsxs("select",{name:"experience",id:"experience",className:style$1.Dropdown,required:!0,value:i.experience,onChange:pt=>e(it=>({...it,experience:pt.target.value})),children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Experience in Years"}),jsxRuntimeExports.jsx("option",{value:"0-1",children:"0-1"}),jsxRuntimeExports.jsx("option",{value:"1-3",children:"1-3"}),jsxRuntimeExports.jsx("option",{value:"3-5",children:"3-5"}),jsxRuntimeExports.jsx("option",{value:"5 and above",children:"5 and above"})]})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"services",className:style$1.Label,children:"Services Provided*"}),i.services.length>0&&jsxRuntimeExports.jsx("div",{className:style$1.TagsContainer,children:i.services.map((pt,it)=>jsxRuntimeExports.jsxs("div",{className:style$1.Tag,children:[jsxRuntimeExports.jsx("button",{className:style$1.Remove,type:"button",onClick:()=>$(it),children:jsxRuntimeExports.jsx(RxCross1,{})}),jsxRuntimeExports.jsx("span",{children:pt})]},it))}),i.services.length<=7&&jsxRuntimeExports.jsx("input",{type:"text",name:"services",id:"services",required:i.services.length===0,placeholder:"Enter Service",className:style$1.TextInput,value:c,onChange:pt=>d(pt.target.value)}),c!==""&&_.length>0&&jsxRuntimeExports.jsx("div",{className:style$1.SuggestionContainer,children:_.map((pt,it)=>jsxRuntimeExports.jsx("div",{className:style$1.Suggestion,onClick:()=>ct(pt.tag),children:pt.tag},it))})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"skills",className:style$1.Label,children:"Skills*"}),i.skills.length>0&&jsxRuntimeExports.jsx("div",{className:style$1.TagsContainer,children:i.skills.map((pt,it)=>jsxRuntimeExports.jsxs("div",{className:style$1.Tag,children:[jsxRuntimeExports.jsx("button",{className:style$1.Remove,type:"button",onClick:()=>et(it),children:jsxRuntimeExports.jsx(RxCross1,{})}),jsxRuntimeExports.jsx("span",{children:pt})]},it))}),i.skills.length<=7&&jsxRuntimeExports.jsx("input",{type:"text",name:"skills",id:"skills",required:i.skills.length===0,className:style$1.TextInput,placeholder:"Enter Skill",value:o,onChange:pt=>a(pt.target.value)}),o&&g.length>0&&jsxRuntimeExports.jsx("div",{className:style$1.SuggestionContainer,children:g.map((pt,it)=>jsxRuntimeExports.jsx("div",{className:style$1.Suggestion,onClick:()=>at(pt.tag),children:pt.tag},it))})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"collegeName",className:style$1.Label,children:"College Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"collegeName",id:"collegeName",className:style$1.TextInput,placeholder:"Select Your College",value:i.collegeName,onChange:pt=>rt(pt)}),(i==null?void 0:i.collegeName)!==""&&mt.length>0&&jsxRuntimeExports.jsx("div",{className:style$1.SuggestionContainer,children:mt==null?void 0:mt.map((pt,it)=>jsxRuntimeExports.jsx("div",{className:style$1.Suggestion,onClick:()=>dt(pt["College Name"]),children:pt["College Name"]},it))})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"resume",className:style$1.Label,children:"Resume"}),jsxRuntimeExports.jsxs("div",{className:style$1.Resume,children:[jsxRuntimeExports.jsx("p",{children:i.resume?i.resume.name:"Upload your Resume"}),jsxRuntimeExports.jsx("label",{htmlFor:"resume",children:"Upload"}),jsxRuntimeExports.jsx("input",{type:"file",name:"resume",id:"resume",accept:".doc, .docx, .pdf",onChange:pt=>e(it=>({...it,resume:pt.target.files[0]}))})]})]}),jsxRuntimeExports.jsx("button",{className:"PrimaryBtn",type:"submit",id:"OtpButton",children:"Save & Continue"})]})]})}function FaDribbble(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(i)}function FaGithub(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(i)}function FaLinkedinIn(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(i)}function FaVideo(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"},child:[]}]})(i)}function RiInstagramFill(i){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.0281 2.00098C14.1535 2.00284 14.7238 2.00879 15.2166 2.02346L15.4107 2.02981C15.6349 2.03778 15.8561 2.04778 16.1228 2.06028C17.1869 2.10944 17.9128 2.27778 18.5503 2.52528C19.2094 2.77944 19.7661 3.12278 20.3219 3.67861C20.8769 4.23444 21.2203 4.79278 21.4753 5.45028C21.7219 6.08694 21.8903 6.81361 21.9403 7.87778C21.9522 8.14444 21.9618 8.36564 21.9697 8.58989L21.976 8.78397C21.9906 9.27672 21.9973 9.8471 21.9994 10.9725L22.0002 11.7182C22.0003 11.8093 22.0003 11.9033 22.0003 12.0003L22.0002 12.2824L21.9996 13.0281C21.9977 14.1535 21.9918 14.7238 21.9771 15.2166L21.9707 15.4107C21.9628 15.6349 21.9528 15.8561 21.9403 16.1228C21.8911 17.1869 21.7219 17.9128 21.4753 18.5503C21.2211 19.2094 20.8769 19.7661 20.3219 20.3219C19.7661 20.8769 19.2069 21.2203 18.5503 21.4753C17.9128 21.7219 17.1869 21.8903 16.1228 21.9403C15.8561 21.9522 15.6349 21.9618 15.4107 21.9697L15.2166 21.976C14.7238 21.9906 14.1535 21.9973 13.0281 21.9994L12.2824 22.0002C12.1913 22.0003 12.0973 22.0003 12.0003 22.0003L11.7182 22.0002L10.9725 21.9996C9.8471 21.9977 9.27672 21.9918 8.78397 21.9771L8.58989 21.9707C8.36564 21.9628 8.14444 21.9528 7.87778 21.9403C6.81361 21.8911 6.08861 21.7219 5.45028 21.4753C4.79194 21.2211 4.23444 20.8769 3.67861 20.3219C3.12278 19.7661 2.78028 19.2069 2.52528 18.5503C2.27778 17.9128 2.11028 17.1869 2.06028 16.1228C2.0484 15.8561 2.03871 15.6349 2.03086 15.4107L2.02457 15.2166C2.00994 14.7238 2.00327 14.1535 2.00111 13.0281L2.00098 10.9725C2.00284 9.8471 2.00879 9.27672 2.02346 8.78397L2.02981 8.58989C2.03778 8.36564 2.04778 8.14444 2.06028 7.87778C2.10944 6.81278 2.27778 6.08778 2.52528 5.45028C2.77944 4.79194 3.12278 4.23444 3.67861 3.67861C4.23444 3.12278 4.79278 2.78028 5.45028 2.52528C6.08778 2.27778 6.81278 2.11028 7.87778 2.06028C8.14444 2.0484 8.36564 2.03871 8.58989 2.03086L8.78397 2.02457C9.27672 2.00994 9.8471 2.00327 10.9725 2.00111L13.0281 2.00098ZM12.0003 7.00028C9.23738 7.00028 7.00028 9.23981 7.00028 12.0003C7.00028 14.7632 9.23981 17.0003 12.0003 17.0003C14.7632 17.0003 17.0003 14.7607 17.0003 12.0003C17.0003 9.23738 14.7607 7.00028 12.0003 7.00028ZM12.0003 9.00028C13.6572 9.00028 15.0003 10.3429 15.0003 12.0003C15.0003 13.6572 13.6576 15.0003 12.0003 15.0003C10.3434 15.0003 9.00028 13.6576 9.00028 12.0003C9.00028 10.3434 10.3429 9.00028 12.0003 9.00028ZM17.2503 5.50028C16.561 5.50028 16.0003 6.06018 16.0003 6.74943C16.0003 7.43867 16.5602 7.99944 17.2503 7.99944C17.9395 7.99944 18.5003 7.43954 18.5003 6.74943C18.5003 6.06018 17.9386 5.49941 17.2503 5.50028Z"},child:[]}]})(i)}function SiBehance(i){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.969 16.927a2.561 2.561 0 0 0 1.901.677 2.501 2.501 0 0 0 1.531-.475c.362-.235.636-.584.779-.99h2.585a5.091 5.091 0 0 1-1.9 2.896 5.292 5.292 0 0 1-3.091.88 5.839 5.839 0 0 1-2.284-.433 4.871 4.871 0 0 1-1.723-1.211 5.657 5.657 0 0 1-1.08-1.874 7.057 7.057 0 0 1-.383-2.393c-.005-.8.129-1.595.396-2.349a5.313 5.313 0 0 1 5.088-3.604 4.87 4.87 0 0 1 2.376.563c.661.362 1.231.87 1.668 1.485a6.2 6.2 0 0 1 .943 2.133c.194.821.263 1.666.205 2.508h-7.699c-.063.79.184 1.574.688 2.187ZM6.947 4.084a8.065 8.065 0 0 1 1.928.198 4.29 4.29 0 0 1 1.49.638c.418.303.748.711.958 1.182.241.579.357 1.203.341 1.83a3.506 3.506 0 0 1-.506 1.961 3.726 3.726 0 0 1-1.503 1.287 3.588 3.588 0 0 1 2.027 1.437c.464.747.697 1.615.67 2.494a4.593 4.593 0 0 1-.423 2.032 3.945 3.945 0 0 1-1.163 1.413 5.114 5.114 0 0 1-1.683.807 7.135 7.135 0 0 1-1.928.259H0V4.084h6.947Zm-.235 12.9c.308.004.616-.029.916-.099a2.18 2.18 0 0 0 .766-.332c.228-.158.411-.371.534-.619.142-.317.208-.663.191-1.009a2.08 2.08 0 0 0-.642-1.715 2.618 2.618 0 0 0-1.696-.505h-3.54v4.279h3.471Zm13.635-5.967a2.13 2.13 0 0 0-1.654-.619 2.336 2.336 0 0 0-1.163.259 2.474 2.474 0 0 0-.738.62 2.359 2.359 0 0 0-.396.792c-.074.239-.12.485-.137.734h4.769a3.239 3.239 0 0 0-.679-1.785l-.002-.001Zm-13.813-.648a2.254 2.254 0 0 0 1.423-.433c.399-.355.607-.88.56-1.413a1.916 1.916 0 0 0-.178-.891 1.298 1.298 0 0 0-.495-.533 1.851 1.851 0 0 0-.711-.274 3.966 3.966 0 0 0-.835-.073H3.241v3.631h3.293v-.014ZM21.62 5.122h-5.976v1.527h5.976V5.122Z"},child:[]}]})(i)}function ThankYouPage({userName:i,uid:e}){const s=()=>{window.location.href=`https://portfolio.blackfoxmetaverse.io/profile/${i}?uid=${e}`};return jsxRuntimeExports.jsxs("main",{className:"mainPage",children:[jsxRuntimeExports.jsxs("section",{className:"thank-you-container",children:[jsxRuntimeExports.jsx("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/6a32519b450b99492c7385e65a1b3a78684d428de046766b85598d4fea60b8ce?apiKey=91ddce01d5c046adbb0d93d1184c8d50&",alt:"Thank you illustration",className:"thank-you-image"}),jsxRuntimeExports.jsx("h1",{className:"thank-you-title",children:"Thank you for Submitting!"}),jsxRuntimeExports.jsx("p",{className:"thank-you-description",children:"You have successfully subscribed to our list. We will let you know when we launch."}),jsxRuntimeExports.jsx("button",{onClick:s,className:"back-home-button",children:"View Profile"})]}),jsxRuntimeExports.jsx("style",{jsx:!0,children:`
        .mainPage {
          position: fixed;
          inset: 0;
          height: 100vh;
          background: white;
          z-index: 50;
          display: flex;
          justify-content: center;
          align-items: center;
        }

        .thank-you-container {
          align-items: center;
          color: #212121;
          display: flex;
          flex-direction: column;
          max-width: 666px;
          text-align: center;
        }

        .thank-you-image {
          aspect-ratio: 1.15;
          max-width: 100%;
          object-fit: auto;
          object-position: center;
          width: 282px;
        }

        .thank-you-title {
          font: 700 39px Neue Helvetica, -apple-system, Roboto, Helvetica,
            sans-serif;
          margin-top: 21px;
        }

        @media (max-width: 991px) {
          .thank-you-title {
            max-width: 100%;
          }
        }

        .thank-you-description {
          align-self: stretch;
          font: 400 24px Neue Helvetica, -apple-system, Roboto, Helvetica,
            sans-serif;
          margin-top: 21px;
          text-align: center;
          width: 100%;
        }

        @media (max-width: 991px) {
          .thank-you-description {
            max-width: 100%;
          }
        }

        .back-home-button {
          background-color: var(--Primary-1, #4461f2);
          border: none;
          border-radius: 3.172px;
          color: var(--Primary-blue, #fff);
          cursor: pointer;
          font: 450 15px/100% Neue Helvetica, -apple-system, Roboto, Helvetica,
            sans-serif;
          justify-content: center;
          margin-top: 22px;
          padding: 11px 41px;
          text-transform: capitalize;
          white-space: nowrap;
        }

        @media (max-width: 991px) {
          .back-home-button {
            padding: 0 20px;
            white-space: initial;
          }
        }
      `})]})}/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$2.apply(this,arguments)}var Action;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(i){i===void 0&&(i={});function e(o,a){let{pathname:c,search:d,hash:g}=o.location;return createLocation("",{pathname:c,search:d,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(o,a){return typeof a=="string"?a:createPath(a)}return getUrlBasedHistory(e,s,null,i)}function invariant$1(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function warning$2(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(i,e){return{usr:i.state,key:i.key,idx:e}}function createLocation(i,e,s,o){return s===void 0&&(s=null),_extends$2({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:s,key:e&&e.key||o||createKey()})}function createPath(i){let{pathname:e="/",search:s="",hash:o=""}=i;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function parsePath(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substr(s),i=i.substr(0,s));let o=i.indexOf("?");o>=0&&(e.search=i.substr(o),i=i.substr(0,o)),i&&(e.pathname=i)}return e}function getUrlBasedHistory(i,e,s,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,g=Action.Pop,h=null,_=b();_==null&&(_=0,d.replaceState(_extends$2({},d.state,{idx:_}),""));function b(){return(d.state||{idx:null}).idx}function _e(){g=Action.Pop;let ct=b(),et=ct==null?null:ct-_;_=ct,h&&h({action:g,location:at.location,delta:et})}function ft(ct,et){g=Action.Push;let $=createLocation(at.location,ct,et);s&&s($,ct),_=b()+1;let tt=getHistoryState($,_),ht=at.createHref($);try{d.pushState(tt,"",ht)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;a.location.assign(ht)}c&&h&&h({action:g,location:at.location,delta:1})}function mt(ct,et){g=Action.Replace;let $=createLocation(at.location,ct,et);s&&s($,ct),_=b();let tt=getHistoryState($,_),ht=at.createHref($);d.replaceState(tt,"",ht),c&&h&&h({action:g,location:at.location,delta:0})}function lt(ct){let et=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof ct=="string"?ct:createPath(ct);return $=$.replace(/ $/,"%20"),invariant$1(et,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,et)}let at={get action(){return g},get location(){return i(a,d)},listen(ct){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(PopStateEventType,_e),h=ct,()=>{a.removeEventListener(PopStateEventType,_e),h=null}},createHref(ct){return e(a,ct)},createURL:lt,encodeLocation(ct){let et=lt(ct);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:ft,replace:mt,go(ct){return d.go(ct)}};return at}var ResultType;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ResultType||(ResultType={}));function matchRoutes(i,e,s){s===void 0&&(s="/");let o=typeof e=="string"?parsePath(e):e,a=stripBasename(o.pathname||"/",s);if(a==null)return null;let c=flattenRoutes(i);rankRouteBranches(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let h=decodePath(a);d=matchRouteBranch(c[g],h)}return d}function flattenRoutes(i,e,s,o){e===void 0&&(e=[]),s===void 0&&(s=[]),o===void 0&&(o="");let a=(c,d,g)=>{let h={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};h.relativePath.startsWith("/")&&(invariant$1(h.relativePath.startsWith(o),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(o.length));let _=joinPaths([o,h.relativePath]),b=s.concat(h);c.children&&c.children.length>0&&(invariant$1(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),flattenRoutes(c.children,e,b,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:computeScore(_,c.index),routesMeta:b})};return i.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))a(c,d);else for(let h of explodeOptionalSegments(c.path))a(c,d,h)}),e}function explodeOptionalSegments(i){let e=i.split("/");if(e.length===0)return[];let[s,...o]=e,a=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=explodeOptionalSegments(o.join("/")),g=[];return g.push(...d.map(h=>h===""?c:[c,h].join("/"))),a&&g.push(...d),g.map(h=>i.startsWith("/")&&h===""?"/":h)}function rankRouteBranches(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:compareIndexes(e.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=i=>i==="*";function computeScore(i,e){let s=i.split("/"),o=s.length;return s.some(isSplat)&&(o+=splatPenalty),e&&(o+=indexRouteValue),s.filter(a=>!isSplat(a)).reduce((a,c)=>a+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(i,e){return i.length===e.length&&i.slice(0,-1).every((o,a)=>o===e[a])?i[i.length-1]-e[e.length-1]:0}function matchRouteBranch(i,e){let{routesMeta:s}=i,o={},a="/",c=[];for(let d=0;d<s.length;++d){let g=s[d],h=d===s.length-1,_=a==="/"?e:e.slice(a.length)||"/",b=matchPath({path:g.relativePath,caseSensitive:g.caseSensitive,end:h},_);if(!b)return null;Object.assign(o,b.params);let _e=g.route;c.push({params:o,pathname:joinPaths([a,b.pathname]),pathnameBase:normalizePathname(joinPaths([a,b.pathnameBase])),route:_e}),b.pathnameBase!=="/"&&(a=joinPaths([a,b.pathnameBase]))}return c}function matchPath(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,o]=compilePath(i.path,i.caseSensitive,i.end),a=e.match(s);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:o.reduce((_,b,_e)=>{let{paramName:ft,isOptional:mt}=b;if(ft==="*"){let at=g[_e]||"";d=c.slice(0,c.length-at.length).replace(/(.)\/+$/,"$1")}const lt=g[_e];return mt&&!lt?_[ft]=void 0:_[ft]=(lt||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:d,pattern:i}}function compilePath(i,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),warning$2(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,h)=>(o.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function decodePath(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$2(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function stripBasename(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,o=i.charAt(s);return o&&o!=="/"?null:i.slice(s)||"/"}function resolvePath(i,e){e===void 0&&(e="/");let{pathname:s,search:o="",hash:a=""}=typeof i=="string"?parsePath(i):i;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,e):e,search:normalizeSearch(o),hash:normalizeHash(a)}}function resolvePathname(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(i,e,s,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(i,e){let s=getPathContributingMatches(i);return e?s.map((o,a)=>a===i.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function resolveTo(i,e,s,o){o===void 0&&(o=!1);let a;typeof i=="string"?a=parsePath(i):(a=_extends$2({},i),invariant$1(!a.pathname||!a.pathname.includes("?"),getInvalidPathError("?","pathname","search",a)),invariant$1(!a.pathname||!a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",a)),invariant$1(!a.search||!a.search.includes("#"),getInvalidPathError("#","search","hash",a)));let c=i===""||a.pathname==="",d=c?"/":a.pathname,g;if(d==null)g=s;else{let _e=e.length-1;if(!o&&d.startsWith("..")){let ft=d.split("/");for(;ft[0]==="..";)ft.shift(),_e-=1;a.pathname=ft.join("/")}g=_e>=0?e[_e]:"/"}let h=resolvePath(a,g),_=d&&d!=="/"&&d.endsWith("/"),b=(c||d===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(_||b)&&(h.pathname+="/"),h}const joinPaths=i=>i.join("/").replace(/\/\/+/g,"/"),normalizePathname=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,normalizeHash=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function isRouteErrorResponse(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(i,e){let{relative:s}=e===void 0?{}:e;useInRouterContext()||invariant$1(!1);let{basename:o,navigator:a}=reactExports.useContext(NavigationContext),{hash:c,pathname:d,search:g}=useResolvedPath(i,{relative:s}),h=d;return o!=="/"&&(h=d==="/"?o:joinPaths([o,d])),a.createHref({pathname:h,search:g,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(i){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(i)}function useNavigate(){let{isDataRoute:i}=reactExports.useContext(RouteContext);return i?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let i=reactExports.useContext(DataRouterContext),{basename:e,future:s,navigator:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(a,s.v7_relativeSplatPath)),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{g.current=!0}),reactExports.useCallback(function(_,b){if(b===void 0&&(b={}),!g.current)return;if(typeof _=="number"){o.go(_);return}let _e=resolveTo(_,JSON.parse(d),c,b.relative==="path");i==null&&e!=="/"&&(_e.pathname=_e.pathname==="/"?e:joinPaths([e,_e.pathname])),(b.replace?o.replace:o.push)(_e,b.state,b)},[e,o,d,c,i])}function useResolvedPath(i,e){let{relative:s}=e===void 0?{}:e,{future:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(a,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(i,JSON.parse(d),c,s==="path"),[i,d,c,s])}function useRoutes(i,e){return useRoutesImpl(i,e)}function useRoutesImpl(i,e,s,o){useInRouterContext()||invariant$1(!1);let{navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),d=c[c.length-1],g=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let _=useLocation(),b;if(e){var _e;let ct=typeof e=="string"?parsePath(e):e;h==="/"||(_e=ct.pathname)!=null&&_e.startsWith(h)||invariant$1(!1),b=ct}else b=_;let ft=b.pathname||"/",mt=ft;if(h!=="/"){let ct=h.replace(/^\//,"").split("/");mt="/"+ft.replace(/^\//,"").split("/").slice(ct.length).join("/")}let lt=matchRoutes(i,{pathname:mt}),at=_renderMatches(lt&&lt.map(ct=>Object.assign({},ct,{params:Object.assign({},g,ct.params),pathname:joinPaths([h,a.encodeLocation?a.encodeLocation(ct.pathname).pathname:ct.pathname]),pathnameBase:ct.pathnameBase==="/"?h:joinPaths([h,a.encodeLocation?a.encodeLocation(ct.pathnameBase).pathname:ct.pathnameBase])})),c,s,o);return e&&at?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Action.Pop}},at):at}function DefaultErrorComponent(){let i=useRouteError(),e=isRouteErrorResponse(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),s?reactExports.createElement("pre",{style:a},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(i){let{routeContext:e,match:s,children:o}=i,a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:e},o)}function _renderMatches(i,e,s,o){var a;if(e===void 0&&(e=[]),s===void 0&&(s=null),o===void 0&&(o=null),i==null){var c;if((c=s)!=null&&c.errors)i=s.matches;else return null}let d=i,g=(a=s)==null?void 0:a.errors;if(g!=null){let b=d.findIndex(_e=>_e.route.id&&(g==null?void 0:g[_e.route.id]));b>=0||invariant$1(!1),d=d.slice(0,Math.min(d.length,b+1))}let h=!1,_=-1;if(s&&o&&o.v7_partialHydration)for(let b=0;b<d.length;b++){let _e=d[b];if((_e.route.HydrateFallback||_e.route.hydrateFallbackElement)&&(_=b),_e.route.id){let{loaderData:ft,errors:mt}=s,lt=_e.route.loader&&ft[_e.route.id]===void 0&&(!mt||mt[_e.route.id]===void 0);if(_e.route.lazy||lt){h=!0,_>=0?d=d.slice(0,_+1):d=[d[0]];break}}}return d.reduceRight((b,_e,ft)=>{let mt,lt=!1,at=null,ct=null;s&&(mt=g&&_e.route.id?g[_e.route.id]:void 0,at=_e.route.errorElement||defaultErrorElement,h&&(_<0&&ft===0?(warningOnce("route-fallback",!1),lt=!0,ct=null):_===ft&&(lt=!0,ct=_e.route.hydrateFallbackElement||null)));let et=e.concat(d.slice(0,ft+1)),$=()=>{let tt;return mt?tt=at:lt?tt=ct:_e.route.Component?tt=reactExports.createElement(_e.route.Component,null):_e.route.element?tt=_e.route.element:tt=b,reactExports.createElement(RenderedRoute,{match:_e,routeContext:{outlet:b,matches:et,isDataRoute:s!=null},children:tt})};return s&&(_e.route.ErrorBoundary||_e.route.errorElement||ft===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:at,error:mt,children:$(),routeContext:{outlet:null,matches:et,isDataRoute:!0}}):$()},null)}var DataRouterHook$1=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(DataRouterHook$1||{}),DataRouterStateHook$1=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(DataRouterStateHook$1||{});function useDataRouterContext(i){let e=reactExports.useContext(DataRouterContext);return e||invariant$1(!1),e}function useDataRouterState(i){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$1(!1),e}function useRouteContext(i){let e=reactExports.useContext(RouteContext);return e||invariant$1(!1),e}function useCurrentRouteId(i){let e=useRouteContext(),s=e.matches[e.matches.length-1];return s.route.id||invariant$1(!1),s.route.id}function useRouteError(){var i;let e=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),o=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(i=s.errors)==null?void 0:i[o]}function useNavigateStable(){let{router:i}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(a,c){c===void 0&&(c={}),s.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,_extends$1({fromRouteId:e},c)))},[i,e])}const alreadyWarned={};function warningOnce(i,e,s){!e&&!alreadyWarned[i]&&(alreadyWarned[i]=!0)}function Route(i){invariant$1(!1)}function Router(i){let{basename:e="/",children:s=null,location:o,navigationType:a=Action.Pop,navigator:c,static:d=!1,future:g}=i;useInRouterContext()&&invariant$1(!1);let h=e.replace(/^\/*/,"/"),_=reactExports.useMemo(()=>({basename:h,navigator:c,static:d,future:_extends$1({v7_relativeSplatPath:!1},g)}),[h,g,c,d]);typeof o=="string"&&(o=parsePath(o));let{pathname:b="/",search:_e="",hash:ft="",state:mt=null,key:lt="default"}=o,at=reactExports.useMemo(()=>{let ct=stripBasename(b,h);return ct==null?null:{location:{pathname:ct,search:_e,hash:ft,state:mt,key:lt},navigationType:a}},[h,b,_e,ft,mt,lt,a]);return at==null?null:reactExports.createElement(NavigationContext.Provider,{value:_},reactExports.createElement(LocationContext.Provider,{children:s,value:at}))}function Routes(i){let{children:e,location:s}=i;return useRoutes(createRoutesFromChildren(e),s)}new Promise(()=>{});function createRoutesFromChildren(i,e){e===void 0&&(e=[]);let s=[];return reactExports.Children.forEach(i,(o,a)=>{if(!reactExports.isValidElement(o))return;let c=[...e,a];if(o.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(o.props.children,c));return}o.type!==Route&&invariant$1(!1),!o.props.index||!o.props.children||invariant$1(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=createRoutesFromChildren(o.props.children,c)),s.push(d)}),s}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(i,e){if(i==null)return{};var s={},o=Object.keys(i),a,c;for(c=0;c<o.length;c++)a=o[c],!(e.indexOf(a)>=0)&&(s[a]=i[a]);return s}function isModifiedEvent(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function shouldProcessLinkClick(i,e){return i.button===0&&(!e||e==="_self")&&!isModifiedEvent(i)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(i){let{basename:e,children:s,future:o,window:a}=i,c=reactExports.useRef();c.current==null&&(c.current=createBrowserHistory({window:a,v5Compat:!0}));let d=c.current,[g,h]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:_}=o||{},b=reactExports.useCallback(_e=>{_&&startTransitionImpl?startTransitionImpl(()=>h(_e)):h(_e)},[h,_]);return reactExports.useLayoutEffect(()=>d.listen(b),[d,b]),reactExports.createElement(Router,{basename:e,children:s,location:g.location,navigationType:g.action,navigator:d,future:o})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,s){let{onClick:o,relative:a,reloadDocument:c,replace:d,state:g,target:h,to:_,preventScrollReset:b,unstable_viewTransition:_e}=e,ft=_objectWithoutPropertiesLoose(e,_excluded),{basename:mt}=reactExports.useContext(NavigationContext),lt,at=!1;if(typeof _=="string"&&ABSOLUTE_URL_REGEX.test(_)&&(lt=_,isBrowser$1))try{let tt=new URL(window.location.href),ht=_.startsWith("//")?new URL(tt.protocol+_):new URL(_),rt=stripBasename(ht.pathname,mt);ht.origin===tt.origin&&rt!=null?_=rt+ht.search+ht.hash:at=!0}catch{}let ct=useHref(_,{relative:a}),et=useLinkClickHandler(_,{replace:d,state:g,target:h,preventScrollReset:b,relative:a,unstable_viewTransition:_e});function $(tt){o&&o(tt),tt.defaultPrevented||et(tt)}return reactExports.createElement("a",_extends({},ft,{href:lt||ct,onClick:at||c?o:$,ref:s,target:h}))});var DataRouterHook;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(i,e){let{target:s,replace:o,state:a,preventScrollReset:c,relative:d,unstable_viewTransition:g}=e===void 0?{}:e,h=useNavigate(),_=useLocation(),b=useResolvedPath(i,{relative:d});return reactExports.useCallback(_e=>{if(shouldProcessLinkClick(_e,s)){_e.preventDefault();let ft=o!==void 0?o:createPath(_)===createPath(b);h(i,{replace:ft,state:a,preventScrollReset:c,relative:d,unstable_viewTransition:g})}},[_,h,b,o,a,s,i,c,d,g])}const SocialTypes=[{name:"LinkedIn",icon:jsxRuntimeExports.jsx(FaLinkedinIn,{})},{name:"Instagram",icon:jsxRuntimeExports.jsx(RiInstagramFill,{})},{name:"Behance",icon:jsxRuntimeExports.jsx(SiBehance,{})},{name:"Dribble",icon:jsxRuntimeExports.jsx(FaDribbble,{})},{name:"Github",icon:jsxRuntimeExports.jsx(FaGithub,{})}];function WorkInfo({seller:i,setSeller:e,setPage:s}){var Ft,yt;const[o,a]=reactExports.useState(!1),[c,d]=reactExports.useState([null,null,null,null,null,null]),[g,h]=reactExports.useState(""),[_,b]=reactExports.useState(""),[_e,ft]=reactExports.useState(!1),[mt,lt]=reactExports.useState({userName:"",uid:""}),at=reactExports.useRef([]),ct=reactExports.useRef(null),et=()=>{e(vt=>({...vt,experienceDetails:[...vt.experienceDetails,{title:"",link:"",content:""}]}))},$=({index:vt,field:At,value:kt})=>{e(_t=>{let Pt=_t.experienceDetails;return Pt[vt][At]=kt,{..._t,experienceDetails:Pt}})},tt=vt=>{e(At=>{const kt=At.experienceDetails.filter((_t,Pt)=>Pt!==vt);return{...At,experienceDetails:kt}})};function ht(vt){const At=SocialTypes.find(kt=>kt.name.toLowerCase()===(vt==null?void 0:vt.toLowerCase()));return At?At.icon:null}function rt({type:vt,link:At}){e(kt=>({...kt,socialMediaLinks:[...kt.socialMediaLinks,{platformType:vt,link:At}]})),b(""),h("")}function dt(vt){let At=i.socialMediaLinks;At.splice(vt,1),e({...i,socialMediaLinks:At})}const xt=({index:vt,file:At})=>{const kt=At==null?void 0:At.type.split("/")[0];if(kt==="video"){const _t=document.createElement("video");_t.src=URL.createObjectURL(At),_t.onloadedmetadata=()=>{_t.duration<=60?(d(Pt=>{let $t=Pt;return $t[vt]=At,$t}),e(Pt=>{let $t=Pt.videos;return $t[vt]=At,{...Pt,videos:$t}})):alert("Please upload a video less than 1 minute in duration.")}}else d(_t=>{let Pt=_t;return Pt[vt]=At,Pt}),e(_t=>{if(kt==="image"){let Pt=_t.images;return Pt[vt]=At,{..._t,images:Pt}}return _t})},pt=(vt,At)=>{const kt=At==null?void 0:At.type.split("/")[0];d(_t=>{let Pt=_t;return Pt[vt]=null,Pt}),e(kt==="image"?_t=>{let Pt=_t.images;return Pt[vt]=null,{..._t,images:Pt}}:_t=>{let Pt=_t.videos;return Pt[vt]=null,{..._t,videos:Pt}}),at.current[vt]&&at.current[vt].current&&(at.current[vt].current.value="")},it=async vt=>{var kt;vt.preventDefault(),a(!0);const At=new FormData;At.append("image",i.image),At.append("resume",i.resume),At.append("name",i.name),At.append("userName",i.userName),At.append("gender",i.gender),At.append("email",i.email),At.append("phone_number","+91"+i.phone_number),At.append("city",i.city),At.append("profession",i.profession),At.append("experience",i.experience),At.append("collegeName",i.collegeName),At.append("description",i.description),At.append("services",JSON.stringify(i.services)),At.append("skills",JSON.stringify(i.skills)),At.append("experienceDetails",JSON.stringify(i.experienceDetails)),At.append("socialMediaLinks",JSON.stringify(i.socialMediaLinks)),i.images.forEach((_t,Pt)=>{At.append("images",_t)}),i.videos&&i.videos.forEach((_t,Pt)=>{At.append("videos",_t)}),At.append("coordinates",JSON.stringify(i.coordinates)),console.log(At);try{const _t=sessionStorage.getItem("bfm-form-seller-token"),Pt=await axios.post("https://api.blackfoxmetaverse.io/main/seller",At,{headers:{"Content-Type":"multipart/form-data",token:_t}});console.log(Pt.data),lt({...(kt=Pt.data)==null?void 0:kt.data}),a(!1),ft(!0)}catch(_t){console.error(_t),a(!1),alert("Some thing went wrong!"),ft(!1)}};function St(vt){try{const At=new URL(vt);if(g.toLowerCase()===(At.hostname.includes("www")?At.hostname.split(".")[1]:At.hostname.split(".")[0]))return!0;throw new Error}catch{return!1}}const Et=vt=>URL.createObjectURL(vt),Dt=vt=>{ct.current&&(ct.current.paused?ct.current.play():ct.current.pause())};return jsxRuntimeExports.jsxs("form",{onSubmit:it,className:"formLayout",children:[jsxRuntimeExports.jsx("div",{className:style$1.Header,children:"Show Your work"}),jsxRuntimeExports.jsx("div",{className:style$1.Subtext,children:"Please enter your Work, Projects and Experiences."}),jsxRuntimeExports.jsxs("div",{className:style$1.Page,children:[jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:style$1.Label,children:"Description*"}),jsxRuntimeExports.jsx("textarea",{type:"text",name:"description",id:"description",placeholder:"Tell us about yourself",className:style$1.TextAreaInput,required:!0,value:i.description,onChange:vt=>e(At=>({...At,description:vt.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"socialMediaLinks",className:style$1.Label,children:"Connect with Social Media*"}),((Ft=i==null?void 0:i.socialMediaLinks)==null?void 0:Ft.length)>0&&jsxRuntimeExports.jsx("ul",{style:{display:"flex",gap:"1rem"},children:(yt=i==null?void 0:i.socialMediaLinks)==null?void 0:yt.map((vt,At)=>jsxRuntimeExports.jsxs("li",{className:style$1.SocialType,children:[jsxRuntimeExports.jsx("div",{style:{fontSize:25.779},children:ht(vt.platformType)}),jsxRuntimeExports.jsx("button",{type:"button",className:"TeriaryButton",onClick:()=>dt(At),children:jsxRuntimeExports.jsx(RxCross2,{})})]},At))}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsxs("select",{name:"social-media",id:"social-media",value:g,required:i.socialMediaLinks.length===0,className:style$1.Dropdown,onChange:vt=>h(vt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select a platform"}),SocialTypes==null?void 0:SocialTypes.filter(vt=>vt!==(i==null?void 0:i.socialMediaLinks)).map((vt,At)=>jsxRuntimeExports.jsx("option",{value:vt.name,children:vt.name},At))]}),g&&jsxRuntimeExports.jsx("input",{placeholder:"Enter your profile URL",type:"url",className:style$1.TextInput,value:_,onChange:vt=>b(vt.target.value)}),_&&St(_)?jsxRuntimeExports.jsxs("button",{type:"button",style:{color:"#4461F2"},className:"SecondaryBtn",onClick:()=>rt({type:g,link:_}),children:[jsxRuntimeExports.jsx(IoAdd,{})," Add"]}):null,_!==""||g?jsxRuntimeExports.jsxs("button",{type:"button",style:{color:"#EA615D"},className:"SecondaryBtn",onClick:()=>{b(""),h("")},children:[jsxRuntimeExports.jsx(RxCross2,{})," Clear"]}):null]})]}),jsxRuntimeExports.jsxs("div",{style:{width:"100%"},className:"formLayout",children:[jsxRuntimeExports.jsx("label",{htmlFor:"experienceDetails",className:style$1.Label,children:"Experiences*"}),i.experienceDetails.map((vt,At,kt)=>jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("input",{type:"text",name:"title",required:!0,placeholder:"Enter title of Project",className:style$1.TextInput,value:vt.title,onChange:_t=>$({index:At,field:"title",value:_t.target.value})}),jsxRuntimeExports.jsx("input",{type:"url",name:"link",required:!0,placeholder:"Paste Link",className:style$1.TextInput,value:vt.link,onChange:_t=>$({index:At,field:"link",value:_t.target.value})}),jsxRuntimeExports.jsx("textarea",{type:"text",name:"content",required:!0,className:style$1.TextAreaInput,value:vt.content,onChange:_t=>$({index:At,field:"content",value:_t.target.value}),placeholder:"Describe your product and service"}),jsxRuntimeExports.jsxs("button",{type:"button",style:{color:"#EA615D"},className:"SecondaryBtn",onClick:()=>tt(At),children:[jsxRuntimeExports.jsx(RxCross2,{}),"Remove Experience"]})]},At)),jsxRuntimeExports.jsxs("button",{type:"button",style:{color:"#4461F2"},className:"SecondaryBtn",onClick:et,children:[jsxRuntimeExports.jsx(IoAdd,{}),"Add Experiences"]})]}),jsxRuntimeExports.jsxs("div",{className:style$1.TextField,children:[jsxRuntimeExports.jsx("label",{className:style$1.Label}),jsxRuntimeExports.jsx("div",{className:style$1.GallaryImages,children:c.map((vt,At)=>vt?jsxRuntimeExports.jsxs("div",{className:`${style$1.GallaryImage} ${At===0&&style$1.FirstImage}`,children:[vt.type&&vt.type.startsWith("image/")?jsxRuntimeExports.jsx("img",{src:Et(vt),alt:"",style:{objectFit:"cover",width:"100%",height:"100%"}}):jsxRuntimeExports.jsx("video",{src:Et(vt),alt:"",style:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},ref:ct,onClick:Dt}),jsxRuntimeExports.jsx("button",{type:"button",className:style$1.ImageButton,onClick:()=>pt(At,vt),children:jsxRuntimeExports.jsx(RxCross2,{style:{padding:2,background:"white",borderRadius:"50%"}})}),vt.type&&vt.type.startsWith("video/")&&jsxRuntimeExports.jsx("button",{type:"button",className:style$1.VideoButton,onClick:()=>pt(At,vt),children:jsxRuntimeExports.jsx(FaVideo,{style:{padding:2,background:"white",borderRadius:"50%"}})})]},At):jsxRuntimeExports.jsxs("label",{htmlFor:vt,style:{cursor:"pointer",zIndex:10},className:`${style$1.GallaryImage} ${At===0&&style$1.FirstImage}`,children:[jsxRuntimeExports.jsx("input",{type:"file",name:vt,id:vt,style:{display:"none"},onChange:kt=>xt({index:At,file:kt.target.files[0]}),ref:at.current[At]}),jsxRuntimeExports.jsx(IoAdd,{})]},At))})]}),jsxRuntimeExports.jsxs("div",{className:style$1.CheckBox,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"agreetoshare",id:"agreetoshare",required:!0}),jsxRuntimeExports.jsx("label",{htmlFor:"agreetoshare",className:style$1.Label,children:"I willingly share my details and information. I am aware that my contact details will be accessible to both visitors and members of the BFM platform due to my personal choice and decision."})]}),jsxRuntimeExports.jsxs("div",{className:style$1.CheckBox,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"agree",id:"agree",required:!0}),jsxRuntimeExports.jsxs("label",{htmlFor:"agree",className:style$1.Label,children:["I agree to all"," ",jsxRuntimeExports.jsxs(Link,{to:"/terms-and-conditions",target:"_blank",children:["Terms & Conditions",jsxRuntimeExports.jsx("span",{style:{textDecoration:"none"},children:" also the "}),"Privacy Policy"]})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"PrimaryBtn",disabled:o,children:o?"Loading...":"Submit"})]}),_e&&jsxRuntimeExports.jsx(ThankYouPage,{...mt})]})}function getUserPreciseLocation(){return new Promise((i,e)=>{if(navigator.geolocation){const s={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(function(o){const a=o.coords.latitude,c=o.coords.longitude;i({longitude:c,latitude:a})},function(o){console.error(`Error getting location: ${o.message}`),e(o)},s)}else console.error("Geolocation is not supported by this browser"),e(new Error("Geolocation is not supported"))})}function Home(){const[i,e]=reactExports.useState(1),[s,o]=reactExports.useState({image:null,name:"",userName:"",email:"",phone_number:"",city:"",profession:"",gender:"",experience:"",services:[],skills:[],collegeName:"",resume:null,description:"",socialMediaLinks:[],experienceDetails:[],images:[null,null,null,null,null,null],videos:[null,null,null,null,null,null],coordinates:{longitude:0,latitude:0}});return reactExports.useEffect(()=>{console.log(s)},[s]),reactExports.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]),reactExports.useEffect(()=>{getUserPreciseLocation().then(a=>{o({...s,coordinates:{...a}})})},[]),jsxRuntimeExports.jsx("div",{className:style$1.Container,children:jsxRuntimeExports.jsxs("div",{className:style$1.Center,children:[jsxRuntimeExports.jsx(Bread,{page:i,setPage:e}),i===1?jsxRuntimeExports.jsx(Login,{setPage:e,seller:s,setSeller:o}):null,i===2?jsxRuntimeExports.jsx(PersonalInfo,{seller:s,setSeller:o,setPage:e}):null,i===3?jsxRuntimeExports.jsx(ProfessionalInfo,{seller:s,setSeller:o,setPage:e}):null,i===4?jsxRuntimeExports.jsx(WorkInfo,{seller:s,setSeller:o,setPage:e}):null]})})}var dist={},ga4={},gtag={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];if(typeof window<"u"){var g;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(g=window).gtag.apply(g,c)}},s=e;i.default=s})(gtag);var format={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=d;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function s(g){return g.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(h,_,b){return _>0&&_+h.length!==b.length&&h.search(e)>-1&&b.charAt(_-2)!==":"&&(b.charAt(_+h.length)!=="-"||b.charAt(_-1)==="-")&&b.charAt(_-1).search(/[^\s-]/)<0?h.toLowerCase():h.substr(1).search(/[A-Z]|\../)>-1?h:h.charAt(0).toUpperCase()+h.substr(1)})}function o(g){return typeof g=="string"&&g.indexOf("@")!==-1}var a="REDACTED (Potential Email Address)";function c(g){return o(g)?(console.warn("This arg looks like an email address, redacting."),a):g}function d(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,b=g||"";return h&&(b=s(g)),_&&(b=c(b)),b}})(format);(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.GA4=void 0;var e=d(gtag),s=d(format),o=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],c=["page","hitType"];function d(yt){return yt&&yt.__esModule?yt:{default:yt}}function g(yt,vt){if(yt==null)return{};var At=h(yt,vt),kt,_t;if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(yt);for(_t=0;_t<Pt.length;_t++)kt=Pt[_t],!(vt.indexOf(kt)>=0)&&Object.prototype.propertyIsEnumerable.call(yt,kt)&&(At[kt]=yt[kt])}return At}function h(yt,vt){if(yt==null)return{};var At={},kt=Object.keys(yt),_t,Pt;for(Pt=0;Pt<kt.length;Pt++)_t=kt[Pt],!(vt.indexOf(_t)>=0)&&(At[_t]=yt[_t]);return At}function _(yt){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},_(yt)}function b(yt){return mt(yt)||ft(yt)||$(yt)||_e()}function _e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ft(yt){if(typeof Symbol<"u"&&yt[Symbol.iterator]!=null||yt["@@iterator"]!=null)return Array.from(yt)}function mt(yt){if(Array.isArray(yt))return tt(yt)}function lt(yt,vt){var At=Object.keys(yt);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(yt);vt&&(kt=kt.filter(function(_t){return Object.getOwnPropertyDescriptor(yt,_t).enumerable})),At.push.apply(At,kt)}return At}function at(yt){for(var vt=1;vt<arguments.length;vt++){var At=arguments[vt]!=null?arguments[vt]:{};vt%2?lt(Object(At),!0).forEach(function(kt){it(yt,kt,At[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(At)):lt(Object(At)).forEach(function(kt){Object.defineProperty(yt,kt,Object.getOwnPropertyDescriptor(At,kt))})}return yt}function ct(yt,vt){return rt(yt)||ht(yt,vt)||$(yt,vt)||et()}function et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(yt,vt){if(yt){if(typeof yt=="string")return tt(yt,vt);var At=Object.prototype.toString.call(yt).slice(8,-1);if(At==="Object"&&yt.constructor&&(At=yt.constructor.name),At==="Map"||At==="Set")return Array.from(yt);if(At==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(At))return tt(yt,vt)}}function tt(yt,vt){(vt==null||vt>yt.length)&&(vt=yt.length);for(var At=0,kt=new Array(vt);At<vt;At++)kt[At]=yt[At];return kt}function ht(yt,vt){var At=yt==null?null:typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(At!=null){var kt,_t,Pt,$t,Zt=[],nn=!0,Tt=!1;try{if(Pt=(At=At.call(yt)).next,vt===0){if(Object(At)!==At)return;nn=!1}else for(;!(nn=(kt=Pt.call(At)).done)&&(Zt.push(kt.value),Zt.length!==vt);nn=!0);}catch(nt){Tt=!0,_t=nt}finally{try{if(!nn&&At.return!=null&&($t=At.return(),Object($t)!==$t))return}finally{if(Tt)throw _t}}return Zt}}function rt(yt){if(Array.isArray(yt))return yt}function dt(yt,vt){if(!(yt instanceof vt))throw new TypeError("Cannot call a class as a function")}function xt(yt,vt){for(var At=0;At<vt.length;At++){var kt=vt[At];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,St(kt.key),kt)}}function pt(yt,vt,At){return vt&&xt(yt.prototype,vt),At&&xt(yt,At),Object.defineProperty(yt,"prototype",{writable:!1}),yt}function it(yt,vt,At){return vt=St(vt),vt in yt?Object.defineProperty(yt,vt,{value:At,enumerable:!0,configurable:!0,writable:!0}):yt[vt]=At,yt}function St(yt){var vt=Et(yt,"string");return _(vt)==="symbol"?vt:String(vt)}function Et(yt,vt){if(_(yt)!=="object"||yt===null)return yt;var At=yt[Symbol.toPrimitive];if(At!==void 0){var kt=At.call(yt,vt||"default");if(_(kt)!=="object")return kt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(vt==="string"?String:Number)(yt)}var Dt=function(){function yt(){var vt=this;dt(this,yt),it(this,"reset",function(){vt.isInitialized=!1,vt._testMode=!1,vt._currentMeasurementId,vt._hasLoadedGA=!1,vt._isQueuing=!1,vt._queueGtag=[]}),it(this,"_gtag",function(){for(var At=arguments.length,kt=new Array(At),_t=0;_t<At;_t++)kt[_t]=arguments[_t];vt._testMode||vt._isQueuing?vt._queueGtag.push(kt):e.default.apply(void 0,kt)}),it(this,"_loadGA",function(At,kt){var _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!vt._hasLoadedGA){var Pt=document.createElement("script");Pt.async=!0,Pt.src="".concat(_t,"?id=").concat(At),kt&&Pt.setAttribute("nonce",kt),document.body.appendChild(Pt),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},vt._hasLoadedGA=!0}}),it(this,"_toGtagOptions",function(At){if(At){var kt={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},_t=Object.entries(At).reduce(function(Pt,$t){var Zt=ct($t,2),nn=Zt[0],Tt=Zt[1];return kt[nn]?Pt[kt[nn]]=Tt:Pt[nn]=Tt,Pt},{});return _t}}),it(this,"initialize",function(At){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!At)throw new Error("Require GA_MEASUREMENT_ID");var _t=typeof At=="string"?[{trackingId:At}]:At;vt._currentMeasurementId=_t[0].trackingId;var Pt=kt.gaOptions,$t=kt.gtagOptions,Zt=kt.nonce,nn=kt.testMode,Tt=nn===void 0?!1:nn,nt=kt.gtagUrl;if(vt._testMode=Tt,Tt||vt._loadGA(vt._currentMeasurementId,Zt,nt),vt.isInitialized||(vt._gtag("js",new Date),_t.forEach(function(gt){var bt=at(at(at({},vt._toGtagOptions(at(at({},Pt),gt.gaOptions))),$t),gt.gtagOptions);Object.keys(bt).length?vt._gtag("config",gt.trackingId,bt):vt._gtag("config",gt.trackingId)})),vt.isInitialized=!0,!Tt){var ut=b(vt._queueGtag);for(vt._queueGtag=[],vt._isQueuing=!1;ut.length;){var ot=ut.shift();vt._gtag.apply(vt,b(ot)),ot[0]==="get"&&(vt._isQueuing=!0)}}}),it(this,"set",function(At){if(!At){console.warn("`fieldsObject` is required in .set()");return}if(_(At)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(At).length===0&&console.warn("empty `fieldsObject` given to .set()"),vt._gaCommand("set",At)}),it(this,"_gaCommandSendEvent",function(At,kt,_t,Pt,$t){vt._gtag("event",kt,at(at({event_category:At,event_label:_t,value:Pt},$t&&{non_interaction:$t.nonInteraction}),vt._toGtagOptions($t)))}),it(this,"_gaCommandSendEventParameters",function(){for(var At=arguments.length,kt=new Array(At),_t=0;_t<At;_t++)kt[_t]=arguments[_t];if(typeof kt[0]=="string")vt._gaCommandSendEvent.apply(vt,b(kt.slice(1)));else{var Pt=kt[0],$t=Pt.eventCategory,Zt=Pt.eventAction,nn=Pt.eventLabel,Tt=Pt.eventValue;Pt.hitType;var nt=g(Pt,o);vt._gaCommandSendEvent($t,Zt,nn,Tt,nt)}}),it(this,"_gaCommandSendTiming",function(At,kt,_t,Pt){vt._gtag("event","timing_complete",{name:kt,value:_t,event_category:At,event_label:Pt})}),it(this,"_gaCommandSendPageview",function(At,kt){if(kt&&Object.keys(kt).length){var _t=vt._toGtagOptions(kt),Pt=_t.title,$t=_t.location,Zt=g(_t,a);vt._gtag("event","page_view",at(at(at(at({},At&&{page_path:At}),Pt&&{page_title:Pt}),$t&&{page_location:$t}),Zt))}else At?vt._gtag("event","page_view",{page_path:At}):vt._gtag("event","page_view")}),it(this,"_gaCommandSendPageviewParameters",function(){for(var At=arguments.length,kt=new Array(At),_t=0;_t<At;_t++)kt[_t]=arguments[_t];if(typeof kt[0]=="string")vt._gaCommandSendPageview.apply(vt,b(kt.slice(1)));else{var Pt=kt[0],$t=Pt.page;Pt.hitType;var Zt=g(Pt,c);vt._gaCommandSendPageview($t,Zt)}}),it(this,"_gaCommandSend",function(){for(var At=arguments.length,kt=new Array(At),_t=0;_t<At;_t++)kt[_t]=arguments[_t];var Pt=typeof kt[0]=="string"?kt[0]:kt[0].hitType;switch(Pt){case"event":vt._gaCommandSendEventParameters.apply(vt,kt);break;case"pageview":vt._gaCommandSendPageviewParameters.apply(vt,kt);break;case"timing":vt._gaCommandSendTiming.apply(vt,b(kt.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(Pt));break;default:console.warn("Send command doesn't exist: ".concat(Pt))}}),it(this,"_gaCommandSet",function(){for(var At=arguments.length,kt=new Array(At),_t=0;_t<At;_t++)kt[_t]=arguments[_t];typeof kt[0]=="string"&&(kt[0]=it({},kt[0],kt[1])),vt._gtag("set",vt._toGtagOptions(kt[0]))}),it(this,"_gaCommand",function(At){for(var kt=arguments.length,_t=new Array(kt>1?kt-1:0),Pt=1;Pt<kt;Pt++)_t[Pt-1]=arguments[Pt];switch(At){case"send":vt._gaCommandSend.apply(vt,_t);break;case"set":vt._gaCommandSet.apply(vt,_t);break;default:console.warn("Command doesn't exist: ".concat(At))}}),it(this,"ga",function(){for(var At=arguments.length,kt=new Array(At),_t=0;_t<At;_t++)kt[_t]=arguments[_t];if(typeof kt[0]=="string")vt._gaCommand.apply(vt,kt);else{var Pt=kt[0];vt._gtag("get",vt._currentMeasurementId,"client_id",function($t){vt._isQueuing=!1;var Zt=vt._queueGtag;for(Pt({get:function(nt){return nt==="clientId"?$t:nt==="trackingId"?vt._currentMeasurementId:nt==="apiVersion"?"1":void 0}});Zt.length;){var nn=Zt.shift();vt._gtag.apply(vt,b(nn))}}),vt._isQueuing=!0}return vt.ga}),it(this,"event",function(At,kt){if(typeof At=="string")vt._gtag("event",At,vt._toGtagOptions(kt));else{var _t=At.action,Pt=At.category,$t=At.label,Zt=At.value,nn=At.nonInteraction,Tt=At.transport;if(!Pt||!_t){console.warn("args.category AND args.action are required in event()");return}var nt={hitType:"event",eventCategory:(0,s.default)(Pt),eventAction:(0,s.default)(_t)};$t&&(nt.eventLabel=(0,s.default)($t)),typeof Zt<"u"&&(typeof Zt!="number"?console.warn("Expected `args.value` arg to be a Number."):nt.eventValue=Zt),typeof nn<"u"&&(typeof nn!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):nt.nonInteraction=nn),typeof Tt<"u"&&(typeof Tt!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(Tt)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),nt.transport=Tt)),vt._gaCommand("send",nt)}}),it(this,"send",function(At){vt._gaCommand("send",At)}),this.reset()}return pt(yt,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),yt}();i.GA4=Dt;var Ft=new Dt;i.default=Ft})(ga4);(function(i){function e(g){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(g)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ReactGAImplementation=void 0;var s=a(ga4);function o(g){if(typeof WeakMap!="function")return null;var h=new WeakMap,_=new WeakMap;return(o=function(_e){return _e?_:h})(g)}function a(g,h){if(!h&&g&&g.__esModule)return g;if(g===null||e(g)!=="object"&&typeof g!="function")return{default:g};var _=o(h);if(_&&_.has(g))return _.get(g);var b={},_e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ft in g)if(ft!=="default"&&Object.prototype.hasOwnProperty.call(g,ft)){var mt=_e?Object.getOwnPropertyDescriptor(g,ft):null;mt&&(mt.get||mt.set)?Object.defineProperty(b,ft,mt):b[ft]=g[ft]}return b.default=g,_&&_.set(g,b),b}var c=s.GA4;i.ReactGAImplementation=c;var d=s.default;i.default=d})(dist);const ReactGA=getDefaultExportFromCjs(dist);function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$2={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,s){module.exports=e.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,e)=>{var Ln;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Pt,e.bytesToString=Lt,e.createValidAbsoluteUrl=Zt,e.getModificationDate=fn,e.getUuid=Rn,e.getVerbosityLevel=vt,e.info=At,e.isArrayBuffer=tn,e.isArrayEqual=hn,e.isNodeJS=void 0,e.normalizeUnicode=On,e.objectFromMap=Jt,e.objectSize=Xt,e.setVerbosityLevel=yt,e.shadow=nn,e.string32=Wt,e.stringToBytes=qt,e.stringToPDFString=sn,e.stringToUTF8String=Vt,e.unreachable=_t,e.utf8StringToString=Gt,e.warn=kt;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=s;const o=[1,0,0,1,0,0];e.IDENTITY_MATRIX=o;const a=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=a;const c=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;e.LINE_FACTOR=d;const g=.35;e.LINE_DESCENT_FACTOR=g;const h=g/d;e.BASELINE_FACTOR=h;const _={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=_;const b={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=b;const _e="pdfjs_internal_editor_";e.AnnotationEditorPrefix=_e;const ft={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=ft;const mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=mt;const lt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=lt;const at={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=at;const ct={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=ct;const et={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=et;const $={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=$;const tt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=tt;const ht={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=ht;const rt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=rt;const dt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=dt;const xt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=xt;const pt={O:"PageOpen",C:"PageClose"};e.PageActionEventType=pt;const it={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=it;const St={NONE:0,BINARY:1};e.CMapCompressionType=St;const Et={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=Et;const Dt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=Dt;let Ft=it.WARNINGS;function yt(en){Number.isInteger(en)&&(Ft=en)}function vt(){return Ft}function At(en){Ft>=it.INFOS&&console.log(`Info: ${en}`)}function kt(en){Ft>=it.WARNINGS&&console.log(`Warning: ${en}`)}function _t(en){throw new Error(en)}function Pt(en,zt){en||_t(zt)}function $t(en){switch(en==null?void 0:en.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Zt(en,zt=null,Ut=null){if(!en)return null;try{if(Ut&&typeof en=="string"){if(Ut.addDefaultProtocol&&en.startsWith("www.")){const cn=en.match(/\./g);(cn==null?void 0:cn.length)>=2&&(en=`http://${en}`)}if(Ut.tryConvertEncoding)try{en=Vt(en)}catch{}}const an=zt?new URL(en,zt):new URL(en);if($t(an))return an}catch{}return null}function nn(en,zt,Ut,an=!1){return Object.defineProperty(en,zt,{value:Ut,enumerable:!an,configurable:!0,writable:!1}),Ut}const Tt=function(){function zt(Ut,an){this.constructor===zt&&_t("Cannot initialize BaseException."),this.message=Ut,this.name=an}return zt.prototype=new Error,zt.constructor=zt,zt}();e.BaseException=Tt;class nt extends Tt{constructor(zt,Ut){super(zt,"PasswordException"),this.code=Ut}}e.PasswordException=nt;class ut extends Tt{constructor(zt,Ut){super(zt,"UnknownErrorException"),this.details=Ut}}e.UnknownErrorException=ut;class ot extends Tt{constructor(zt){super(zt,"InvalidPDFException")}}e.InvalidPDFException=ot;class gt extends Tt{constructor(zt){super(zt,"MissingPDFException")}}e.MissingPDFException=gt;class bt extends Tt{constructor(zt,Ut){super(zt,"UnexpectedResponseException"),this.status=Ut}}e.UnexpectedResponseException=bt;class Ct extends Tt{constructor(zt){super(zt,"FormatError")}}e.FormatError=Ct;class Rt extends Tt{constructor(zt){super(zt,"AbortException")}}e.AbortException=Rt;function Lt(en){(typeof en!="object"||(en==null?void 0:en.length)===void 0)&&_t("Invalid argument for bytesToString");const zt=en.length,Ut=8192;if(zt<Ut)return String.fromCharCode.apply(null,en);const an=[];for(let cn=0;cn<zt;cn+=Ut){const Bn=Math.min(cn+Ut,zt),$n=en.subarray(cn,Bn);an.push(String.fromCharCode.apply(null,$n))}return an.join("")}function qt(en){typeof en!="string"&&_t("Invalid argument for stringToBytes");const zt=en.length,Ut=new Uint8Array(zt);for(let an=0;an<zt;++an)Ut[an]=en.charCodeAt(an)&255;return Ut}function Wt(en){return String.fromCharCode(en>>24&255,en>>16&255,en>>8&255,en&255)}function Xt(en){return Object.keys(en).length}function Jt(en){const zt=Object.create(null);for(const[Ut,an]of en)zt[Ut]=an;return zt}function rn(){const en=new Uint8Array(4);return en[0]=1,new Uint32Array(en.buffer,0,1)[0]===1}function Qt(){try{return new Function(""),!0}catch{return!1}}class pn{static get isLittleEndian(){return nn(this,"isLittleEndian",rn())}static get isEvalSupported(){return nn(this,"isEvalSupported",Qt())}static get isOffscreenCanvasSupported(){return nn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?nn(this,"platform",{isWin:!1,isMac:!1}):nn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var zt,Ut;return nn(this,"isCSSRoundSupported",(Ut=(zt=globalThis.CSS)==null?void 0:zt.supports)==null?void 0:Ut.call(zt,"width: round(1.5px, 1px)"))}}e.FeatureTest=pn;const bn=[...Array(256).keys()].map(en=>en.toString(16).padStart(2,"0"));class un{static makeHexColor(zt,Ut,an){return`#${bn[zt]}${bn[Ut]}${bn[an]}`}static scaleMinMax(zt,Ut){let an;zt[0]?(zt[0]<0&&(an=Ut[0],Ut[0]=Ut[1],Ut[1]=an),Ut[0]*=zt[0],Ut[1]*=zt[0],zt[3]<0&&(an=Ut[2],Ut[2]=Ut[3],Ut[3]=an),Ut[2]*=zt[3],Ut[3]*=zt[3]):(an=Ut[0],Ut[0]=Ut[2],Ut[2]=an,an=Ut[1],Ut[1]=Ut[3],Ut[3]=an,zt[1]<0&&(an=Ut[2],Ut[2]=Ut[3],Ut[3]=an),Ut[2]*=zt[1],Ut[3]*=zt[1],zt[2]<0&&(an=Ut[0],Ut[0]=Ut[1],Ut[1]=an),Ut[0]*=zt[2],Ut[1]*=zt[2]),Ut[0]+=zt[4],Ut[1]+=zt[4],Ut[2]+=zt[5],Ut[3]+=zt[5]}static transform(zt,Ut){return[zt[0]*Ut[0]+zt[2]*Ut[1],zt[1]*Ut[0]+zt[3]*Ut[1],zt[0]*Ut[2]+zt[2]*Ut[3],zt[1]*Ut[2]+zt[3]*Ut[3],zt[0]*Ut[4]+zt[2]*Ut[5]+zt[4],zt[1]*Ut[4]+zt[3]*Ut[5]+zt[5]]}static applyTransform(zt,Ut){const an=zt[0]*Ut[0]+zt[1]*Ut[2]+Ut[4],cn=zt[0]*Ut[1]+zt[1]*Ut[3]+Ut[5];return[an,cn]}static applyInverseTransform(zt,Ut){const an=Ut[0]*Ut[3]-Ut[1]*Ut[2],cn=(zt[0]*Ut[3]-zt[1]*Ut[2]+Ut[2]*Ut[5]-Ut[4]*Ut[3])/an,Bn=(-zt[0]*Ut[1]+zt[1]*Ut[0]+Ut[4]*Ut[1]-Ut[5]*Ut[0])/an;return[cn,Bn]}static getAxialAlignedBoundingBox(zt,Ut){const an=this.applyTransform(zt,Ut),cn=this.applyTransform(zt.slice(2,4),Ut),Bn=this.applyTransform([zt[0],zt[3]],Ut),$n=this.applyTransform([zt[2],zt[1]],Ut);return[Math.min(an[0],cn[0],Bn[0],$n[0]),Math.min(an[1],cn[1],Bn[1],$n[1]),Math.max(an[0],cn[0],Bn[0],$n[0]),Math.max(an[1],cn[1],Bn[1],$n[1])]}static inverseTransform(zt){const Ut=zt[0]*zt[3]-zt[1]*zt[2];return[zt[3]/Ut,-zt[1]/Ut,-zt[2]/Ut,zt[0]/Ut,(zt[2]*zt[5]-zt[4]*zt[3])/Ut,(zt[4]*zt[1]-zt[5]*zt[0])/Ut]}static singularValueDecompose2dScale(zt){const Ut=[zt[0],zt[2],zt[1],zt[3]],an=zt[0]*Ut[0]+zt[1]*Ut[2],cn=zt[0]*Ut[1]+zt[1]*Ut[3],Bn=zt[2]*Ut[0]+zt[3]*Ut[2],$n=zt[2]*Ut[1]+zt[3]*Ut[3],Ht=(an+$n)/2,dn=Math.sqrt((an+$n)**2-4*(an*$n-Bn*cn))/2,An=Ht+dn||1,mn=Ht-dn||1;return[Math.sqrt(An),Math.sqrt(mn)]}static normalizeRect(zt){const Ut=zt.slice(0);return zt[0]>zt[2]&&(Ut[0]=zt[2],Ut[2]=zt[0]),zt[1]>zt[3]&&(Ut[1]=zt[3],Ut[3]=zt[1]),Ut}static intersect(zt,Ut){const an=Math.max(Math.min(zt[0],zt[2]),Math.min(Ut[0],Ut[2])),cn=Math.min(Math.max(zt[0],zt[2]),Math.max(Ut[0],Ut[2]));if(an>cn)return null;const Bn=Math.max(Math.min(zt[1],zt[3]),Math.min(Ut[1],Ut[3])),$n=Math.min(Math.max(zt[1],zt[3]),Math.max(Ut[1],Ut[3]));return Bn>$n?null:[an,Bn,cn,$n]}static bezierBoundingBox(zt,Ut,an,cn,Bn,$n,Ht,dn){const An=[],mn=[[],[]];let xn,wn,jn,ln,Fn,Sn,It,st;for(let Bt=0;Bt<2;++Bt){if(Bt===0?(wn=6*zt-12*an+6*Bn,xn=-3*zt+9*an-9*Bn+3*Ht,jn=3*an-3*zt):(wn=6*Ut-12*cn+6*$n,xn=-3*Ut+9*cn-9*$n+3*dn,jn=3*cn-3*Ut),Math.abs(xn)<1e-12){if(Math.abs(wn)<1e-12)continue;ln=-jn/wn,0<ln&&ln<1&&An.push(ln);continue}It=wn*wn-4*jn*xn,st=Math.sqrt(It),!(It<0)&&(Fn=(-wn+st)/(2*xn),0<Fn&&Fn<1&&An.push(Fn),Sn=(-wn-st)/(2*xn),0<Sn&&Sn<1&&An.push(Sn))}let wt=An.length,Ot;const Nt=wt;for(;wt--;)ln=An[wt],Ot=1-ln,mn[0][wt]=Ot*Ot*Ot*zt+3*Ot*Ot*ln*an+3*Ot*ln*ln*Bn+ln*ln*ln*Ht,mn[1][wt]=Ot*Ot*Ot*Ut+3*Ot*Ot*ln*cn+3*Ot*ln*ln*$n+ln*ln*ln*dn;return mn[0][Nt]=zt,mn[1][Nt]=Ut,mn[0][Nt+1]=Ht,mn[1][Nt+1]=dn,mn[0].length=mn[1].length=Nt+2,[Math.min(...mn[0]),Math.min(...mn[1]),Math.max(...mn[0]),Math.max(...mn[1])]}}e.Util=un;const En=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function sn(en){if(en[0]>="ï"){let Ut;if(en[0]==="þ"&&en[1]==="ÿ"?Ut="utf-16be":en[0]==="ÿ"&&en[1]==="þ"?Ut="utf-16le":en[0]==="ï"&&en[1]==="»"&&en[2]==="¿"&&(Ut="utf-8"),Ut)try{const an=new TextDecoder(Ut,{fatal:!0}),cn=qt(en);return an.decode(cn)}catch(an){kt(`stringToPDFString: "${an}".`)}}const zt=[];for(let Ut=0,an=en.length;Ut<an;Ut++){const cn=En[en.charCodeAt(Ut)];zt.push(cn?String.fromCharCode(cn):en.charAt(Ut))}return zt.join("")}function Vt(en){return decodeURIComponent(escape(en))}function Gt(en){return unescape(encodeURIComponent(en))}function tn(en){return typeof en=="object"&&(en==null?void 0:en.byteLength)!==void 0}function hn(en,zt){if(en.length!==zt.length)return!1;for(let Ut=0,an=en.length;Ut<an;Ut++)if(en[Ut]!==zt[Ut])return!1;return!0}function fn(en=new Date){return[en.getUTCFullYear().toString(),(en.getUTCMonth()+1).toString().padStart(2,"0"),en.getUTCDate().toString().padStart(2,"0"),en.getUTCHours().toString().padStart(2,"0"),en.getUTCMinutes().toString().padStart(2,"0"),en.getUTCSeconds().toString().padStart(2,"0")].join("")}class Tn{constructor(){Mt(this,Ln,!1);this.promise=new Promise((zt,Ut)=>{this.resolve=an=>{Kt(this,Ln,!0),zt(an)},this.reject=an=>{Kt(this,Ln,!0),Ut(an)}})}get settled(){return j(this,Ln)}}Ln=new WeakMap,e.PromiseCapability=Tn;let In=null,Cn=null;function On(en){return In||(In=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Cn=new Map([["ﬅ","ſt"]])),en.replaceAll(In,(zt,Ut,an)=>Ut?Ut.normalize("NFKC"):Cn.get(an))}function Rn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const en=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(en);else for(let zt=0;zt<32;zt++)en[zt]=Math.floor(Math.random()*255);return Lt(en)}const kn="pdfjs_internal_id_";e.AnnotationPrefix=kn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var i,s,o,a,Qn,d,ur,h,_,b,_e,ft,mt,lt,at,ct,dr,$,tt,wr,rt,dt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(pt){if(typeof pt=="string"||pt instanceof URL?pt={url:pt}:(0,_util.isArrayBuffer)(pt)&&(pt={data:pt}),typeof pt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!pt.url&&!pt.data&&!pt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const it=new PDFDocumentLoadingTask,{docId:St}=it,Et=pt.url?getUrlProp(pt.url):null,Dt=pt.data?getDataProp(pt.data):null,Ft=pt.httpHeaders||null,yt=pt.withCredentials===!0,vt=pt.password??null,At=pt.range instanceof PDFDataRangeTransport?pt.range:null,kt=Number.isInteger(pt.rangeChunkSize)&&pt.rangeChunkSize>0?pt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let _t=pt.worker instanceof PDFWorker?pt.worker:null;const Pt=pt.verbosity,$t=typeof pt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(pt.docBaseUrl)?pt.docBaseUrl:null,Zt=typeof pt.cMapUrl=="string"?pt.cMapUrl:null,nn=pt.cMapPacked!==!1,Tt=pt.CMapReaderFactory||DefaultCMapReaderFactory,nt=typeof pt.standardFontDataUrl=="string"?pt.standardFontDataUrl:null,ut=pt.StandardFontDataFactory||DefaultStandardFontDataFactory,ot=pt.stopAtErrors!==!0,gt=Number.isInteger(pt.maxImageSize)&&pt.maxImageSize>-1?pt.maxImageSize:-1,bt=pt.isEvalSupported!==!1,Ct=typeof pt.isOffscreenCanvasSupported=="boolean"?pt.isOffscreenCanvasSupported:!_util.isNodeJS,Rt=Number.isInteger(pt.canvasMaxAreaInBytes)?pt.canvasMaxAreaInBytes:-1,Lt=typeof pt.disableFontFace=="boolean"?pt.disableFontFace:_util.isNodeJS,qt=pt.fontExtraProperties===!0,Wt=pt.enableXfa===!0,Xt=pt.ownerDocument||globalThis.document,Jt=pt.disableRange===!0,rn=pt.disableStream===!0,Qt=pt.disableAutoFetch===!0,pn=pt.pdfBug===!0,bn=At?At.length:pt.length??NaN,un=typeof pt.useSystemFonts=="boolean"?pt.useSystemFonts:!_util.isNodeJS&&!Lt,En=typeof pt.useWorkerFetch=="boolean"?pt.useWorkerFetch:Tt===_display_utils.DOMCMapReaderFactory&&ut===_display_utils.DOMStandardFontDataFactory&&Zt&&nt&&(0,_display_utils.isValidFetchUrl)(Zt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(nt,document.baseURI),sn=pt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Xt}),Vt=pt.filterFactory||new DefaultFilterFactory({docId:St,ownerDocument:Xt}),Gt=null;(0,_util.setVerbosityLevel)(Pt);const tn={canvasFactory:sn,filterFactory:Vt};if(En||(tn.cMapReaderFactory=new Tt({baseUrl:Zt,isCompressed:nn}),tn.standardFontDataFactory=new ut({baseUrl:nt})),!_t){const Tn={verbosity:Pt,port:_worker_options.GlobalWorkerOptions.workerPort};_t=Tn.port?PDFWorker.fromPort(Tn):new PDFWorker(Tn),it._worker=_t}const hn={docId:St,apiVersion:"3.11.174",data:Dt,password:vt,disableAutoFetch:Qt,rangeChunkSize:kt,length:bn,docBaseUrl:$t,enableXfa:Wt,evaluatorOptions:{maxImageSize:gt,disableFontFace:Lt,ignoreErrors:ot,isEvalSupported:bt,isOffscreenCanvasSupported:Ct,canvasMaxAreaInBytes:Rt,fontExtraProperties:qt,useSystemFonts:un,cMapUrl:En?Zt:null,standardFontDataUrl:En?nt:null}},fn={ignoreErrors:ot,isEvalSupported:bt,disableFontFace:Lt,fontExtraProperties:qt,enableXfa:Wt,ownerDocument:Xt,disableAutoFetch:Qt,pdfBug:pn,styleElement:Gt};return _t.promise.then(function(){if(it.destroyed)throw new Error("Loading aborted");const Tn=_fetchDocument(_t,hn),In=new Promise(function(Cn){let On;At?On=new _transport_stream.PDFDataTransportStream({length:bn,initialData:At.initialData,progressiveDone:At.progressiveDone,contentDispositionFilename:At.contentDispositionFilename,disableRange:Jt,disableStream:rn},At):Dt||(On=(kn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(kn):(0,_display_utils.isValidFetchUrl)(kn.url)?new _displayFetch_stream.PDFFetchStream(kn):new _displayNetwork.PDFNetworkStream(kn))({url:Et,length:bn,httpHeaders:Ft,withCredentials:yt,rangeChunkSize:kt,disableRange:Jt,disableStream:rn})),Cn(On)});return Promise.all([Tn,In]).then(function([Cn,On]){if(it.destroyed)throw new Error("Loading aborted");const Rn=new _message_handler.MessageHandler(St,Cn,_t.port),kn=new WorkerTransport(Rn,it,On,fn,tn);it._transport=kn,Rn.send("Ready",null)})}).catch(it._capability.reject),it}async function _fetchDocument(pt,it){if(pt.destroyed)throw new Error("Worker was destroyed");const St=await pt.messageHandler.sendWithPromise("GetDocRequest",it,it.data?[it.data.buffer]:null);if(pt.destroyed)throw new Error("Worker was destroyed");return St}function getUrlProp(pt){if(pt instanceof URL)return pt.href;try{return new URL(pt,window.location).href}catch{if(_util.isNodeJS&&typeof pt=="string")return pt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(pt){if(_util.isNodeJS&&typeof Buffer<"u"&&pt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(pt instanceof Uint8Array&&pt.byteLength===pt.buffer.byteLength)return pt;if(typeof pt=="string")return(0,_util.stringToBytes)(pt);if(typeof pt=="object"&&!isNaN(pt==null?void 0:pt.length)||(0,_util.isArrayBuffer)(pt))return new Uint8Array(pt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${nr(e,i)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var it,St,Et;this.destroyed=!0;try{(it=this._worker)!=null&&it.port&&(this._worker._pendingDestroy=!0),await((St=this._transport)==null?void 0:St.destroy())}catch(Dt){throw(Et=this._worker)!=null&&Et.port&&delete this._worker._pendingDestroy,Dt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};i=new WeakMap,Mt(e,i,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(it,St,Et=!1,Dt=null){this.length=it,this.initialData=St,this.progressiveDone=Et,this.contentDispositionFilename=Dt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(it){this._rangeListeners.push(it)}addProgressListener(it){this._progressListeners.push(it)}addProgressiveReadListener(it){this._progressiveReadListeners.push(it)}addProgressiveDoneListener(it){this._progressiveDoneListeners.push(it)}onDataRange(it,St){for(const Et of this._rangeListeners)Et(it,St)}onDataProgress(it,St){this._readyCapability.promise.then(()=>{for(const Et of this._progressListeners)Et(it,St)})}onDataProgressiveRead(it){this._readyCapability.promise.then(()=>{for(const St of this._progressiveReadListeners)St(it)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const it of this._progressiveDoneListeners)it()})}transportReady(){this._readyCapability.resolve()}requestDataRange(it,St){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(it,St){this._pdfInfo=it,this._transport=St,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Et=>{if(!Et)return Et;const Dt=[];for(const Ft in Et)Dt.push(...Et[Ft]);return Dt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(it){return this._transport.getPage(it)}getPageIndex(it){return this._transport.getPageIndex(it)}getDestinations(){return this._transport.getDestinations()}getDestination(it){return this._transport.getDestination(it)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(it=!1){return this._transport.startCleanup(it||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(it,St,Et,Dt=!1){Mt(this,a);Mt(this,d);Mt(this,s,null);Mt(this,o,!1);this._pageIndex=it,this._pageInfo=St,this._transport=Et,this._stats=Dt?new _display_utils.StatTimer:null,this._pdfBug=Dt,this.commonObjs=Et.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:it,rotation:St=this.rotate,offsetX:Et=0,offsetY:Dt=0,dontFlip:Ft=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:it,rotation:St,offsetX:Et,offsetY:Dt,dontFlip:Ft})}getAnnotations({intent:it="display"}={}){const St=this._transport.getRenderingIntent(it);return this._transport.getAnnotations(this._pageIndex,St.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var it;return((it=this._transport._htmlForXfa)==null?void 0:it.children[this._pageIndex])||null}render({canvasContext:it,viewport:St,intent:Et="display",annotationMode:Dt=_util.AnnotationMode.ENABLE,transform:Ft=null,background:yt=null,optionalContentConfigPromise:vt=null,annotationCanvasMap:At=null,pageColors:kt=null,printAnnotationStorage:_t=null}){var ut,ot;(ut=this._stats)==null||ut.time("Overall");const Pt=this._transport.getRenderingIntent(Et,Dt,_t);Kt(this,o,!1),jt(this,d,ur).call(this),vt||(vt=this._transport.getOptionalContentConfig());let $t=this._intentStates.get(Pt.cacheKey);$t||($t=Object.create(null),this._intentStates.set(Pt.cacheKey,$t)),$t.streamReaderCancelTimeout&&(clearTimeout($t.streamReaderCancelTimeout),$t.streamReaderCancelTimeout=null);const Zt=!!(Pt.renderingIntent&_util.RenderingIntentFlag.PRINT);$t.displayReadyCapability||($t.displayReadyCapability=new _util.PromiseCapability,$t.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ot=this._stats)==null||ot.time("Page Request"),this._pumpOperatorList(Pt));const nn=gt=>{var bt,Ct;$t.renderTasks.delete(Tt),(this._maybeCleanupAfterRender||Zt)&&Kt(this,o,!0),jt(this,a,Qn).call(this,!Zt),gt?(Tt.capability.reject(gt),this._abortOperatorList({intentState:$t,reason:gt instanceof Error?gt:new Error(gt)})):Tt.capability.resolve(),(bt=this._stats)==null||bt.timeEnd("Rendering"),(Ct=this._stats)==null||Ct.timeEnd("Overall")},Tt=new InternalRenderTask({callback:nn,params:{canvasContext:it,viewport:St,transform:Ft,background:yt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:At,operatorList:$t.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Zt,pdfBug:this._pdfBug,pageColors:kt});($t.renderTasks||($t.renderTasks=new Set)).add(Tt);const nt=Tt.task;return Promise.all([$t.displayReadyCapability.promise,vt]).then(([gt,bt])=>{var Ct;if(this.destroyed){nn();return}(Ct=this._stats)==null||Ct.time("Rendering"),Tt.initializeGraphics({transparency:gt,optionalContentConfig:bt}),Tt.operatorListChanged()}).catch(nn),nt}getOperatorList({intent:it="display",annotationMode:St=_util.AnnotationMode.ENABLE,printAnnotationStorage:Et=null}={}){var At;function Dt(){yt.operatorList.lastChunk&&(yt.opListReadCapability.resolve(yt.operatorList),yt.renderTasks.delete(vt))}const Ft=this._transport.getRenderingIntent(it,St,Et,!0);let yt=this._intentStates.get(Ft.cacheKey);yt||(yt=Object.create(null),this._intentStates.set(Ft.cacheKey,yt));let vt;return yt.opListReadCapability||(vt=Object.create(null),vt.operatorListChanged=Dt,yt.opListReadCapability=new _util.PromiseCapability,(yt.renderTasks||(yt.renderTasks=new Set)).add(vt),yt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(At=this._stats)==null||At.time("Page Request"),this._pumpOperatorList(Ft)),yt.opListReadCapability.promise}streamTextContent({includeMarkedContent:it=!1,disableNormalization:St=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:it===!0,disableNormalization:St===!0},{highWaterMark:100,size(Dt){return Dt.items.length}})}getTextContent(it={}){if(this._transport._htmlForXfa)return this.getXfa().then(Et=>_xfa_text.XfaText.textContent(Et));const St=this.streamTextContent(it);return new Promise(function(Et,Dt){function Ft(){yt.read().then(function({value:At,done:kt}){if(kt){Et(vt);return}Object.assign(vt.styles,At.styles),vt.items.push(...At.items),Ft()},Dt)}const yt=St.getReader(),vt={items:[],styles:Object.create(null)};Ft()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const it=[];for(const St of this._intentStates.values())if(this._abortOperatorList({intentState:St,reason:new Error("Page was destroyed."),force:!0}),!St.opListReadCapability)for(const Et of St.renderTasks)it.push(Et.completed),Et.cancel();return this.objs.clear(),Kt(this,o,!1),jt(this,d,ur).call(this),Promise.all(it)}cleanup(it=!1){Kt(this,o,!0);const St=jt(this,a,Qn).call(this,!1);return it&&St&&this._stats&&(this._stats=new _display_utils.StatTimer),St}_startRenderPage(it,St){var Dt,Ft;const Et=this._intentStates.get(St);Et&&((Dt=this._stats)==null||Dt.timeEnd("Page Request"),(Ft=Et.displayReadyCapability)==null||Ft.resolve(it))}_renderPageChunk(it,St){for(let Et=0,Dt=it.length;Et<Dt;Et++)St.operatorList.fnArray.push(it.fnArray[Et]),St.operatorList.argsArray.push(it.argsArray[Et]);St.operatorList.lastChunk=it.lastChunk,St.operatorList.separateAnnots=it.separateAnnots;for(const Et of St.renderTasks)Et.operatorListChanged();it.lastChunk&&jt(this,a,Qn).call(this,!0)}_pumpOperatorList({renderingIntent:it,cacheKey:St,annotationStorageSerializable:Et}){const{map:Dt,transfers:Ft}=Et,vt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:it,cacheKey:St,annotationStorage:Dt},Ft).getReader(),At=this._intentStates.get(St);At.streamReader=vt;const kt=()=>{vt.read().then(({value:_t,done:Pt})=>{if(Pt){At.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_t,At),kt())},_t=>{if(At.streamReader=null,!this._transport.destroyed){if(At.operatorList){At.operatorList.lastChunk=!0;for(const Pt of At.renderTasks)Pt.operatorListChanged();jt(this,a,Qn).call(this,!0)}if(At.displayReadyCapability)At.displayReadyCapability.reject(_t);else if(At.opListReadCapability)At.opListReadCapability.reject(_t);else throw _t}})};kt()}_abortOperatorList({intentState:it,reason:St,force:Et=!1}){if(it.streamReader){if(it.streamReaderCancelTimeout&&(clearTimeout(it.streamReaderCancelTimeout),it.streamReaderCancelTimeout=null),!Et){if(it.renderTasks.size>0)return;if(St instanceof _display_utils.RenderingCancelledException){let Dt=RENDERING_CANCELLED_TIMEOUT;St.extraDelay>0&&St.extraDelay<1e3&&(Dt+=St.extraDelay),it.streamReaderCancelTimeout=setTimeout(()=>{it.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:it,reason:St,force:!0})},Dt);return}}if(it.streamReader.cancel(new _util.AbortException(St.message)).catch(()=>{}),it.streamReader=null,!this._transport.destroyed){for(const[Dt,Ft]of this._intentStates)if(Ft===it){this._intentStates.delete(Dt);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,o=new WeakMap,a=new WeakSet,Qn=function(it=!1){if(jt(this,d,ur).call(this),!j(this,o)||this.destroyed)return!1;if(it)return Kt(this,s,setTimeout(()=>{Kt(this,s,null),jt(this,a,Qn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:St,operatorList:Et}of this._intentStates.values())if(St.size>0||!Et.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Kt(this,o,!1),!0},d=new WeakSet,ur=function(){j(this,s)&&(clearTimeout(j(this,s)),Kt(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Mt(this,h,new Set);Mt(this,_,Promise.resolve())}postMessage(it,St){const Et={data:structuredClone(it,St?{transfer:St}:null)};j(this,_).then(()=>{for(const Dt of j(this,h))Dt.call(this,Et)})}addEventListener(it,St){j(this,h).add(St)}removeEventListener(it,St){j(this,h).delete(St)}terminate(){j(this,h).clear()}}h=new WeakMap,_=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const pt=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;pt&&(PDFWorkerUtil.fallbackWorkerSrc=pt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(pt,it){let St;try{if(St=new URL(pt),!St.origin||St.origin==="null")return!1}catch{return!1}const Et=new URL(it,St);return St.origin===Et.origin},PDFWorkerUtil.createCDNWrapper=function(pt){const it=`importScripts("${pt}");`;return URL.createObjectURL(new Blob([it]))}}const _PDFWorker=class _PDFWorker{constructor({name:pt=null,port:it=null,verbosity:St=(0,_util.getVerbosityLevel)()}={}){var Et;if(this.name=pt,this.destroyed=!1,this.verbosity=St,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,it){if((Et=j(_PDFWorker,_e))!=null&&Et.has(it))throw new Error("Cannot use more than one PDFWorker per port.");(j(_PDFWorker,_e)||Kt(_PDFWorker,_e,new WeakMap)).set(it,this),this._initializeFromPort(it);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(pt){this._port=pt,this._messageHandler=new _message_handler.MessageHandler("main","worker",pt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:pt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,pt)||(pt=PDFWorkerUtil.createCDNWrapper(new URL(pt,window.location).href));const it=new Worker(pt),St=new _message_handler.MessageHandler("main","worker",it),Et=()=>{it.removeEventListener("error",Dt),St.destroy(),it.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Dt=()=>{this._webWorker||Et()};it.addEventListener("error",Dt),St.on("test",yt=>{if(it.removeEventListener("error",Dt),this.destroyed){Et();return}yt?(this._messageHandler=St,this._port=it,this._webWorker=it,this._readyCapability.resolve(),St.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),St.destroy(),it.terminate())}),St.on("ready",yt=>{if(it.removeEventListener("error",Dt),this.destroyed){Et();return}try{Ft()}catch{this._setupFakeWorker()}});const Ft=()=>{const yt=new Uint8Array;St.send("test",yt,[yt.buffer])};Ft();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(pt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const it=new LoopbackPort;this._port=it;const St=`fake${PDFWorkerUtil.fakeWorkerId++}`,Et=new _message_handler.MessageHandler(St+"_worker",St,it);pt.setup(Et,it);const Dt=new _message_handler.MessageHandler(St,St+"_worker",it);this._messageHandler=Dt,this._readyCapability.resolve(),Dt.send("configure",{verbosity:this.verbosity})}).catch(pt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${pt.message}".`))})}destroy(){var pt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(pt=j(_PDFWorker,_e))==null||pt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(pt){var St;if(!(pt!=null&&pt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const it=(St=j(this,_e))==null?void 0:St.get(pt.port);if(it){if(it._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return it}return new _PDFWorker(pt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var pt;try{return((pt=globalThis.pdfjsWorker)==null?void 0:pt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_e=new WeakMap,Mt(_PDFWorker,_e,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(it,St,Et,Dt,Ft){Mt(this,ct);Mt(this,ft,new Map);Mt(this,mt,new Map);Mt(this,lt,new Map);Mt(this,at,null);this.messageHandler=it,this.loadingTask=St,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Dt.ownerDocument,styleElement:Dt.styleElement}),this._params=Dt,this.canvasFactory=Ft.canvasFactory,this.filterFactory=Ft.filterFactory,this.cMapReaderFactory=Ft.cMapReaderFactory,this.standardFontDataFactory=Ft.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Et,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(it,St=_util.AnnotationMode.ENABLE,Et=null,Dt=!1){let Ft=_util.RenderingIntentFlag.DISPLAY,yt=_annotation_storage.SerializableEmpty;switch(it){case"any":Ft=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ft=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${it}`)}switch(St){case _util.AnnotationMode.DISABLE:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,yt=(Ft&_util.RenderingIntentFlag.PRINT&&Et instanceof _annotation_storage.PrintAnnotationStorage?Et:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${St}`)}return Dt&&(Ft+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ft,cacheKey:`${Ft}_${yt.hash}`,annotationStorageSerializable:yt}}destroy(){var Et;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Et=j(this,at))==null||Et.reject(new Error("Worker was destroyed during onPassword callback"));const it=[];for(const Dt of j(this,mt).values())it.push(Dt._destroy());j(this,mt).clear(),j(this,lt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const St=this.messageHandler.sendWithPromise("Terminate",null);return it.push(St),Promise.all(it).then(()=>{var Dt;this.commonObjs.clear(),this.fontLoader.clear(),j(this,ft).clear(),this.filterFactory.destroy(),(Dt=this._networkStream)==null||Dt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:it,loadingTask:St}=this;it.on("GetReader",(Et,Dt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ft=>{this._lastProgress={loaded:Ft.loaded,total:Ft.total}},Dt.onPull=()=>{this._fullReader.read().then(function({value:Ft,done:yt}){if(yt){Dt.close();return}(0,_util.assert)(Ft instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Dt.enqueue(new Uint8Array(Ft),1,[Ft])}).catch(Ft=>{Dt.error(Ft)})},Dt.onCancel=Ft=>{this._fullReader.cancel(Ft),Dt.ready.catch(yt=>{if(!this.destroyed)throw yt})}}),it.on("ReaderHeadersReady",Et=>{const Dt=new _util.PromiseCapability,Ft=this._fullReader;return Ft.headersReady.then(()=>{var yt;(!Ft.isStreamingSupported||!Ft.isRangeSupported)&&(this._lastProgress&&((yt=St.onProgress)==null||yt.call(St,this._lastProgress)),Ft.onProgress=vt=>{var At;(At=St.onProgress)==null||At.call(St,{loaded:vt.loaded,total:vt.total})}),Dt.resolve({isStreamingSupported:Ft.isStreamingSupported,isRangeSupported:Ft.isRangeSupported,contentLength:Ft.contentLength})},Dt.reject),Dt.promise}),it.on("GetRangeReader",(Et,Dt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ft=this._networkStream.getRangeReader(Et.begin,Et.end);if(!Ft){Dt.close();return}Dt.onPull=()=>{Ft.read().then(function({value:yt,done:vt}){if(vt){Dt.close();return}(0,_util.assert)(yt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Dt.enqueue(new Uint8Array(yt),1,[yt])}).catch(yt=>{Dt.error(yt)})},Dt.onCancel=yt=>{Ft.cancel(yt),Dt.ready.catch(vt=>{if(!this.destroyed)throw vt})}}),it.on("GetDoc",({pdfInfo:Et})=>{this._numPages=Et.numPages,this._htmlForXfa=Et.htmlForXfa,delete Et.htmlForXfa,St._capability.resolve(new PDFDocumentProxy(Et,this))}),it.on("DocException",function(Et){let Dt;switch(Et.name){case"PasswordException":Dt=new _util.PasswordException(Et.message,Et.code);break;case"InvalidPDFException":Dt=new _util.InvalidPDFException(Et.message);break;case"MissingPDFException":Dt=new _util.MissingPDFException(Et.message);break;case"UnexpectedResponseException":Dt=new _util.UnexpectedResponseException(Et.message,Et.status);break;case"UnknownErrorException":Dt=new _util.UnknownErrorException(Et.message,Et.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}St._capability.reject(Dt)}),it.on("PasswordRequest",Et=>{if(Kt(this,at,new _util.PromiseCapability),St.onPassword){const Dt=Ft=>{Ft instanceof Error?j(this,at).reject(Ft):j(this,at).resolve({password:Ft})};try{St.onPassword(Dt,Et.code)}catch(Ft){j(this,at).reject(Ft)}}else j(this,at).reject(new _util.PasswordException(Et.message,Et.code));return j(this,at).promise}),it.on("DataLoaded",Et=>{var Dt;(Dt=St.onProgress)==null||Dt.call(St,{loaded:Et.length,total:Et.length}),this.downloadInfoCapability.resolve(Et)}),it.on("StartRenderPage",Et=>{if(this.destroyed)return;j(this,mt).get(Et.pageIndex)._startRenderPage(Et.transparency,Et.cacheKey)}),it.on("commonobj",([Et,Dt,Ft])=>{var yt;if(!this.destroyed&&!this.commonObjs.has(Et))switch(Dt){case"Font":const vt=this._params;if("error"in Ft){const _t=Ft.error;(0,_util.warn)(`Error during font loading: ${_t}`),this.commonObjs.resolve(Et,_t);break}const At=vt.pdfBug&&((yt=globalThis.FontInspector)!=null&&yt.enabled)?(_t,Pt)=>globalThis.FontInspector.fontAdded(_t,Pt):null,kt=new _font_loader.FontFaceObject(Ft,{isEvalSupported:vt.isEvalSupported,disableFontFace:vt.disableFontFace,ignoreErrors:vt.ignoreErrors,inspectFont:At});this.fontLoader.bind(kt).catch(_t=>it.sendWithPromise("FontFallback",{id:Et})).finally(()=>{!vt.fontExtraProperties&&kt.data&&(kt.data=null),this.commonObjs.resolve(Et,kt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Et,Ft);break;default:throw new Error(`Got unknown common object type ${Dt}`)}}),it.on("obj",([Et,Dt,Ft,yt])=>{var At;if(this.destroyed)return;const vt=j(this,mt).get(Dt);if(!vt.objs.has(Et))switch(Ft){case"Image":if(vt.objs.resolve(Et,yt),yt){let kt;if(yt.bitmap){const{width:_t,height:Pt}=yt;kt=_t*Pt*4}else kt=((At=yt.data)==null?void 0:At.length)||0;kt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(vt._maybeCleanupAfterRender=!0)}break;case"Pattern":vt.objs.resolve(Et,yt);break;default:throw new Error(`Got unknown object type ${Ft}`)}}),it.on("DocProgress",Et=>{var Dt;this.destroyed||(Dt=St.onProgress)==null||Dt.call(St,{loaded:Et.loaded,total:Et.total})}),it.on("FetchBuiltInCMap",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Et):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),it.on("FetchStandardFontData",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Et):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Et;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:it,transfers:St}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:it,filename:((Et=this._fullReader)==null?void 0:Et.filename)??null},St).finally(()=>{this.annotationStorage.resetModified()})}getPage(it){if(!Number.isInteger(it)||it<=0||it>this._numPages)return Promise.reject(new Error("Invalid page request."));const St=it-1,Et=j(this,lt).get(St);if(Et)return Et;const Dt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:St}).then(Ft=>{if(this.destroyed)throw new Error("Transport destroyed");const yt=new PDFPageProxy(St,Ft,this,this._params.pdfBug);return j(this,mt).set(St,yt),yt});return j(this,lt).set(St,Dt),Dt}getPageIndex(it){return typeof it!="object"||it===null||!Number.isInteger(it.num)||it.num<0||!Number.isInteger(it.gen)||it.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:it.num,gen:it.gen})}getAnnotations(it,St){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:it,intent:St})}getFieldObjects(){return jt(this,ct,dr).call(this,"GetFieldObjects")}hasJSActions(){return jt(this,ct,dr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(it){return typeof it!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:it})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return jt(this,ct,dr).call(this,"GetDocJSActions")}getPageJSActions(it){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:it})}getStructTree(it){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:it})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(it=>new _optional_content_config.OptionalContentConfig(it))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const it="GetMetadata",St=j(this,ft).get(it);if(St)return St;const Et=this.messageHandler.sendWithPromise(it,null).then(Dt=>{var Ft,yt;return{info:Dt[0],metadata:Dt[1]?new _metadata.Metadata(Dt[1]):null,contentDispositionFilename:((Ft=this._fullReader)==null?void 0:Ft.filename)??null,contentLength:((yt=this._fullReader)==null?void 0:yt.contentLength)??null}});return j(this,ft).set(it,Et),Et}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(it=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const St of j(this,mt).values())if(!St.cleanup())throw new Error(`startCleanup: Page ${St.pageNumber} is currently rendering.`);this.commonObjs.clear(),it||this.fontLoader.clear(),j(this,ft).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:it,enableXfa:St}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:it,enableXfa:St})}}ft=new WeakMap,mt=new WeakMap,lt=new WeakMap,at=new WeakMap,ct=new WeakSet,dr=function(it,St=null){const Et=j(this,ft).get(it);if(Et)return Et;const Dt=this.messageHandler.sendWithPromise(it,St);return j(this,ft).set(it,Dt),Dt};class PDFObjects{constructor(){Mt(this,tt);Mt(this,$,Object.create(null))}get(it,St=null){if(St){const Dt=jt(this,tt,wr).call(this,it);return Dt.capability.promise.then(()=>St(Dt.data)),null}const Et=j(this,$)[it];if(!(Et!=null&&Et.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${it}.`);return Et.data}has(it){const St=j(this,$)[it];return(St==null?void 0:St.capability.settled)||!1}resolve(it,St=null){const Et=jt(this,tt,wr).call(this,it);Et.data=St,Et.capability.resolve()}clear(){var it;for(const St in j(this,$)){const{data:Et}=j(this,$)[St];(it=Et==null?void 0:Et.bitmap)==null||it.close()}Kt(this,$,Object.create(null))}}$=new WeakMap,tt=new WeakSet,wr=function(it){var St;return(St=j(this,$))[it]||(St[it]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(it){Mt(this,rt,null);Kt(this,rt,it),this.onContinue=null}get promise(){return j(this,rt).capability.promise}cancel(it=0){j(this,rt).cancel(null,it)}get separateAnnots(){const{separateAnnots:it}=j(this,rt).operatorList;if(!it)return!1;const{annotationCanvasMap:St}=j(this,rt);return it.form||it.canvas&&(St==null?void 0:St.size)>0}}rt=new WeakMap,exports.RenderTask=RenderTask;const xt=class xt{constructor({callback:it,params:St,objs:Et,commonObjs:Dt,annotationCanvasMap:Ft,operatorList:yt,pageIndex:vt,canvasFactory:At,filterFactory:kt,useRequestAnimationFrame:_t=!1,pdfBug:Pt=!1,pageColors:$t=null}){this.callback=it,this.params=St,this.objs=Et,this.commonObjs=Dt,this.annotationCanvasMap=Ft,this.operatorListIdx=null,this.operatorList=yt,this._pageIndex=vt,this.canvasFactory=At,this.filterFactory=kt,this._pdfBug=Pt,this.pageColors=$t,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_t===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=St.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:it=!1,optionalContentConfig:St}){var vt,At;if(this.cancelled)return;if(this._canvas){if(j(xt,dt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");j(xt,dt).add(this._canvas)}this._pdfBug&&((vt=globalThis.StepperManager)!=null&&vt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Et,viewport:Dt,transform:Ft,background:yt}=this.params;this.gfx=new _canvas.CanvasGraphics(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:St},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ft,viewport:Dt,transparency:it,background:yt}),this.operatorListIdx=0,this.graphicsReady=!0,(At=this.graphicsReadyCallback)==null||At.call(this)}cancel(it=null,St=0){var Et;this.running=!1,this.cancelled=!0,(Et=this.gfx)==null||Et.endDrawing(),j(xt,dt).delete(this._canvas),this.callback(it||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,St))}operatorListChanged(){var it;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(it=this.stepper)==null||it.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),j(xt,dt).delete(this._canvas),this.callback())))}};dt=new WeakMap,Mt(xt,dt,new WeakSet);let InternalRenderTask=xt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(i,e,s)=>{var _,b,_e,ss,mt;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var o=s(1),a=s(4),c=s(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=d;class g{constructor(){Mt(this,_e);Mt(this,_,!1);Mt(this,b,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(at,ct){const et=j(this,b).get(at);return et===void 0?ct:Object.assign(ct,et)}getRawValue(at){return j(this,b).get(at)}remove(at){if(j(this,b).delete(at),j(this,b).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ct of j(this,b).values())if(ct instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(at,ct){const et=j(this,b).get(at);let $=!1;if(et!==void 0)for(const[tt,ht]of Object.entries(ct))et[tt]!==ht&&($=!0,et[tt]=ht);else $=!0,j(this,b).set(at,ct);$&&jt(this,_e,ss).call(this),ct instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ct.constructor._type)}has(at){return j(this,b).has(at)}getAll(){return j(this,b).size>0?(0,o.objectFromMap)(j(this,b)):null}setAll(at){for(const[ct,et]of Object.entries(at))this.setValue(ct,et)}get size(){return j(this,b).size}resetModified(){j(this,_)&&(Kt(this,_,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(j(this,b).size===0)return d;const at=new Map,ct=new c.MurmurHash3_64,et=[],$=Object.create(null);let tt=!1;for(const[ht,rt]of j(this,b)){const dt=rt instanceof a.AnnotationEditor?rt.serialize(!1,$):rt;dt&&(at.set(ht,dt),ct.update(`${ht}:${JSON.stringify(dt)}`),tt||(tt=!!dt.bitmap))}if(tt)for(const ht of at.values())ht.bitmap&&et.push(ht.bitmap);return at.size>0?{map:at,hash:ct.hexdigest(),transfers:et}:d}}_=new WeakMap,b=new WeakMap,_e=new WeakSet,ss=function(){j(this,_)||(Kt(this,_,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=g;class h extends g{constructor(ct){super();Mt(this,mt,void 0);const{map:et,hash:$,transfers:tt}=ct.serializable,ht=structuredClone(et,tt?{transfer:tt}:null);Kt(this,mt,{map:ht,hash:$,transfers:tt})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return j(this,mt)}}mt=new WeakMap,e.PrintAnnotationStorage=h},(i,e,s)=>{var h,_,b,_e,ft,mt,lt,at,ct,et,$,tt,ht,rt,dt,Tr,pt,Cr,St,kr,Dt,Pr,yt,os,At,as,_t,ls,$t,Rr,nn,cs;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var o=s(5),a=s(1),c=s(6);const nt=class nt{constructor(ot){Mt(this,dt);Mt(this,pt);Mt(this,Dt);Mt(this,yt);Mt(this,At);Mt(this,_t);Mt(this,$t);Mt(this,nn);Mt(this,h,"");Mt(this,_,!1);Mt(this,b,null);Mt(this,_e,null);Mt(this,ft,null);Mt(this,mt,!1);Mt(this,lt,null);Mt(this,at,this.focusin.bind(this));Mt(this,ct,this.focusout.bind(this));Mt(this,et,!1);Mt(this,$,!1);Mt(this,tt,!1);Hn(this,"_initialOptions",Object.create(null));Hn(this,"_uiManager",null);Hn(this,"_focusEventsAllowed",!0);Hn(this,"_l10nPromise",null);Mt(this,ht,!1);Mt(this,rt,nt._zIndex++);this.constructor===nt&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ot.parent,this.id=ot.id,this.width=this.height=null,this.pageIndex=ot.parent.pageIndex,this.name=ot.name,this.div=null,this._uiManager=ot.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=ot.isCentered,this._structTreeParentId=null;const{rotation:gt,rawDims:{pageWidth:bt,pageHeight:Ct,pageX:Rt,pageY:Lt}}=this.parent.viewport;this.rotation=gt,this.pageRotation=(360+gt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[bt,Ct],this.pageTranslation=[Rt,Lt];const[qt,Wt]=this.parentDimensions;this.x=ot.x/qt,this.y=ot.y/Wt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(ot){const gt=new g({id:ot.parent.getNextId(),parent:ot.parent,uiManager:ot._uiManager});gt.annotationElementId=ot.annotationElementId,gt.deleted=!0,gt._uiManager.addToAnnotationStorage(gt)}static initialize(ot,gt=null){if(nt._l10nPromise||(nt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ct=>[Ct,ot.get(Ct)]))),gt!=null&&gt.strings)for(const Ct of gt.strings)nt._l10nPromise.set(Ct,ot.get(Ct));if(nt._borderLineWidth!==-1)return;const bt=getComputedStyle(document.documentElement);nt._borderLineWidth=parseFloat(bt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(ot,gt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(ot){return!1}static paste(ot,gt){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return j(this,ht)}set _isDraggable(ot){var gt;Kt(this,ht,ot),(gt=this.div)==null||gt.classList.toggle("draggable",ot)}center(){const[ot,gt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*gt/(ot*2),this.y+=this.width*ot/(gt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*gt/(ot*2),this.y-=this.width*ot/(gt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(ot){this._uiManager.addCommands(ot)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=j(this,rt)}setParent(ot){ot!==null&&(this.pageIndex=ot.pageIndex,this.pageDimensions=ot.pageDimensions),this.parent=ot}focusin(ot){this._focusEventsAllowed&&(j(this,et)?Kt(this,et,!1):this.parent.setSelected(this))}focusout(ot){var bt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const gt=ot.relatedTarget;gt!=null&&gt.closest(`#${this.id}`)||(ot.preventDefault(),(bt=this.parent)!=null&&bt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(ot,gt,bt,Ct){const[Rt,Lt]=this.parentDimensions;[bt,Ct]=this.screenToPageTranslation(bt,Ct),this.x=(ot+bt)/Rt,this.y=(gt+Ct)/Lt,this.fixAndSetPosition()}translate(ot,gt){jt(this,dt,Tr).call(this,this.parentDimensions,ot,gt)}translateInPage(ot,gt){jt(this,dt,Tr).call(this,this.pageDimensions,ot,gt),this.div.scrollIntoView({block:"nearest"})}drag(ot,gt){const[bt,Ct]=this.parentDimensions;if(this.x+=ot/bt,this.y+=gt/Ct,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Xt,y:Jt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Xt,Jt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Rt,y:Lt}=this;const[qt,Wt]=jt(this,pt,Cr).call(this);Rt+=qt,Lt+=Wt,this.div.style.left=`${(100*Rt).toFixed(2)}%`,this.div.style.top=`${(100*Lt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[ot,gt]=this.pageDimensions;let{x:bt,y:Ct,width:Rt,height:Lt}=this;switch(Rt*=ot,Lt*=gt,bt*=ot,Ct*=gt,this.rotation){case 0:bt=Math.max(0,Math.min(ot-Rt,bt)),Ct=Math.max(0,Math.min(gt-Lt,Ct));break;case 90:bt=Math.max(0,Math.min(ot-Lt,bt)),Ct=Math.min(gt,Math.max(Rt,Ct));break;case 180:bt=Math.min(ot,Math.max(Rt,bt)),Ct=Math.min(gt,Math.max(Lt,Ct));break;case 270:bt=Math.min(ot,Math.max(Lt,bt)),Ct=Math.max(0,Math.min(gt-Rt,Ct));break}this.x=bt/=ot,this.y=Ct/=gt;const[qt,Wt]=jt(this,pt,Cr).call(this);bt+=qt,Ct+=Wt;const{style:Xt}=this.div;Xt.left=`${(100*bt).toFixed(2)}%`,Xt.top=`${(100*Ct).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(ot,gt){var bt;return jt(bt=nt,St,kr).call(bt,ot,gt,this.parentRotation)}pageTranslationToScreen(ot,gt){var bt;return jt(bt=nt,St,kr).call(bt,ot,gt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:ot,pageDimensions:[gt,bt]}=this,Ct=gt*ot,Rt=bt*ot;return a.FeatureTest.isCSSRoundSupported?[Math.round(Ct),Math.round(Rt)]:[Ct,Rt]}setDims(ot,gt){var Rt;const[bt,Ct]=this.parentDimensions;this.div.style.width=`${(100*ot/bt).toFixed(2)}%`,j(this,mt)||(this.div.style.height=`${(100*gt/Ct).toFixed(2)}%`),(Rt=j(this,b))==null||Rt.classList.toggle("small",ot<nt.SMALL_EDITOR_SIZE||gt<nt.SMALL_EDITOR_SIZE)}fixDims(){const{style:ot}=this.div,{height:gt,width:bt}=ot,Ct=bt.endsWith("%"),Rt=!j(this,mt)&&gt.endsWith("%");if(Ct&&Rt)return;const[Lt,qt]=this.parentDimensions;Ct||(ot.width=`${(100*parseFloat(bt)/Lt).toFixed(2)}%`),!j(this,mt)&&!Rt&&(ot.height=`${(100*parseFloat(gt)/qt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(j(this,b))return;const ot=Kt(this,b,document.createElement("button"));ot.className="altText";const gt=await nt._l10nPromise.get("editor_alt_text_button_label");ot.textContent=gt,ot.setAttribute("aria-label",gt),ot.tabIndex="0",ot.addEventListener("contextmenu",c.noContextMenu),ot.addEventListener("pointerdown",bt=>bt.stopPropagation()),ot.addEventListener("click",bt=>{bt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),ot.addEventListener("keydown",bt=>{bt.target===ot&&bt.key==="Enter"&&(bt.preventDefault(),this._uiManager.editAltText(this))}),jt(this,$t,Rr).call(this),this.div.append(ot),nt.SMALL_EDITOR_SIZE||(nt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(ot.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:j(this,h),decorative:j(this,_)}}set altTextData({altText:ot,decorative:gt}){j(this,h)===ot&&j(this,_)===gt||(Kt(this,h,ot),Kt(this,_,gt),jt(this,$t,Rr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",j(this,at)),this.div.addEventListener("focusout",j(this,ct));const[ot,gt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*gt/ot).toFixed(2)}%`,this.div.style.maxHeight=`${(100*ot/gt).toFixed(2)}%`);const[bt,Ct]=this.getInitialTranslation();return this.translate(bt,Ct),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(ot){const{isMac:gt}=a.FeatureTest.platform;if(ot.button!==0||ot.ctrlKey&&gt){ot.preventDefault();return}Kt(this,et,!0),jt(this,nn,cs).call(this,ot)}moveInDOM(){var ot;(ot=this.parent)==null||ot.moveEditorInDOM(this)}_setParentAndPosition(ot,gt,bt){ot.changeParent(this),this.x=gt,this.y=bt,this.fixAndSetPosition()}getRect(ot,gt){const bt=this.parentScale,[Ct,Rt]=this.pageDimensions,[Lt,qt]=this.pageTranslation,Wt=ot/bt,Xt=gt/bt,Jt=this.x*Ct,rn=this.y*Rt,Qt=this.width*Ct,pn=this.height*Rt;switch(this.rotation){case 0:return[Jt+Wt+Lt,Rt-rn-Xt-pn+qt,Jt+Wt+Qt+Lt,Rt-rn-Xt+qt];case 90:return[Jt+Xt+Lt,Rt-rn+Wt+qt,Jt+Xt+pn+Lt,Rt-rn+Wt+Qt+qt];case 180:return[Jt-Wt-Qt+Lt,Rt-rn+Xt+qt,Jt-Wt+Lt,Rt-rn+Xt+pn+qt];case 270:return[Jt-Xt-pn+Lt,Rt-rn-Wt-Qt+qt,Jt-Xt+Lt,Rt-rn-Wt+qt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ot,gt){const[bt,Ct,Rt,Lt]=ot,qt=Rt-bt,Wt=Lt-Ct;switch(this.rotation){case 0:return[bt,gt-Lt,qt,Wt];case 90:return[bt,gt-Ct,Wt,qt];case 180:return[Rt,gt-Ct,qt,Wt];case 270:return[Rt,gt-Lt,Wt,qt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Kt(this,tt,!0)}disableEditMode(){Kt(this,tt,!1)}isInEditMode(){return j(this,tt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ot,gt;(ot=this.div)==null||ot.addEventListener("focusin",j(this,at)),(gt=this.div)==null||gt.addEventListener("focusout",j(this,ct))}serialize(ot=!1,gt=null){(0,a.unreachable)("An editor must be serializable")}static deserialize(ot,gt,bt){const Ct=new this.prototype.constructor({parent:gt,id:gt.getNextId(),uiManager:bt});Ct.rotation=ot.rotation;const[Rt,Lt]=Ct.pageDimensions,[qt,Wt,Xt,Jt]=Ct.getRectInCurrentCoords(ot.rect,Lt);return Ct.x=qt/Rt,Ct.y=Wt/Lt,Ct.width=Xt/Rt,Ct.height=Jt/Lt,Ct}remove(){var ot;this.div.removeEventListener("focusin",j(this,at)),this.div.removeEventListener("focusout",j(this,ct)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(ot=j(this,b))==null||ot.remove(),Kt(this,b,null),Kt(this,_e,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(jt(this,yt,os).call(this),j(this,lt).classList.remove("hidden"))}select(){var ot;this.makeResizable(),(ot=this.div)==null||ot.classList.add("selectedEditor")}unselect(){var ot,gt,bt;(ot=j(this,lt))==null||ot.classList.add("hidden"),(gt=this.div)==null||gt.classList.remove("selectedEditor"),(bt=this.div)!=null&&bt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(ot,gt){}disableEditing(){j(this,b)&&(j(this,b).hidden=!0)}enableEditing(){j(this,b)&&(j(this,b).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return j(this,$)}set isEditing(ot){Kt(this,$,ot),this.parent&&(ot?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(ot,gt){Kt(this,mt,!0);const bt=ot/gt,{style:Ct}=this.div;Ct.aspectRatio=bt,Ct.height="auto"}static get MIN_SIZE(){return 16}};h=new WeakMap,_=new WeakMap,b=new WeakMap,_e=new WeakMap,ft=new WeakMap,mt=new WeakMap,lt=new WeakMap,at=new WeakMap,ct=new WeakMap,et=new WeakMap,$=new WeakMap,tt=new WeakMap,ht=new WeakMap,rt=new WeakMap,dt=new WeakSet,Tr=function([ot,gt],bt,Ct){[bt,Ct]=this.screenToPageTranslation(bt,Ct),this.x+=bt/ot,this.y+=Ct/gt,this.fixAndSetPosition()},pt=new WeakSet,Cr=function(){const[ot,gt]=this.parentDimensions,{_borderLineWidth:bt}=nt,Ct=bt/ot,Rt=bt/gt;switch(this.rotation){case 90:return[-Ct,Rt];case 180:return[Ct,Rt];case 270:return[Ct,-Rt];default:return[-Ct,-Rt]}},St=new WeakSet,kr=function(ot,gt,bt){switch(bt){case 90:return[gt,-ot];case 180:return[-ot,-gt];case 270:return[-gt,ot];default:return[ot,gt]}},Dt=new WeakSet,Pr=function(ot){switch(ot){case 90:{const[gt,bt]=this.pageDimensions;return[0,-gt/bt,bt/gt,0]}case 180:return[-1,0,0,-1];case 270:{const[gt,bt]=this.pageDimensions;return[0,gt/bt,-bt/gt,0]}default:return[1,0,0,1]}},yt=new WeakSet,os=function(){if(j(this,lt))return;Kt(this,lt,document.createElement("div")),j(this,lt).classList.add("resizers");const ot=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||ot.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const gt of ot){const bt=document.createElement("div");j(this,lt).append(bt),bt.classList.add("resizer",gt),bt.addEventListener("pointerdown",jt(this,At,as).bind(this,gt)),bt.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(j(this,lt))},At=new WeakSet,as=function(ot,gt){gt.preventDefault();const{isMac:bt}=a.FeatureTest.platform;if(gt.button!==0||gt.ctrlKey&&bt)return;const Ct=jt(this,_t,ls).bind(this,ot),Rt=this._isDraggable;this._isDraggable=!1;const Lt={passive:!0,capture:!0};window.addEventListener("pointermove",Ct,Lt);const qt=this.x,Wt=this.y,Xt=this.width,Jt=this.height,rn=this.parent.div.style.cursor,Qt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(gt.target).cursor;const pn=()=>{this._isDraggable=Rt,window.removeEventListener("pointerup",pn),window.removeEventListener("blur",pn),window.removeEventListener("pointermove",Ct,Lt),this.parent.div.style.cursor=rn,this.div.style.cursor=Qt;const bn=this.x,un=this.y,En=this.width,sn=this.height;bn===qt&&un===Wt&&En===Xt&&sn===Jt||this.addCommands({cmd:()=>{this.width=En,this.height=sn,this.x=bn,this.y=un;const[Vt,Gt]=this.parentDimensions;this.setDims(Vt*En,Gt*sn),this.fixAndSetPosition()},undo:()=>{this.width=Xt,this.height=Jt,this.x=qt,this.y=Wt;const[Vt,Gt]=this.parentDimensions;this.setDims(Vt*Xt,Gt*Jt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",pn),window.addEventListener("blur",pn)},_t=new WeakSet,ls=function(ot,gt){const[bt,Ct]=this.parentDimensions,Rt=this.x,Lt=this.y,qt=this.width,Wt=this.height,Xt=nt.MIN_SIZE/bt,Jt=nt.MIN_SIZE/Ct,rn=an=>Math.round(an*1e4)/1e4,Qt=jt(this,Dt,Pr).call(this,this.rotation),pn=(an,cn)=>[Qt[0]*an+Qt[2]*cn,Qt[1]*an+Qt[3]*cn],bn=jt(this,Dt,Pr).call(this,360-this.rotation),un=(an,cn)=>[bn[0]*an+bn[2]*cn,bn[1]*an+bn[3]*cn];let En,sn,Vt=!1,Gt=!1;switch(ot){case"topLeft":Vt=!0,En=(an,cn)=>[0,0],sn=(an,cn)=>[an,cn];break;case"topMiddle":En=(an,cn)=>[an/2,0],sn=(an,cn)=>[an/2,cn];break;case"topRight":Vt=!0,En=(an,cn)=>[an,0],sn=(an,cn)=>[0,cn];break;case"middleRight":Gt=!0,En=(an,cn)=>[an,cn/2],sn=(an,cn)=>[0,cn/2];break;case"bottomRight":Vt=!0,En=(an,cn)=>[an,cn],sn=(an,cn)=>[0,0];break;case"bottomMiddle":En=(an,cn)=>[an/2,cn],sn=(an,cn)=>[an/2,0];break;case"bottomLeft":Vt=!0,En=(an,cn)=>[0,cn],sn=(an,cn)=>[an,0];break;case"middleLeft":Gt=!0,En=(an,cn)=>[0,cn/2],sn=(an,cn)=>[an,cn/2];break}const tn=En(qt,Wt),hn=sn(qt,Wt);let fn=pn(...hn);const Tn=rn(Rt+fn[0]),In=rn(Lt+fn[1]);let Cn=1,On=1,[Rn,kn]=this.screenToPageTranslation(gt.movementX,gt.movementY);if([Rn,kn]=un(Rn/bt,kn/Ct),Vt){const an=Math.hypot(qt,Wt);Cn=On=Math.max(Math.min(Math.hypot(hn[0]-tn[0]-Rn,hn[1]-tn[1]-kn)/an,1/qt,1/Wt),Xt/qt,Jt/Wt)}else Gt?Cn=Math.max(Xt,Math.min(1,Math.abs(hn[0]-tn[0]-Rn)))/qt:On=Math.max(Jt,Math.min(1,Math.abs(hn[1]-tn[1]-kn)))/Wt;const Ln=rn(qt*Cn),en=rn(Wt*On);fn=pn(...sn(Ln,en));const zt=Tn-fn[0],Ut=In-fn[1];this.width=Ln,this.height=en,this.x=zt,this.y=Ut,this.setDims(bt*Ln,Ct*en),this.fixAndSetPosition()},$t=new WeakSet,Rr=async function(){var bt;const ot=j(this,b);if(!ot)return;if(!j(this,h)&&!j(this,_)){ot.classList.remove("done"),(bt=j(this,_e))==null||bt.remove();return}nt._l10nPromise.get("editor_alt_text_edit_button_label").then(Ct=>{ot.setAttribute("aria-label",Ct)});let gt=j(this,_e);if(!gt){Kt(this,_e,gt=document.createElement("span")),gt.className="tooltip",gt.setAttribute("role","tooltip");const Ct=gt.id=`alt-text-tooltip-${this.id}`;ot.setAttribute("aria-describedby",Ct);const Rt=100;ot.addEventListener("mouseenter",()=>{Kt(this,ft,setTimeout(()=>{Kt(this,ft,null),j(this,_e).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Rt))}),ot.addEventListener("mouseleave",()=>{var Lt;clearTimeout(j(this,ft)),Kt(this,ft,null),(Lt=j(this,_e))==null||Lt.classList.remove("show")})}ot.classList.add("done"),gt.innerText=j(this,_)?await nt._l10nPromise.get("editor_alt_text_decorative_tooltip"):j(this,h),gt.parentNode||ot.append(gt)},nn=new WeakSet,cs=function(ot){if(!this._isDraggable)return;const gt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let bt,Ct;gt&&(bt={passive:!0,capture:!0},Ct=Lt=>{const[qt,Wt]=this.screenToPageTranslation(Lt.movementX,Lt.movementY);this._uiManager.dragSelectedEditors(qt,Wt)},window.addEventListener("pointermove",Ct,bt));const Rt=()=>{if(window.removeEventListener("pointerup",Rt),window.removeEventListener("blur",Rt),gt&&window.removeEventListener("pointermove",Ct,bt),Kt(this,et,!1),!this._uiManager.endDragSession()){const{isMac:Lt}=a.FeatureTest.platform;ot.ctrlKey&&!Lt||ot.shiftKey||ot.metaKey&&Lt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Rt),window.addEventListener("blur",Rt)},Mt(nt,St),Hn(nt,"_borderLineWidth",-1),Hn(nt,"_colorManager",new o.ColorManager),Hn(nt,"_zIndex",1),Hn(nt,"SMALL_EDITOR_SIZE",0);let d=nt;e.AnnotationEditor=d;class g extends d{constructor(ot){super(ot),this.annotationElementId=ot.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(i,e,s)=>{var mt,lt,at,ct,et,Ir,ht,rt,dt,xt,pt,us,Et,Dt,Ft,yt,vt,At,kt,_t,Pt,$t,Zt,nn,Tt,nt,ut,ot,gt,bt,Ct,Rt,Lt,qt,Wt,Xt,Jt,rn,Qt,pn,bn,un,En,sn,Vt,Gt,tn,ds,fn,Or,In,Lr,On,hr,kn,Mr,en,Dr,Ut,Gn,cn,rr,$n,hs,dn,fs,mn,Fr,wn,ir,ln,Nr;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=c,e.opacityToHex=d;var o=s(1),a=s(6);function c(It,st,wt){for(const Ot of wt)st.addEventListener(Ot,It[Ot].bind(It))}function d(It){return Math.round(Math.min(255,Math.max(1,255*It))).toString(16).padStart(2,"0")}class g{constructor(){Mt(this,mt,0)}getId(){return`${o.AnnotationEditorPrefix}${nr(this,mt)._++}`}}mt=new WeakMap;const tt=class tt{constructor(){Mt(this,et);Mt(this,lt,(0,o.getUuid)());Mt(this,at,0);Mt(this,ct,null)}static get _isSVGFittingCanvas(){const st='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ot=new OffscreenCanvas(1,3).getContext("2d"),Nt=new Image;Nt.src=st;const Bt=Nt.decode().then(()=>(Ot.drawImage(Nt,0,0,1,1,0,0,1,3),new Uint32Array(Ot.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Bt)}async getFromFile(st){const{lastModified:wt,name:Ot,size:Nt,type:Bt}=st;return jt(this,et,Ir).call(this,`${wt}_${Ot}_${Nt}_${Bt}`,st)}async getFromUrl(st){return jt(this,et,Ir).call(this,st,st)}async getFromId(st){j(this,ct)||Kt(this,ct,new Map);const wt=j(this,ct).get(st);return wt?wt.bitmap?(wt.refCounter+=1,wt):wt.file?this.getFromFile(wt.file):this.getFromUrl(wt.url):null}getSvgUrl(st){const wt=j(this,ct).get(st);return wt!=null&&wt.isSvg?wt.svgUrl:null}deleteId(st){j(this,ct)||Kt(this,ct,new Map);const wt=j(this,ct).get(st);wt&&(wt.refCounter-=1,wt.refCounter===0&&(wt.bitmap=null))}isValidId(st){return st.startsWith(`image_${j(this,lt)}_`)}};lt=new WeakMap,at=new WeakMap,ct=new WeakMap,et=new WeakSet,Ir=async function(st,wt){j(this,ct)||Kt(this,ct,new Map);let Ot=j(this,ct).get(st);if(Ot===null)return null;if(Ot!=null&&Ot.bitmap)return Ot.refCounter+=1,Ot;try{Ot||(Ot={bitmap:null,id:`image_${j(this,lt)}_${nr(this,at)._++}`,refCounter:0,isSvg:!1});let Nt;if(typeof wt=="string"){Ot.url=wt;const Bt=await fetch(wt);if(!Bt.ok)throw new Error(Bt.statusText);Nt=await Bt.blob()}else Nt=Ot.file=wt;if(Nt.type==="image/svg+xml"){const Bt=tt._isSVGFittingCanvas,Yt=new FileReader,on=new Image,yn=new Promise((gn,Mn)=>{on.onload=()=>{Ot.bitmap=on,Ot.isSvg=!0,gn()},Yt.onload=async()=>{const vn=Ot.svgUrl=Yt.result;on.src=await Bt?`${vn}#svgView(preserveAspectRatio(none))`:vn},on.onerror=Yt.onerror=Mn});Yt.readAsDataURL(Nt),await yn}else Ot.bitmap=await createImageBitmap(Nt);Ot.refCounter=1}catch(Nt){console.error(Nt),Ot=null}return j(this,ct).set(st,Ot),Ot&&j(this,ct).set(Ot.id,Ot),Ot};let h=tt;class _{constructor(st=128){Mt(this,ht,[]);Mt(this,rt,!1);Mt(this,dt,void 0);Mt(this,xt,-1);Kt(this,dt,st)}add({cmd:st,undo:wt,mustExec:Ot,type:Nt=NaN,overwriteIfSameType:Bt=!1,keepUndo:Yt=!1}){if(Ot&&st(),j(this,rt))return;const on={cmd:st,undo:wt,type:Nt};if(j(this,xt)===-1){j(this,ht).length>0&&(j(this,ht).length=0),Kt(this,xt,0),j(this,ht).push(on);return}if(Bt&&j(this,ht)[j(this,xt)].type===Nt){Yt&&(on.undo=j(this,ht)[j(this,xt)].undo),j(this,ht)[j(this,xt)]=on;return}const yn=j(this,xt)+1;yn===j(this,dt)?j(this,ht).splice(0,1):(Kt(this,xt,yn),yn<j(this,ht).length&&j(this,ht).splice(yn)),j(this,ht).push(on)}undo(){j(this,xt)!==-1&&(Kt(this,rt,!0),j(this,ht)[j(this,xt)].undo(),Kt(this,rt,!1),Kt(this,xt,j(this,xt)-1))}redo(){j(this,xt)<j(this,ht).length-1&&(Kt(this,xt,j(this,xt)+1),Kt(this,rt,!0),j(this,ht)[j(this,xt)].cmd(),Kt(this,rt,!1))}hasSomethingToUndo(){return j(this,xt)!==-1}hasSomethingToRedo(){return j(this,xt)<j(this,ht).length-1}destroy(){Kt(this,ht,null)}}ht=new WeakMap,rt=new WeakMap,dt=new WeakMap,xt=new WeakMap,e.CommandManager=_;class b{constructor(st){Mt(this,pt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:wt}=o.FeatureTest.platform;for(const[Ot,Nt,Bt={}]of st)for(const Yt of Ot){const on=Yt.startsWith("mac+");wt&&on?(this.callbacks.set(Yt.slice(4),{callback:Nt,options:Bt}),this.allKeys.add(Yt.split("+").at(-1))):!wt&&!on&&(this.callbacks.set(Yt,{callback:Nt,options:Bt}),this.allKeys.add(Yt.split("+").at(-1)))}}exec(st,wt){if(!this.allKeys.has(wt.key))return;const Ot=this.callbacks.get(jt(this,pt,us).call(this,wt));if(!Ot)return;const{callback:Nt,options:{bubbles:Bt=!1,args:Yt=[],checker:on=null}}=Ot;on&&!on(st,wt)||(Nt.bind(st,...Yt)(),Bt||(wt.stopPropagation(),wt.preventDefault()))}}pt=new WeakSet,us=function(st){st.altKey&&this.buffer.push("alt"),st.ctrlKey&&this.buffer.push("ctrl"),st.metaKey&&this.buffer.push("meta"),st.shiftKey&&this.buffer.push("shift"),this.buffer.push(st.key);const wt=this.buffer.join("+");return this.buffer.length=0,wt},e.KeyboardManager=b;const St=class St{get _colors(){const st=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(st),(0,o.shadow)(this,"_colors",st)}convert(st){const wt=(0,a.getRGB)(st);if(!window.matchMedia("(forced-colors: active)").matches)return wt;for(const[Ot,Nt]of this._colors)if(Nt.every((Bt,Yt)=>Bt===wt[Yt]))return St._colorsMapping.get(Ot);return wt}getHexCode(st){const wt=this._colors.get(st);return wt?o.Util.makeHexColor(...wt):st}};Hn(St,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _e=St;e.ColorManager=_e;const Sn=class Sn{constructor(st,wt,Ot,Nt,Bt,Yt){Mt(this,tn);Mt(this,fn);Mt(this,In);Mt(this,On);Mt(this,kn);Mt(this,en);Mt(this,Ut);Mt(this,cn);Mt(this,$n);Mt(this,dn);Mt(this,mn);Mt(this,wn);Mt(this,ln);Mt(this,Et,null);Mt(this,Dt,new Map);Mt(this,Ft,new Map);Mt(this,yt,null);Mt(this,vt,null);Mt(this,At,new _);Mt(this,kt,0);Mt(this,_t,new Set);Mt(this,Pt,null);Mt(this,$t,null);Mt(this,Zt,new Set);Mt(this,nn,null);Mt(this,Tt,new g);Mt(this,nt,!1);Mt(this,ut,!1);Mt(this,ot,null);Mt(this,gt,o.AnnotationEditorType.NONE);Mt(this,bt,new Set);Mt(this,Ct,null);Mt(this,Rt,this.blur.bind(this));Mt(this,Lt,this.focus.bind(this));Mt(this,qt,this.copy.bind(this));Mt(this,Wt,this.cut.bind(this));Mt(this,Xt,this.paste.bind(this));Mt(this,Jt,this.keydown.bind(this));Mt(this,rn,this.onEditingAction.bind(this));Mt(this,Qt,this.onPageChanging.bind(this));Mt(this,pn,this.onScaleChanging.bind(this));Mt(this,bn,this.onRotationChanging.bind(this));Mt(this,un,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Mt(this,En,[0,0]);Mt(this,sn,null);Mt(this,Vt,null);Mt(this,Gt,null);Kt(this,Vt,st),Kt(this,Gt,wt),Kt(this,yt,Ot),this._eventBus=Nt,this._eventBus._on("editingaction",j(this,rn)),this._eventBus._on("pagechanging",j(this,Qt)),this._eventBus._on("scalechanging",j(this,pn)),this._eventBus._on("rotationchanging",j(this,bn)),Kt(this,vt,Bt.annotationStorage),Kt(this,nn,Bt.filterFactory),Kt(this,Ct,Yt),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const st=Sn.prototype,wt=Bt=>{const{activeElement:Yt}=document;return Yt&&j(Bt,Vt).contains(Yt)&&Bt.hasSomethingToControl()},Ot=this.TRANSLATE_SMALL,Nt=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new b([[["ctrl+a","mac+meta+a"],st.selectAll],[["ctrl+z","mac+meta+z"],st.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],st.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],st.delete],[["Escape","mac+Escape"],st.unselectAll],[["ArrowLeft","mac+ArrowLeft"],st.translateSelectedEditors,{args:[-Ot,0],checker:wt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],st.translateSelectedEditors,{args:[-Nt,0],checker:wt}],[["ArrowRight","mac+ArrowRight"],st.translateSelectedEditors,{args:[Ot,0],checker:wt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],st.translateSelectedEditors,{args:[Nt,0],checker:wt}],[["ArrowUp","mac+ArrowUp"],st.translateSelectedEditors,{args:[0,-Ot],checker:wt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],st.translateSelectedEditors,{args:[0,-Nt],checker:wt}],[["ArrowDown","mac+ArrowDown"],st.translateSelectedEditors,{args:[0,Ot],checker:wt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],st.translateSelectedEditors,{args:[0,Nt],checker:wt}]]))}destroy(){jt(this,On,hr).call(this),jt(this,fn,Or).call(this),this._eventBus._off("editingaction",j(this,rn)),this._eventBus._off("pagechanging",j(this,Qt)),this._eventBus._off("scalechanging",j(this,pn)),this._eventBus._off("rotationchanging",j(this,bn));for(const st of j(this,Ft).values())st.destroy();j(this,Ft).clear(),j(this,Dt).clear(),j(this,Zt).clear(),Kt(this,Et,null),j(this,bt).clear(),j(this,At).destroy(),j(this,yt).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",j(this,Ct)?j(this,nn).addHCMFilter(j(this,Ct).foreground,j(this,Ct).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(j(this,Vt)).direction)}editAltText(st){var wt;(wt=j(this,yt))==null||wt.editAltText(this,st)}onPageChanging({pageNumber:st}){Kt(this,kt,st-1)}focusMainContainer(){j(this,Vt).focus()}findParent(st,wt){for(const Ot of j(this,Ft).values()){const{x:Nt,y:Bt,width:Yt,height:on}=Ot.div.getBoundingClientRect();if(st>=Nt&&st<=Nt+Yt&&wt>=Bt&&wt<=Bt+on)return Ot}return null}disableUserSelect(st=!1){j(this,Gt).classList.toggle("noUserSelect",st)}addShouldRescale(st){j(this,Zt).add(st)}removeShouldRescale(st){j(this,Zt).delete(st)}onScaleChanging({scale:st}){this.commitOrRemove(),this.viewParameters.realScale=st*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const wt of j(this,Zt))wt.onScaleChanging()}onRotationChanging({pagesRotation:st}){this.commitOrRemove(),this.viewParameters.rotation=st}addToAnnotationStorage(st){!st.isEmpty()&&j(this,vt)&&!j(this,vt).has(st.id)&&j(this,vt).setValue(st.id,st)}blur(){if(!this.hasSelection)return;const{activeElement:st}=document;for(const wt of j(this,bt))if(wt.div.contains(st)){Kt(this,ot,[wt,st]),wt._focusEventsAllowed=!1;break}}focus(){if(!j(this,ot))return;const[st,wt]=j(this,ot);Kt(this,ot,null),wt.addEventListener("focusin",()=>{st._focusEventsAllowed=!0},{once:!0}),wt.focus()}addEditListeners(){jt(this,In,Lr).call(this),jt(this,kn,Mr).call(this)}removeEditListeners(){jt(this,On,hr).call(this),jt(this,en,Dr).call(this)}copy(st){var Ot;if(st.preventDefault(),(Ot=j(this,Et))==null||Ot.commitOrRemove(),!this.hasSelection)return;const wt=[];for(const Nt of j(this,bt)){const Bt=Nt.serialize(!0);Bt&&wt.push(Bt)}wt.length!==0&&st.clipboardData.setData("application/pdfjs",JSON.stringify(wt))}cut(st){this.copy(st),this.delete()}paste(st){st.preventDefault();const{clipboardData:wt}=st;for(const Bt of wt.items)for(const Yt of j(this,$t))if(Yt.isHandlingMimeForPasting(Bt.type)){Yt.paste(Bt,this.currentLayer);return}let Ot=wt.getData("application/pdfjs");if(!Ot)return;try{Ot=JSON.parse(Ot)}catch(Bt){(0,o.warn)(`paste: "${Bt.message}".`);return}if(!Array.isArray(Ot))return;this.unselectAll();const Nt=this.currentLayer;try{const Bt=[];for(const yn of Ot){const gn=Nt.deserialize(yn);if(!gn)return;Bt.push(gn)}const Yt=()=>{for(const yn of Bt)jt(this,mn,Fr).call(this,yn);jt(this,ln,Nr).call(this,Bt)},on=()=>{for(const yn of Bt)yn.remove()};this.addCommands({cmd:Yt,undo:on,mustExec:!0})}catch(Bt){(0,o.warn)(`paste: "${Bt.message}".`)}}keydown(st){var wt;(wt=this.getActive())!=null&&wt.shouldGetKeyboardEvents()||Sn._keyboardManager.exec(this,st)}onEditingAction(st){["undo","redo","delete","selectAll"].includes(st.name)&&this[st.name]()}setEditingState(st){st?(jt(this,tn,ds).call(this),jt(this,In,Lr).call(this),jt(this,kn,Mr).call(this),jt(this,Ut,Gn).call(this,{isEditing:j(this,gt)!==o.AnnotationEditorType.NONE,isEmpty:jt(this,wn,ir).call(this),hasSomethingToUndo:j(this,At).hasSomethingToUndo(),hasSomethingToRedo:j(this,At).hasSomethingToRedo(),hasSelectedEditor:!1})):(jt(this,fn,Or).call(this),jt(this,On,hr).call(this),jt(this,en,Dr).call(this),jt(this,Ut,Gn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(st){if(!j(this,$t)){Kt(this,$t,st);for(const wt of j(this,$t))jt(this,cn,rr).call(this,wt.defaultPropertiesToUpdate)}}getId(){return j(this,Tt).getId()}get currentLayer(){return j(this,Ft).get(j(this,kt))}getLayer(st){return j(this,Ft).get(st)}get currentPageIndex(){return j(this,kt)}addLayer(st){j(this,Ft).set(st.pageIndex,st),j(this,nt)?st.enable():st.disable()}removeLayer(st){j(this,Ft).delete(st.pageIndex)}updateMode(st,wt=null){if(j(this,gt)!==st){if(Kt(this,gt,st),st===o.AnnotationEditorType.NONE){this.setEditingState(!1),jt(this,dn,fs).call(this);return}this.setEditingState(!0),jt(this,$n,hs).call(this),this.unselectAll();for(const Ot of j(this,Ft).values())Ot.updateMode(st);if(wt){for(const Ot of j(this,Dt).values())if(Ot.annotationElementId===wt){this.setSelected(Ot),Ot.enterInEditMode();break}}}}updateToolbar(st){st!==j(this,gt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:st})}updateParams(st,wt){if(j(this,$t)){if(st===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(st);return}for(const Ot of j(this,bt))Ot.updateParams(st,wt);for(const Ot of j(this,$t))Ot.updateDefaultParams(st,wt)}}enableWaiting(st=!1){if(j(this,ut)!==st){Kt(this,ut,st);for(const wt of j(this,Ft).values())st?wt.disableClick():wt.enableClick(),wt.div.classList.toggle("waiting",st)}}getEditors(st){const wt=[];for(const Ot of j(this,Dt).values())Ot.pageIndex===st&&wt.push(Ot);return wt}getEditor(st){return j(this,Dt).get(st)}addEditor(st){j(this,Dt).set(st.id,st)}removeEditor(st){var wt;j(this,Dt).delete(st.id),this.unselect(st),(!st.annotationElementId||!j(this,_t).has(st.annotationElementId))&&((wt=j(this,vt))==null||wt.remove(st.id))}addDeletedAnnotationElement(st){j(this,_t).add(st.annotationElementId),st.deleted=!0}isDeletedAnnotationElement(st){return j(this,_t).has(st)}removeDeletedAnnotationElement(st){j(this,_t).delete(st.annotationElementId),st.deleted=!1}setActiveEditor(st){j(this,Et)!==st&&(Kt(this,Et,st),st&&jt(this,cn,rr).call(this,st.propertiesToUpdate))}toggleSelected(st){if(j(this,bt).has(st)){j(this,bt).delete(st),st.unselect(),jt(this,Ut,Gn).call(this,{hasSelectedEditor:this.hasSelection});return}j(this,bt).add(st),st.select(),jt(this,cn,rr).call(this,st.propertiesToUpdate),jt(this,Ut,Gn).call(this,{hasSelectedEditor:!0})}setSelected(st){for(const wt of j(this,bt))wt!==st&&wt.unselect();j(this,bt).clear(),j(this,bt).add(st),st.select(),jt(this,cn,rr).call(this,st.propertiesToUpdate),jt(this,Ut,Gn).call(this,{hasSelectedEditor:!0})}isSelected(st){return j(this,bt).has(st)}unselect(st){st.unselect(),j(this,bt).delete(st),jt(this,Ut,Gn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return j(this,bt).size!==0}undo(){j(this,At).undo(),jt(this,Ut,Gn).call(this,{hasSomethingToUndo:j(this,At).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:jt(this,wn,ir).call(this)})}redo(){j(this,At).redo(),jt(this,Ut,Gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:j(this,At).hasSomethingToRedo(),isEmpty:jt(this,wn,ir).call(this)})}addCommands(st){j(this,At).add(st),jt(this,Ut,Gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:jt(this,wn,ir).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const st=[...j(this,bt)],wt=()=>{for(const Nt of st)Nt.remove()},Ot=()=>{for(const Nt of st)jt(this,mn,Fr).call(this,Nt)};this.addCommands({cmd:wt,undo:Ot,mustExec:!0})}commitOrRemove(){var st;(st=j(this,Et))==null||st.commitOrRemove()}hasSomethingToControl(){return j(this,Et)||this.hasSelection}selectAll(){for(const st of j(this,bt))st.commit();jt(this,ln,Nr).call(this,j(this,Dt).values())}unselectAll(){if(j(this,Et)){j(this,Et).commitOrRemove();return}if(this.hasSelection){for(const st of j(this,bt))st.unselect();j(this,bt).clear(),jt(this,Ut,Gn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(st,wt,Ot=!1){if(Ot||this.commitOrRemove(),!this.hasSelection)return;j(this,En)[0]+=st,j(this,En)[1]+=wt;const[Nt,Bt]=j(this,En),Yt=[...j(this,bt)],on=1e3;j(this,sn)&&clearTimeout(j(this,sn)),Kt(this,sn,setTimeout(()=>{Kt(this,sn,null),j(this,En)[0]=j(this,En)[1]=0,this.addCommands({cmd:()=>{for(const yn of Yt)j(this,Dt).has(yn.id)&&yn.translateInPage(Nt,Bt)},undo:()=>{for(const yn of Yt)j(this,Dt).has(yn.id)&&yn.translateInPage(-Nt,-Bt)},mustExec:!1})},on));for(const yn of Yt)yn.translateInPage(st,wt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Kt(this,Pt,new Map);for(const st of j(this,bt))j(this,Pt).set(st,{savedX:st.x,savedY:st.y,savedPageIndex:st.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!j(this,Pt))return!1;this.disableUserSelect(!1);const st=j(this,Pt);Kt(this,Pt,null);let wt=!1;for(const[{x:Nt,y:Bt,pageIndex:Yt},on]of st)on.newX=Nt,on.newY=Bt,on.newPageIndex=Yt,wt||(wt=Nt!==on.savedX||Bt!==on.savedY||Yt!==on.savedPageIndex);if(!wt)return!1;const Ot=(Nt,Bt,Yt,on)=>{if(j(this,Dt).has(Nt.id)){const yn=j(this,Ft).get(on);yn?Nt._setParentAndPosition(yn,Bt,Yt):(Nt.pageIndex=on,Nt.x=Bt,Nt.y=Yt)}};return this.addCommands({cmd:()=>{for(const[Nt,{newX:Bt,newY:Yt,newPageIndex:on}]of st)Ot(Nt,Bt,Yt,on)},undo:()=>{for(const[Nt,{savedX:Bt,savedY:Yt,savedPageIndex:on}]of st)Ot(Nt,Bt,Yt,on)},mustExec:!0}),!0}dragSelectedEditors(st,wt){if(j(this,Pt))for(const Ot of j(this,Pt).keys())Ot.drag(st,wt)}rebuild(st){if(st.parent===null){const wt=this.getLayer(st.pageIndex);wt?(wt.changeParent(st),wt.addOrRebuild(st)):(this.addEditor(st),this.addToAnnotationStorage(st),st.rebuild())}else st.parent.addOrRebuild(st)}isActive(st){return j(this,Et)===st}getActive(){return j(this,Et)}getMode(){return j(this,gt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new h)}};Et=new WeakMap,Dt=new WeakMap,Ft=new WeakMap,yt=new WeakMap,vt=new WeakMap,At=new WeakMap,kt=new WeakMap,_t=new WeakMap,Pt=new WeakMap,$t=new WeakMap,Zt=new WeakMap,nn=new WeakMap,Tt=new WeakMap,nt=new WeakMap,ut=new WeakMap,ot=new WeakMap,gt=new WeakMap,bt=new WeakMap,Ct=new WeakMap,Rt=new WeakMap,Lt=new WeakMap,qt=new WeakMap,Wt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,rn=new WeakMap,Qt=new WeakMap,pn=new WeakMap,bn=new WeakMap,un=new WeakMap,En=new WeakMap,sn=new WeakMap,Vt=new WeakMap,Gt=new WeakMap,tn=new WeakSet,ds=function(){window.addEventListener("focus",j(this,Lt)),window.addEventListener("blur",j(this,Rt))},fn=new WeakSet,Or=function(){window.removeEventListener("focus",j(this,Lt)),window.removeEventListener("blur",j(this,Rt))},In=new WeakSet,Lr=function(){window.addEventListener("keydown",j(this,Jt),{capture:!0})},On=new WeakSet,hr=function(){window.removeEventListener("keydown",j(this,Jt),{capture:!0})},kn=new WeakSet,Mr=function(){document.addEventListener("copy",j(this,qt)),document.addEventListener("cut",j(this,Wt)),document.addEventListener("paste",j(this,Xt))},en=new WeakSet,Dr=function(){document.removeEventListener("copy",j(this,qt)),document.removeEventListener("cut",j(this,Wt)),document.removeEventListener("paste",j(this,Xt))},Ut=new WeakSet,Gn=function(st){Object.entries(st).some(([Ot,Nt])=>j(this,un)[Ot]!==Nt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(j(this,un),st)})},cn=new WeakSet,rr=function(st){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:st})},$n=new WeakSet,hs=function(){if(!j(this,nt)){Kt(this,nt,!0);for(const st of j(this,Ft).values())st.enable()}},dn=new WeakSet,fs=function(){if(this.unselectAll(),j(this,nt)){Kt(this,nt,!1);for(const st of j(this,Ft).values())st.disable()}},mn=new WeakSet,Fr=function(st){const wt=j(this,Ft).get(st.pageIndex);wt?wt.addOrRebuild(st):this.addEditor(st)},wn=new WeakSet,ir=function(){if(j(this,Dt).size===0)return!0;if(j(this,Dt).size===1)for(const st of j(this,Dt).values())return st.isEmpty();return!1},ln=new WeakSet,Nr=function(st){j(this,bt).clear();for(const wt of st)wt.isEmpty()||(j(this,bt).add(wt),wt.select());jt(this,Ut,Gn).call(this,{hasSelectedEditor:!0})},Hn(Sn,"TRANSLATE_SMALL",1),Hn(Sn,"TRANSLATE_BIG",10);let ft=Sn;e.AnnotationEditorUIManager=ft},(i,e,s)=>{var kt,_t,Pt,$t,Zt,nn,Tt,nt,ut,ot,gt,bt,Jn,Rt,Zn,qt,jr,Xt,fr,rn,pr,pn,sr,un,or;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=xt,e.getColorValues=Dt,e.getCurrentTransform=Ft,e.getCurrentTransformInverse=yt,e.getFilenameFromUrl=et,e.getPdfFilenameFromUrl=$,e.getRGB=Et,e.getXfaPageViewport=St,e.isDataScheme=at,e.isPdfFile=ct,e.isValidFetchUrl=ht,e.loadScript=dt,e.noContextMenu=rt,e.setLayerDimensions=vt;var o=s(7),a=s(1);const c="http://www.w3.org/2000/svg",At=class At{};Hn(At,"CSS",96),Hn(At,"PDF",72),Hn(At,"PDF_TO_CSS_UNITS",At.CSS/At.PDF);let d=At;e.PixelsPerInch=d;class g extends o.BaseFilterFactory{constructor({docId:Gt,ownerDocument:tn=globalThis.document}={}){super();Mt(this,bt);Mt(this,Rt);Mt(this,qt);Mt(this,Xt);Mt(this,rn);Mt(this,pn);Mt(this,un);Mt(this,kt,void 0);Mt(this,_t,void 0);Mt(this,Pt,void 0);Mt(this,$t,void 0);Mt(this,Zt,void 0);Mt(this,nn,void 0);Mt(this,Tt,void 0);Mt(this,nt,void 0);Mt(this,ut,void 0);Mt(this,ot,void 0);Mt(this,gt,0);Kt(this,Pt,Gt),Kt(this,$t,tn)}addFilter(Gt){if(!Gt)return"none";let tn=j(this,bt,Jn).get(Gt);if(tn)return tn;let hn,fn,Tn,In;if(Gt.length===1){const kn=Gt[0],Ln=new Array(256);for(let en=0;en<256;en++)Ln[en]=kn[en]/255;In=hn=fn=Tn=Ln.join(",")}else{const[kn,Ln,en]=Gt,zt=new Array(256),Ut=new Array(256),an=new Array(256);for(let cn=0;cn<256;cn++)zt[cn]=kn[cn]/255,Ut[cn]=Ln[cn]/255,an[cn]=en[cn]/255;hn=zt.join(","),fn=Ut.join(","),Tn=an.join(","),In=`${hn}${fn}${Tn}`}if(tn=j(this,bt,Jn).get(In),tn)return j(this,bt,Jn).set(Gt,tn),tn;const Cn=`g_${j(this,Pt)}_transfer_map_${nr(this,gt)._++}`,On=`url(#${Cn})`;j(this,bt,Jn).set(Gt,On),j(this,bt,Jn).set(In,On);const Rn=jt(this,Xt,fr).call(this,Cn);return jt(this,pn,sr).call(this,hn,fn,Tn,Rn),On}addHCMFilter(Gt,tn){var Ln;const hn=`${Gt}-${tn}`;if(j(this,nn)===hn)return j(this,Tt);if(Kt(this,nn,hn),Kt(this,Tt,"none"),(Ln=j(this,Zt))==null||Ln.remove(),!Gt||!tn)return j(this,Tt);const fn=jt(this,un,or).call(this,Gt);Gt=a.Util.makeHexColor(...fn);const Tn=jt(this,un,or).call(this,tn);if(tn=a.Util.makeHexColor(...Tn),j(this,Rt,Zn).style.color="",Gt==="#000000"&&tn==="#ffffff"||Gt===tn)return j(this,Tt);const In=new Array(256);for(let en=0;en<=255;en++){const zt=en/255;In[en]=zt<=.03928?zt/12.92:((zt+.055)/1.055)**2.4}const Cn=In.join(","),On=`g_${j(this,Pt)}_hcm_filter`,Rn=Kt(this,nt,jt(this,Xt,fr).call(this,On));jt(this,pn,sr).call(this,Cn,Cn,Cn,Rn),jt(this,qt,jr).call(this,Rn);const kn=(en,zt)=>{const Ut=fn[en]/255,an=Tn[en]/255,cn=new Array(zt+1);for(let Bn=0;Bn<=zt;Bn++)cn[Bn]=Ut+Bn/zt*(an-Ut);return cn.join(",")};return jt(this,pn,sr).call(this,kn(0,5),kn(1,5),kn(2,5),Rn),Kt(this,Tt,`url(#${On})`),j(this,Tt)}addHighlightHCMFilter(Gt,tn,hn,fn){var an;const Tn=`${Gt}-${tn}-${hn}-${fn}`;if(j(this,ut)===Tn)return j(this,ot);if(Kt(this,ut,Tn),Kt(this,ot,"none"),(an=j(this,nt))==null||an.remove(),!Gt||!tn)return j(this,ot);const[In,Cn]=[Gt,tn].map(jt(this,un,or).bind(this));let On=Math.round(.2126*In[0]+.7152*In[1]+.0722*In[2]),Rn=Math.round(.2126*Cn[0]+.7152*Cn[1]+.0722*Cn[2]),[kn,Ln]=[hn,fn].map(jt(this,un,or).bind(this));Rn<On&&([On,Rn,kn,Ln]=[Rn,On,Ln,kn]),j(this,Rt,Zn).style.color="";const en=(cn,Bn,$n)=>{const Ht=new Array(256),dn=(Rn-On)/$n,An=cn/255,mn=(Bn-cn)/(255*$n);let xn=0;for(let wn=0;wn<=$n;wn++){const jn=Math.round(On+wn*dn),ln=An+wn*mn;for(let Fn=xn;Fn<=jn;Fn++)Ht[Fn]=ln;xn=jn+1}for(let wn=xn;wn<256;wn++)Ht[wn]=Ht[xn-1];return Ht.join(",")},zt=`g_${j(this,Pt)}_hcm_highlight_filter`,Ut=Kt(this,nt,jt(this,Xt,fr).call(this,zt));return jt(this,qt,jr).call(this,Ut),jt(this,pn,sr).call(this,en(kn[0],Ln[0],5),en(kn[1],Ln[1],5),en(kn[2],Ln[2],5),Ut),Kt(this,ot,`url(#${zt})`),j(this,ot)}destroy(Gt=!1){Gt&&(j(this,Tt)||j(this,ot))||(j(this,_t)&&(j(this,_t).parentNode.parentNode.remove(),Kt(this,_t,null)),j(this,kt)&&(j(this,kt).clear(),Kt(this,kt,null)),Kt(this,gt,0))}}kt=new WeakMap,_t=new WeakMap,Pt=new WeakMap,$t=new WeakMap,Zt=new WeakMap,nn=new WeakMap,Tt=new WeakMap,nt=new WeakMap,ut=new WeakMap,ot=new WeakMap,gt=new WeakMap,bt=new WeakSet,Jn=function(){return j(this,kt)||Kt(this,kt,new Map)},Rt=new WeakSet,Zn=function(){if(!j(this,_t)){const Gt=j(this,$t).createElement("div"),{style:tn}=Gt;tn.visibility="hidden",tn.contain="strict",tn.width=tn.height=0,tn.position="absolute",tn.top=tn.left=0,tn.zIndex=-1;const hn=j(this,$t).createElementNS(c,"svg");hn.setAttribute("width",0),hn.setAttribute("height",0),Kt(this,_t,j(this,$t).createElementNS(c,"defs")),Gt.append(hn),hn.append(j(this,_t)),j(this,$t).body.append(Gt)}return j(this,_t)},qt=new WeakSet,jr=function(Gt){const tn=j(this,$t).createElementNS(c,"feColorMatrix");tn.setAttribute("type","matrix"),tn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Gt.append(tn)},Xt=new WeakSet,fr=function(Gt){const tn=j(this,$t).createElementNS(c,"filter");return tn.setAttribute("color-interpolation-filters","sRGB"),tn.setAttribute("id",Gt),j(this,Rt,Zn).append(tn),tn},rn=new WeakSet,pr=function(Gt,tn,hn){const fn=j(this,$t).createElementNS(c,tn);fn.setAttribute("type","discrete"),fn.setAttribute("tableValues",hn),Gt.append(fn)},pn=new WeakSet,sr=function(Gt,tn,hn,fn){const Tn=j(this,$t).createElementNS(c,"feComponentTransfer");fn.append(Tn),jt(this,rn,pr).call(this,Tn,"feFuncR",Gt),jt(this,rn,pr).call(this,Tn,"feFuncG",tn),jt(this,rn,pr).call(this,Tn,"feFuncB",hn)},un=new WeakSet,or=function(Gt){return j(this,Rt,Zn).style.color=Gt,Et(getComputedStyle(j(this,Rt,Zn)).getPropertyValue("color"))},e.DOMFilterFactory=g;class h extends o.BaseCanvasFactory{constructor({ownerDocument:Vt=globalThis.document}={}){super(),this._document=Vt}_createCanvas(Vt,Gt){const tn=this._document.createElement("canvas");return tn.width=Vt,tn.height=Gt,tn}}e.DOMCanvasFactory=h;async function _(sn,Vt=!1){if(ht(sn,document.baseURI)){const Gt=await fetch(sn);if(!Gt.ok)throw new Error(Gt.statusText);return Vt?new Uint8Array(await Gt.arrayBuffer()):(0,a.stringToBytes)(await Gt.text())}return new Promise((Gt,tn)=>{const hn=new XMLHttpRequest;hn.open("GET",sn,!0),Vt&&(hn.responseType="arraybuffer"),hn.onreadystatechange=()=>{if(hn.readyState===XMLHttpRequest.DONE){if(hn.status===200||hn.status===0){let fn;if(Vt&&hn.response?fn=new Uint8Array(hn.response):!Vt&&hn.responseText&&(fn=(0,a.stringToBytes)(hn.responseText)),fn){Gt(fn);return}}tn(new Error(hn.statusText))}},hn.send(null)})}class b extends o.BaseCMapReaderFactory{_fetchData(Vt,Gt){return _(Vt,this.isCompressed).then(tn=>({cMapData:tn,compressionType:Gt}))}}e.DOMCMapReaderFactory=b;class _e extends o.BaseStandardFontDataFactory{_fetchData(Vt){return _(Vt,!0)}}e.DOMStandardFontDataFactory=_e;class ft extends o.BaseSVGFactory{_createSVG(Vt){return document.createElementNS(c,Vt)}}e.DOMSVGFactory=ft;class mt{constructor({viewBox:Vt,scale:Gt,rotation:tn,offsetX:hn=0,offsetY:fn=0,dontFlip:Tn=!1}){this.viewBox=Vt,this.scale=Gt,this.rotation=tn,this.offsetX=hn,this.offsetY=fn;const In=(Vt[2]+Vt[0])/2,Cn=(Vt[3]+Vt[1])/2;let On,Rn,kn,Ln;switch(tn%=360,tn<0&&(tn+=360),tn){case 180:On=-1,Rn=0,kn=0,Ln=1;break;case 90:On=0,Rn=1,kn=1,Ln=0;break;case 270:On=0,Rn=-1,kn=-1,Ln=0;break;case 0:On=1,Rn=0,kn=0,Ln=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Tn&&(kn=-kn,Ln=-Ln);let en,zt,Ut,an;On===0?(en=Math.abs(Cn-Vt[1])*Gt+hn,zt=Math.abs(In-Vt[0])*Gt+fn,Ut=(Vt[3]-Vt[1])*Gt,an=(Vt[2]-Vt[0])*Gt):(en=Math.abs(In-Vt[0])*Gt+hn,zt=Math.abs(Cn-Vt[1])*Gt+fn,Ut=(Vt[2]-Vt[0])*Gt,an=(Vt[3]-Vt[1])*Gt),this.transform=[On*Gt,Rn*Gt,kn*Gt,Ln*Gt,en-On*Gt*In-kn*Gt*Cn,zt-Rn*Gt*In-Ln*Gt*Cn],this.width=Ut,this.height=an}get rawDims(){const{viewBox:Vt}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:Vt[2]-Vt[0],pageHeight:Vt[3]-Vt[1],pageX:Vt[0],pageY:Vt[1]})}clone({scale:Vt=this.scale,rotation:Gt=this.rotation,offsetX:tn=this.offsetX,offsetY:hn=this.offsetY,dontFlip:fn=!1}={}){return new mt({viewBox:this.viewBox.slice(),scale:Vt,rotation:Gt,offsetX:tn,offsetY:hn,dontFlip:fn})}convertToViewportPoint(Vt,Gt){return a.Util.applyTransform([Vt,Gt],this.transform)}convertToViewportRectangle(Vt){const Gt=a.Util.applyTransform([Vt[0],Vt[1]],this.transform),tn=a.Util.applyTransform([Vt[2],Vt[3]],this.transform);return[Gt[0],Gt[1],tn[0],tn[1]]}convertToPdfPoint(Vt,Gt){return a.Util.applyInverseTransform([Vt,Gt],this.transform)}}e.PageViewport=mt;class lt extends a.BaseException{constructor(Vt,Gt=0){super(Vt,"RenderingCancelledException"),this.extraDelay=Gt}}e.RenderingCancelledException=lt;function at(sn){const Vt=sn.length;let Gt=0;for(;Gt<Vt&&sn[Gt].trim()==="";)Gt++;return sn.substring(Gt,Gt+5).toLowerCase()==="data:"}function ct(sn){return typeof sn=="string"&&/\.pdf$/i.test(sn)}function et(sn,Vt=!1){return Vt||([sn]=sn.split(/[#?]/,1)),sn.substring(sn.lastIndexOf("/")+1)}function $(sn,Vt="document.pdf"){if(typeof sn!="string")return Vt;if(at(sn))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Vt;const Gt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,tn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,hn=Gt.exec(sn);let fn=tn.exec(hn[1])||tn.exec(hn[2])||tn.exec(hn[3]);if(fn&&(fn=fn[0],fn.includes("%")))try{fn=tn.exec(decodeURIComponent(fn))[0]}catch{}return fn||Vt}class tt{constructor(){Hn(this,"started",Object.create(null));Hn(this,"times",[])}time(Vt){Vt in this.started&&(0,a.warn)(`Timer is already running for ${Vt}`),this.started[Vt]=Date.now()}timeEnd(Vt){Vt in this.started||(0,a.warn)(`Timer has not been started for ${Vt}`),this.times.push({name:Vt,start:this.started[Vt],end:Date.now()}),delete this.started[Vt]}toString(){const Vt=[];let Gt=0;for(const{name:tn}of this.times)Gt=Math.max(tn.length,Gt);for(const{name:tn,start:hn,end:fn}of this.times)Vt.push(`${tn.padEnd(Gt)} ${fn-hn}ms
`);return Vt.join("")}}e.StatTimer=tt;function ht(sn,Vt){try{const{protocol:Gt}=Vt?new URL(sn,Vt):new URL(sn);return Gt==="http:"||Gt==="https:"}catch{return!1}}function rt(sn){sn.preventDefault()}function dt(sn,Vt=!1){return new Promise((Gt,tn)=>{const hn=document.createElement("script");hn.src=sn,hn.onload=function(fn){Vt&&hn.remove(),Gt(fn)},hn.onerror=function(){tn(new Error(`Cannot load script at: ${hn.src}`))},(document.head||document.documentElement).append(hn)})}function xt(sn){console.log("Deprecated API usage: "+sn)}let pt;class it{static toDateObject(Vt){if(!Vt||typeof Vt!="string")return null;pt||(pt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Gt=pt.exec(Vt);if(!Gt)return null;const tn=parseInt(Gt[1],10);let hn=parseInt(Gt[2],10);hn=hn>=1&&hn<=12?hn-1:0;let fn=parseInt(Gt[3],10);fn=fn>=1&&fn<=31?fn:1;let Tn=parseInt(Gt[4],10);Tn=Tn>=0&&Tn<=23?Tn:0;let In=parseInt(Gt[5],10);In=In>=0&&In<=59?In:0;let Cn=parseInt(Gt[6],10);Cn=Cn>=0&&Cn<=59?Cn:0;const On=Gt[7]||"Z";let Rn=parseInt(Gt[8],10);Rn=Rn>=0&&Rn<=23?Rn:0;let kn=parseInt(Gt[9],10)||0;return kn=kn>=0&&kn<=59?kn:0,On==="-"?(Tn+=Rn,In+=kn):On==="+"&&(Tn-=Rn,In-=kn),new Date(Date.UTC(tn,hn,fn,Tn,In,Cn))}}e.PDFDateString=it;function St(sn,{scale:Vt=1,rotation:Gt=0}){const{width:tn,height:hn}=sn.attributes.style,fn=[0,0,parseInt(tn),parseInt(hn)];return new mt({viewBox:fn,scale:Vt,rotation:Gt})}function Et(sn){if(sn.startsWith("#")){const Vt=parseInt(sn.slice(1),16);return[(Vt&16711680)>>16,(Vt&65280)>>8,Vt&255]}return sn.startsWith("rgb(")?sn.slice(4,-1).split(",").map(Vt=>parseInt(Vt)):sn.startsWith("rgba(")?sn.slice(5,-1).split(",").map(Vt=>parseInt(Vt)).slice(0,3):((0,a.warn)(`Not a valid color format: "${sn}"`),[0,0,0])}function Dt(sn){const Vt=document.createElement("span");Vt.style.visibility="hidden",document.body.append(Vt);for(const Gt of sn.keys()){Vt.style.color=Gt;const tn=window.getComputedStyle(Vt).color;sn.set(Gt,Et(tn))}Vt.remove()}function Ft(sn){const{a:Vt,b:Gt,c:tn,d:hn,e:fn,f:Tn}=sn.getTransform();return[Vt,Gt,tn,hn,fn,Tn]}function yt(sn){const{a:Vt,b:Gt,c:tn,d:hn,e:fn,f:Tn}=sn.getTransform().invertSelf();return[Vt,Gt,tn,hn,fn,Tn]}function vt(sn,Vt,Gt=!1,tn=!0){if(Vt instanceof mt){const{pageWidth:hn,pageHeight:fn}=Vt.rawDims,{style:Tn}=sn,In=a.FeatureTest.isCSSRoundSupported,Cn=`var(--scale-factor) * ${hn}px`,On=`var(--scale-factor) * ${fn}px`,Rn=In?`round(${Cn}, 1px)`:`calc(${Cn})`,kn=In?`round(${On}, 1px)`:`calc(${On})`;!Gt||Vt.rotation%180===0?(Tn.width=Rn,Tn.height=kn):(Tn.width=kn,Tn.height=Rn)}tn&&sn.setAttribute("data-main-rotation",Vt.rotation)}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var o=s(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(b){return"none"}addHCMFilter(b,_e){return"none"}addHighlightHCMFilter(b,_e,ft,mt){return"none"}destroy(b=!1){}}e.BaseFilterFactory=a;class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,_e){if(b<=0||_e<=0)throw new Error("Invalid canvas size");const ft=this._createCanvas(b,_e);return{canvas:ft,context:ft.getContext("2d")}}reset(b,_e,ft){if(!b.canvas)throw new Error("Canvas is not specified");if(_e<=0||ft<=0)throw new Error("Invalid canvas size");b.canvas.width=_e,b.canvas.height=ft}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,_e){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=c;class d{constructor({baseUrl:b=null,isCompressed:_e=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=b,this.isCompressed=_e}async fetch({name:b}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!b)throw new Error("CMap name must be specified.");const _e=this.baseUrl+b+(this.isCompressed?".bcmap":""),ft=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(_e,ft).catch(mt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_e}`)})}_fetchData(b,_e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=d;class g{constructor({baseUrl:b=null}){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=b}async fetch({filename:b}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!b)throw new Error("Font filename must be specified.");const _e=`${this.baseUrl}${b}`;return this._fetchData(_e).catch(ft=>{throw new Error(`Unable to load font data at: ${_e}`)})}_fetchData(b){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=g;class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,_e,ft=!1){if(b<=0||_e<=0)throw new Error("Invalid SVG dimensions");const mt=this._createSVG("svg:svg");return mt.setAttribute("version","1.1"),ft||(mt.setAttribute("width",`${b}px`),mt.setAttribute("height",`${_e}px`)),mt.setAttribute("preserveAspectRatio","none"),mt.setAttribute("viewBox",`0 0 ${b} ${_e}`),mt}createElement(b){if(typeof b!="string")throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,o.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=h},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var o=s(1);const a=3285377520,c=4294901760,d=65535;class g{constructor(_){this.h1=_?_&4294967295:a,this.h2=_?_&4294967295:a}update(_){let b,_e;if(typeof _=="string"){b=new Uint8Array(_.length*2),_e=0;for(let xt=0,pt=_.length;xt<pt;xt++){const it=_.charCodeAt(xt);it<=255?b[_e++]=it:(b[_e++]=it>>>8,b[_e++]=it&255)}}else if((0,o.isArrayBuffer)(_))b=_.slice(),_e=b.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ft=_e>>2,mt=_e-ft*4,lt=new Uint32Array(b.buffer,0,ft);let at=0,ct=0,et=this.h1,$=this.h2;const tt=3432918353,ht=461845907,rt=tt&d,dt=ht&d;for(let xt=0;xt<ft;xt++)xt&1?(at=lt[xt],at=at*tt&c|at*rt&d,at=at<<15|at>>>17,at=at*ht&c|at*dt&d,et^=at,et=et<<13|et>>>19,et=et*5+3864292196):(ct=lt[xt],ct=ct*tt&c|ct*rt&d,ct=ct<<15|ct>>>17,ct=ct*ht&c|ct*dt&d,$^=ct,$=$<<13|$>>>19,$=$*5+3864292196);switch(at=0,mt){case 3:at^=b[ft*4+2]<<16;case 2:at^=b[ft*4+1]<<8;case 1:at^=b[ft*4],at=at*tt&c|at*rt&d,at=at<<15|at>>>17,at=at*ht&c|at*dt&d,ft&1?et^=at:$^=at}this.h1=et,this.h2=$}hexdigest(){let _=this.h1,b=this.h2;return _^=b>>>1,_=_*3981806797&c|_*36045&d,b=b*4283543511&c|((b<<16|_>>>16)*2950163797&c)>>>16,_^=b>>>1,_=_*444984403&c|_*60499&d,b=b*3301882366&c|((b<<16|_>>>16)*3120437893&c)>>>16,_^=b>>>1,(_>>>0).toString(16).padStart(8,"0")+(b>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=g},(i,e,s)=>{var d;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var o=s(1);class a{constructor({ownerDocument:h=globalThis.document,styleElement:_=null}){Mt(this,d,new Set);this._document=h,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(h){this.nativeFontFaces.add(h),this._document.fonts.add(h)}removeNativeFontFace(h){this.nativeFontFaces.delete(h),this._document.fonts.delete(h)}insertRule(h){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(h,_.cssRules.length)}clear(){for(const h of this.nativeFontFaces)this._document.fonts.delete(h);this.nativeFontFaces.clear(),j(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(h){if(!(!h||j(this,d).has(h.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:b,style:_e}=h,ft=new FontFace(_,b,_e);this.addNativeFontFace(ft);try{await ft.load(),j(this,d).add(_)}catch{(0,o.warn)(`Cannot load system font: ${h.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ft)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(h){if(h.attached||h.missingFile&&!h.systemFontInfo)return;if(h.attached=!0,h.systemFontInfo){await this.loadSystemFont(h.systemFontInfo);return}if(this.isFontLoadingAPISupported){const b=h.createNativeFontFace();if(b){this.addNativeFontFace(b);try{await b.loaded}catch(_e){throw(0,o.warn)(`Failed to load font '${b.family}': '${_e}'.`),h.disableFontFace=!0,_e}}return}const _=h.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise(b=>{const _e=this._queueLoadingCallback(b);this._prepareFontLoadEvent(h,_e)})}}get isFontLoadingAPISupported(){var _;const h=!!((_=this._document)!=null&&_.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",h)}get isSyncFontLoadingSupported(){let h=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(h=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",h)}_queueLoadingCallback(h){function _(){for((0,o.assert)(!_e.done,"completeRequest() cannot be called twice."),_e.done=!0;b.length>0&&b[0].done;){const ft=b.shift();setTimeout(ft.callback,0)}}const{loadingRequests:b}=this,_e={done:!1,complete:_,callback:h};return b.push(_e),_e}get _loadTestFont(){const h=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",h)}_prepareFontLoadEvent(h,_){function b(Et,Dt){return Et.charCodeAt(Dt)<<24|Et.charCodeAt(Dt+1)<<16|Et.charCodeAt(Dt+2)<<8|Et.charCodeAt(Dt+3)&255}function _e(Et,Dt,Ft,yt){const vt=Et.substring(0,Dt),At=Et.substring(Dt+Ft);return vt+yt+At}let ft,mt;const lt=this._document.createElement("canvas");lt.width=1,lt.height=1;const at=lt.getContext("2d");let ct=0;function et(Et,Dt){if(++ct>30){(0,o.warn)("Load test font never loaded."),Dt();return}if(at.font="30px "+Et,at.fillText(".",0,20),at.getImageData(0,0,1,1).data[3]>0){Dt();return}setTimeout(et.bind(null,Et,Dt))}const $=`lt${Date.now()}${this.loadTestFontId++}`;let tt=this._loadTestFont;tt=_e(tt,976,$.length,$);const rt=16,dt=1482184792;let xt=b(tt,rt);for(ft=0,mt=$.length-3;ft<mt;ft+=4)xt=xt-dt+b($,ft)|0;ft<$.length&&(xt=xt-dt+b($+"XXX",ft)|0),tt=_e(tt,rt,4,(0,o.string32)(xt));const pt=`url(data:font/opentype;base64,${btoa(tt)});`,it=`@font-face {font-family:"${$}";src:${pt}}`;this.insertRule(it);const St=this._document.createElement("div");St.style.visibility="hidden",St.style.width=St.style.height="10px",St.style.position="absolute",St.style.top=St.style.left="0px";for(const Et of[h.loadedName,$]){const Dt=this._document.createElement("span");Dt.textContent="Hi",Dt.style.fontFamily=Et,St.append(Dt)}this._document.body.append(St),et($,()=>{St.remove(),_.complete()})}}d=new WeakMap,e.FontLoader=a;class c{constructor(h,{isEvalSupported:_=!0,disableFontFace:b=!1,ignoreErrors:_e=!1,inspectFont:ft=null}){this.compiledGlyphs=Object.create(null);for(const mt in h)this[mt]=h[mt];this.isEvalSupported=_!==!1,this.disableFontFace=b===!0,this.ignoreErrors=_e===!0,this._inspectFont=ft}createNativeFontFace(){var _;if(!this.data||this.disableFontFace)return null;let h;if(!this.cssFontInfo)h=new FontFace(this.loadedName,this.data,{});else{const b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),h=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}return(_=this._inspectFont)==null||_.call(this,this),h}createFontFaceRule(){var _e;if(!this.data||this.disableFontFace)return null;const h=(0,o.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(h)});`;let b;if(!this.cssFontInfo)b=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let ft=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ft+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),b=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ft}src:${_}}`}return(_e=this._inspectFont)==null||_e.call(this,this,_),b}getPathGenerator(h,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let b;try{b=h.get(this.loadedName+"_path_"+_)}catch(_e){if(!this.ignoreErrors)throw _e;return(0,o.warn)(`getPathGenerator - ignoring character: "${_e}".`),this.compiledGlyphs[_]=function(ft,mt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const _e=[];for(const ft of b){const mt=ft.args!==void 0?ft.args.join(","):"";_e.push("c.",ft.cmd,"(",mt,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",_e.join(""))}return this.compiledGlyphs[_]=function(_e,ft){for(const mt of b)mt.cmd==="scale"&&(mt.args=[ft,-ft]),_e[mt.cmd].apply(_e,mt.args)}}}e.FontFaceObject=c},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var o=s(7);s(1);const a=function(_){return new Promise((b,_e)=>{require$$5.readFile(_,(mt,lt)=>{if(mt||!lt){_e(new Error(mt));return}b(new Uint8Array(lt))})})};class c extends o.BaseFilterFactory{}e.NodeFilterFactory=c;class d extends o.BaseCanvasFactory{_createCanvas(b,_e){return require$$5.createCanvas(b,_e)}}e.NodeCanvasFactory=d;class g extends o.BaseCMapReaderFactory{_fetchData(b,_e){return a(b).then(ft=>({cMapData:ft,compressionType:_e}))}}e.NodeCMapReaderFactory=g;class h extends o.BaseStandardFontDataFactory{_fetchData(b){return a(b)}}e.NodeStandardFontDataFactory=h},(i,e,s)=>{var _t,Ur,$t,$r;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var o=s(1),a=s(6),c=s(12),d=s(13);const g=16,h=100,_=4096,b=15,_e=10,ft=1e3,mt=16;function lt(Tt,nt){if(Tt._removeMirroring)throw new Error("Context is already forwarding operations.");Tt.__originalSave=Tt.save,Tt.__originalRestore=Tt.restore,Tt.__originalRotate=Tt.rotate,Tt.__originalScale=Tt.scale,Tt.__originalTranslate=Tt.translate,Tt.__originalTransform=Tt.transform,Tt.__originalSetTransform=Tt.setTransform,Tt.__originalResetTransform=Tt.resetTransform,Tt.__originalClip=Tt.clip,Tt.__originalMoveTo=Tt.moveTo,Tt.__originalLineTo=Tt.lineTo,Tt.__originalBezierCurveTo=Tt.bezierCurveTo,Tt.__originalRect=Tt.rect,Tt.__originalClosePath=Tt.closePath,Tt.__originalBeginPath=Tt.beginPath,Tt._removeMirroring=()=>{Tt.save=Tt.__originalSave,Tt.restore=Tt.__originalRestore,Tt.rotate=Tt.__originalRotate,Tt.scale=Tt.__originalScale,Tt.translate=Tt.__originalTranslate,Tt.transform=Tt.__originalTransform,Tt.setTransform=Tt.__originalSetTransform,Tt.resetTransform=Tt.__originalResetTransform,Tt.clip=Tt.__originalClip,Tt.moveTo=Tt.__originalMoveTo,Tt.lineTo=Tt.__originalLineTo,Tt.bezierCurveTo=Tt.__originalBezierCurveTo,Tt.rect=Tt.__originalRect,Tt.closePath=Tt.__originalClosePath,Tt.beginPath=Tt.__originalBeginPath,delete Tt._removeMirroring},Tt.save=function(){nt.save(),this.__originalSave()},Tt.restore=function(){nt.restore(),this.__originalRestore()},Tt.translate=function(ot,gt){nt.translate(ot,gt),this.__originalTranslate(ot,gt)},Tt.scale=function(ot,gt){nt.scale(ot,gt),this.__originalScale(ot,gt)},Tt.transform=function(ot,gt,bt,Ct,Rt,Lt){nt.transform(ot,gt,bt,Ct,Rt,Lt),this.__originalTransform(ot,gt,bt,Ct,Rt,Lt)},Tt.setTransform=function(ot,gt,bt,Ct,Rt,Lt){nt.setTransform(ot,gt,bt,Ct,Rt,Lt),this.__originalSetTransform(ot,gt,bt,Ct,Rt,Lt)},Tt.resetTransform=function(){nt.resetTransform(),this.__originalResetTransform()},Tt.rotate=function(ot){nt.rotate(ot),this.__originalRotate(ot)},Tt.clip=function(ot){nt.clip(ot),this.__originalClip(ot)},Tt.moveTo=function(ut,ot){nt.moveTo(ut,ot),this.__originalMoveTo(ut,ot)},Tt.lineTo=function(ut,ot){nt.lineTo(ut,ot),this.__originalLineTo(ut,ot)},Tt.bezierCurveTo=function(ut,ot,gt,bt,Ct,Rt){nt.bezierCurveTo(ut,ot,gt,bt,Ct,Rt),this.__originalBezierCurveTo(ut,ot,gt,bt,Ct,Rt)},Tt.rect=function(ut,ot,gt,bt){nt.rect(ut,ot,gt,bt),this.__originalRect(ut,ot,gt,bt)},Tt.closePath=function(){nt.closePath(),this.__originalClosePath()},Tt.beginPath=function(){nt.beginPath(),this.__originalBeginPath()}}class at{constructor(nt){this.canvasFactory=nt,this.cache=Object.create(null)}getCanvas(nt,ut,ot){let gt;return this.cache[nt]!==void 0?(gt=this.cache[nt],this.canvasFactory.reset(gt,ut,ot)):(gt=this.canvasFactory.create(ut,ot),this.cache[nt]=gt),gt}delete(nt){delete this.cache[nt]}clear(){for(const nt in this.cache){const ut=this.cache[nt];this.canvasFactory.destroy(ut),delete this.cache[nt]}}}function ct(Tt,nt,ut,ot,gt,bt,Ct,Rt,Lt,qt){const[Wt,Xt,Jt,rn,Qt,pn]=(0,a.getCurrentTransform)(Tt);if(Xt===0&&Jt===0){const En=Ct*Wt+Qt,sn=Math.round(En),Vt=Rt*rn+pn,Gt=Math.round(Vt),tn=(Ct+Lt)*Wt+Qt,hn=Math.abs(Math.round(tn)-sn)||1,fn=(Rt+qt)*rn+pn,Tn=Math.abs(Math.round(fn)-Gt)||1;return Tt.setTransform(Math.sign(Wt),0,0,Math.sign(rn),sn,Gt),Tt.drawImage(nt,ut,ot,gt,bt,0,0,hn,Tn),Tt.setTransform(Wt,Xt,Jt,rn,Qt,pn),[hn,Tn]}if(Wt===0&&rn===0){const En=Rt*Jt+Qt,sn=Math.round(En),Vt=Ct*Xt+pn,Gt=Math.round(Vt),tn=(Rt+qt)*Jt+Qt,hn=Math.abs(Math.round(tn)-sn)||1,fn=(Ct+Lt)*Xt+pn,Tn=Math.abs(Math.round(fn)-Gt)||1;return Tt.setTransform(0,Math.sign(Xt),Math.sign(Jt),0,sn,Gt),Tt.drawImage(nt,ut,ot,gt,bt,0,0,Tn,hn),Tt.setTransform(Wt,Xt,Jt,rn,Qt,pn),[Tn,hn]}Tt.drawImage(nt,ut,ot,gt,bt,Ct,Rt,Lt,qt);const bn=Math.hypot(Wt,Xt),un=Math.hypot(Jt,rn);return[bn*Lt,un*qt]}function et(Tt){const{width:nt,height:ut}=Tt;if(nt>ft||ut>ft)return null;const ot=1e3,gt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),bt=nt+1;let Ct=new Uint8Array(bt*(ut+1)),Rt,Lt,qt;const Wt=nt+7&-8;let Xt=new Uint8Array(Wt*ut),Jt=0;for(const un of Tt.data){let En=128;for(;En>0;)Xt[Jt++]=un&En?0:255,En>>=1}let rn=0;for(Jt=0,Xt[Jt]!==0&&(Ct[0]=1,++rn),Lt=1;Lt<nt;Lt++)Xt[Jt]!==Xt[Jt+1]&&(Ct[Lt]=Xt[Jt]?2:1,++rn),Jt++;for(Xt[Jt]!==0&&(Ct[Lt]=2,++rn),Rt=1;Rt<ut;Rt++){Jt=Rt*Wt,qt=Rt*bt,Xt[Jt-Wt]!==Xt[Jt]&&(Ct[qt]=Xt[Jt]?1:8,++rn);let un=(Xt[Jt]?4:0)+(Xt[Jt-Wt]?8:0);for(Lt=1;Lt<nt;Lt++)un=(un>>2)+(Xt[Jt+1]?4:0)+(Xt[Jt-Wt+1]?8:0),gt[un]&&(Ct[qt+Lt]=gt[un],++rn),Jt++;if(Xt[Jt-Wt]!==Xt[Jt]&&(Ct[qt+Lt]=Xt[Jt]?2:4,++rn),rn>ot)return null}for(Jt=Wt*(ut-1),qt=Rt*bt,Xt[Jt]!==0&&(Ct[qt]=8,++rn),Lt=1;Lt<nt;Lt++)Xt[Jt]!==Xt[Jt+1]&&(Ct[qt+Lt]=Xt[Jt]?4:8,++rn),Jt++;if(Xt[Jt]!==0&&(Ct[qt+Lt]=4,++rn),rn>ot)return null;const Qt=new Int32Array([0,bt,-1,0,-bt,0,0,0,1]),pn=new Path2D;for(Rt=0;rn&&Rt<=ut;Rt++){let un=Rt*bt;const En=un+nt;for(;un<En&&!Ct[un];)un++;if(un===En)continue;pn.moveTo(un%bt,Rt);const sn=un;let Vt=Ct[un];do{const Gt=Qt[Vt];do un+=Gt;while(!Ct[un]);const tn=Ct[un];tn!==5&&tn!==10?(Vt=tn,Ct[un]=0):(Vt=tn&51*Vt>>4,Ct[un]&=Vt>>2|Vt<<2),pn.lineTo(un%bt,un/bt|0),Ct[un]||--rn}while(sn!==un);--Rt}return Xt=null,Ct=null,function(un){un.save(),un.scale(1/nt,-1/ut),un.translate(0,-ut),un.fill(pn),un.beginPath(),un.restore()}}class ${constructor(nt,ut){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,nt,ut])}clone(){const nt=Object.create(this);return nt.clipBox=this.clipBox.slice(),nt}setCurrentPoint(nt,ut){this.x=nt,this.y=ut}updatePathMinMax(nt,ut,ot){[ut,ot]=o.Util.applyTransform([ut,ot],nt),this.minX=Math.min(this.minX,ut),this.minY=Math.min(this.minY,ot),this.maxX=Math.max(this.maxX,ut),this.maxY=Math.max(this.maxY,ot)}updateRectMinMax(nt,ut){const ot=o.Util.applyTransform(ut,nt),gt=o.Util.applyTransform(ut.slice(2),nt);this.minX=Math.min(this.minX,ot[0],gt[0]),this.minY=Math.min(this.minY,ot[1],gt[1]),this.maxX=Math.max(this.maxX,ot[0],gt[0]),this.maxY=Math.max(this.maxY,ot[1],gt[1])}updateScalingPathMinMax(nt,ut){o.Util.scaleMinMax(nt,ut),this.minX=Math.min(this.minX,ut[0]),this.maxX=Math.max(this.maxX,ut[1]),this.minY=Math.min(this.minY,ut[2]),this.maxY=Math.max(this.maxY,ut[3])}updateCurvePathMinMax(nt,ut,ot,gt,bt,Ct,Rt,Lt,qt,Wt){const Xt=o.Util.bezierBoundingBox(ut,ot,gt,bt,Ct,Rt,Lt,qt);if(Wt){Wt[0]=Math.min(Wt[0],Xt[0],Xt[2]),Wt[1]=Math.max(Wt[1],Xt[0],Xt[2]),Wt[2]=Math.min(Wt[2],Xt[1],Xt[3]),Wt[3]=Math.max(Wt[3],Xt[1],Xt[3]);return}this.updateRectMinMax(nt,Xt)}getPathBoundingBox(nt=c.PathType.FILL,ut=null){const ot=[this.minX,this.minY,this.maxX,this.maxY];if(nt===c.PathType.STROKE){ut||(0,o.unreachable)("Stroke bounding box must include transform.");const gt=o.Util.singularValueDecompose2dScale(ut),bt=gt[0]*this.lineWidth/2,Ct=gt[1]*this.lineWidth/2;ot[0]-=bt,ot[1]-=Ct,ot[2]+=bt,ot[3]+=Ct}return ot}updateClipFromPath(){const nt=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(nt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(nt){this.clipBox=nt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(nt=c.PathType.FILL,ut=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(nt,ut))}}function tt(Tt,nt){if(typeof ImageData<"u"&&nt instanceof ImageData){Tt.putImageData(nt,0,0);return}const ut=nt.height,ot=nt.width,gt=ut%mt,bt=(ut-gt)/mt,Ct=gt===0?bt:bt+1,Rt=Tt.createImageData(ot,mt);let Lt=0,qt;const Wt=nt.data,Xt=Rt.data;let Jt,rn,Qt,pn;if(nt.kind===o.ImageKind.GRAYSCALE_1BPP){const bn=Wt.byteLength,un=new Uint32Array(Xt.buffer,0,Xt.byteLength>>2),En=un.length,sn=ot+7>>3,Vt=4294967295,Gt=o.FeatureTest.isLittleEndian?4278190080:255;for(Jt=0;Jt<Ct;Jt++){for(Qt=Jt<bt?mt:gt,qt=0,rn=0;rn<Qt;rn++){const tn=bn-Lt;let hn=0;const fn=tn>sn?ot:tn*8-7,Tn=fn&-8;let In=0,Cn=0;for(;hn<Tn;hn+=8)Cn=Wt[Lt++],un[qt++]=Cn&128?Vt:Gt,un[qt++]=Cn&64?Vt:Gt,un[qt++]=Cn&32?Vt:Gt,un[qt++]=Cn&16?Vt:Gt,un[qt++]=Cn&8?Vt:Gt,un[qt++]=Cn&4?Vt:Gt,un[qt++]=Cn&2?Vt:Gt,un[qt++]=Cn&1?Vt:Gt;for(;hn<fn;hn++)In===0&&(Cn=Wt[Lt++],In=128),un[qt++]=Cn&In?Vt:Gt,In>>=1}for(;qt<En;)un[qt++]=0;Tt.putImageData(Rt,0,Jt*mt)}}else if(nt.kind===o.ImageKind.RGBA_32BPP){for(rn=0,pn=ot*mt*4,Jt=0;Jt<bt;Jt++)Xt.set(Wt.subarray(Lt,Lt+pn)),Lt+=pn,Tt.putImageData(Rt,0,rn),rn+=mt;Jt<Ct&&(pn=ot*gt*4,Xt.set(Wt.subarray(Lt,Lt+pn)),Tt.putImageData(Rt,0,rn))}else if(nt.kind===o.ImageKind.RGB_24BPP)for(Qt=mt,pn=ot*Qt,Jt=0;Jt<Ct;Jt++){for(Jt>=bt&&(Qt=gt,pn=ot*Qt),qt=0,rn=pn;rn--;)Xt[qt++]=Wt[Lt++],Xt[qt++]=Wt[Lt++],Xt[qt++]=Wt[Lt++],Xt[qt++]=255;Tt.putImageData(Rt,0,Jt*mt)}else throw new Error(`bad image kind: ${nt.kind}`)}function ht(Tt,nt){if(nt.bitmap){Tt.drawImage(nt.bitmap,0,0);return}const ut=nt.height,ot=nt.width,gt=ut%mt,bt=(ut-gt)/mt,Ct=gt===0?bt:bt+1,Rt=Tt.createImageData(ot,mt);let Lt=0;const qt=nt.data,Wt=Rt.data;for(let Xt=0;Xt<Ct;Xt++){const Jt=Xt<bt?mt:gt;({srcPos:Lt}=(0,d.convertBlackAndWhiteToRGBA)({src:qt,srcPos:Lt,dest:Wt,width:ot,height:Jt,nonBlackColor:0})),Tt.putImageData(Rt,0,Xt*mt)}}function rt(Tt,nt){const ut=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ot of ut)Tt[ot]!==void 0&&(nt[ot]=Tt[ot]);Tt.setLineDash!==void 0&&(nt.setLineDash(Tt.getLineDash()),nt.lineDashOffset=Tt.lineDashOffset)}function dt(Tt){if(Tt.strokeStyle=Tt.fillStyle="#000000",Tt.fillRule="nonzero",Tt.globalAlpha=1,Tt.lineWidth=1,Tt.lineCap="butt",Tt.lineJoin="miter",Tt.miterLimit=10,Tt.globalCompositeOperation="source-over",Tt.font="10px sans-serif",Tt.setLineDash!==void 0&&(Tt.setLineDash([]),Tt.lineDashOffset=0),!o.isNodeJS){const{filter:nt}=Tt;nt!=="none"&&nt!==""&&(Tt.filter="none")}}function xt(Tt,nt,ut,ot){const gt=Tt.length;for(let bt=3;bt<gt;bt+=4){const Ct=Tt[bt];if(Ct===0)Tt[bt-3]=nt,Tt[bt-2]=ut,Tt[bt-1]=ot;else if(Ct<255){const Rt=255-Ct;Tt[bt-3]=Tt[bt-3]*Ct+nt*Rt>>8,Tt[bt-2]=Tt[bt-2]*Ct+ut*Rt>>8,Tt[bt-1]=Tt[bt-1]*Ct+ot*Rt>>8}}}function pt(Tt,nt,ut){const ot=Tt.length,gt=1/255;for(let bt=3;bt<ot;bt+=4){const Ct=ut?ut[Tt[bt]]:Tt[bt];nt[bt]=nt[bt]*Ct*gt|0}}function it(Tt,nt,ut){const ot=Tt.length;for(let gt=3;gt<ot;gt+=4){const bt=Tt[gt-3]*77+Tt[gt-2]*152+Tt[gt-1]*28;nt[gt]=ut?nt[gt]*ut[bt>>8]>>8:nt[gt]*bt>>16}}function St(Tt,nt,ut,ot,gt,bt,Ct,Rt,Lt,qt,Wt){const Xt=!!bt,Jt=Xt?bt[0]:0,rn=Xt?bt[1]:0,Qt=Xt?bt[2]:0,pn=gt==="Luminosity"?it:pt,un=Math.min(ot,Math.ceil(1048576/ut));for(let En=0;En<ot;En+=un){const sn=Math.min(un,ot-En),Vt=Tt.getImageData(Rt-qt,En+(Lt-Wt),ut,sn),Gt=nt.getImageData(Rt,En+Lt,ut,sn);Xt&&xt(Vt.data,Jt,rn,Qt),pn(Vt.data,Gt.data,Ct),nt.putImageData(Gt,Rt,En+Lt)}}function Et(Tt,nt,ut,ot){const gt=ot[0],bt=ot[1],Ct=ot[2]-gt,Rt=ot[3]-bt;Ct===0||Rt===0||(St(nt.context,ut,Ct,Rt,nt.subtype,nt.backdrop,nt.transferMap,gt,bt,nt.offsetX,nt.offsetY),Tt.save(),Tt.globalAlpha=1,Tt.globalCompositeOperation="source-over",Tt.setTransform(1,0,0,1,0,0),Tt.drawImage(ut.canvas,0,0),Tt.restore())}function Dt(Tt,nt){const ut=o.Util.singularValueDecompose2dScale(Tt);ut[0]=Math.fround(ut[0]),ut[1]=Math.fround(ut[1]);const ot=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return nt!==void 0?nt:ut[0]<=ot||ut[1]<=ot}const Ft=["butt","round","square"],yt=["miter","round","bevel"],vt={},At={},nn=class nn{constructor(nt,ut,ot,gt,bt,{optionalContentConfig:Ct,markedContentStack:Rt=null},Lt,qt){Mt(this,_t);Mt(this,$t);this.ctx=nt,this.current=new $(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ut,this.objs=ot,this.canvasFactory=gt,this.filterFactory=bt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Rt||[],this.optionalContentConfig=Ct,this.cachedCanvases=new at(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Lt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=qt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(nt,ut=null){return typeof nt=="string"?nt.startsWith("g_")?this.commonObjs.get(nt):this.objs.get(nt):ut}beginDrawing({transform:nt,viewport:ut,transparency:ot=!1,background:gt=null}){const bt=this.ctx.canvas.width,Ct=this.ctx.canvas.height,Rt=this.ctx.fillStyle;if(this.ctx.fillStyle=gt||"#ffffff",this.ctx.fillRect(0,0,bt,Ct),this.ctx.fillStyle=Rt,ot){const Lt=this.cachedCanvases.getCanvas("transparent",bt,Ct);this.compositeCtx=this.ctx,this.transparentCanvas=Lt.canvas,this.ctx=Lt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),dt(this.ctx),nt&&(this.ctx.transform(...nt),this.outputScaleX=nt[0],this.outputScaleY=nt[0]),this.ctx.transform(...ut.transform),this.viewportScale=ut.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(nt,ut,ot,gt){const bt=nt.argsArray,Ct=nt.fnArray;let Rt=ut||0;const Lt=bt.length;if(Lt===Rt)return Rt;const qt=Lt-Rt>_e&&typeof ot=="function",Wt=qt?Date.now()+b:0;let Xt=0;const Jt=this.commonObjs,rn=this.objs;let Qt;for(;;){if(gt!==void 0&&Rt===gt.nextBreakPoint)return gt.breakIt(Rt,ot),Rt;if(Qt=Ct[Rt],Qt!==o.OPS.dependency)this[Qt].apply(this,bt[Rt]);else for(const pn of bt[Rt]){const bn=pn.startsWith("g_")?Jt:rn;if(!bn.has(pn))return bn.get(pn,ot),Rt}if(Rt++,Rt===Lt)return Rt;if(qt&&++Xt>_e){if(Date.now()>Wt)return ot(),Rt;Xt=0}}}endDrawing(){jt(this,_t,Ur).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const nt of this._cachedBitmapsMap.values()){for(const ut of nt.values())typeof HTMLCanvasElement<"u"&&ut instanceof HTMLCanvasElement&&(ut.width=ut.height=0);nt.clear()}this._cachedBitmapsMap.clear(),jt(this,$t,$r).call(this)}_scaleImage(nt,ut){const ot=nt.width,gt=nt.height;let bt=Math.max(Math.hypot(ut[0],ut[1]),1),Ct=Math.max(Math.hypot(ut[2],ut[3]),1),Rt=ot,Lt=gt,qt="prescale1",Wt,Xt;for(;bt>2&&Rt>1||Ct>2&&Lt>1;){let Jt=Rt,rn=Lt;bt>2&&Rt>1&&(Jt=Rt>=16384?Math.floor(Rt/2)-1||1:Math.ceil(Rt/2),bt/=Rt/Jt),Ct>2&&Lt>1&&(rn=Lt>=16384?Math.floor(Lt/2)-1||1:Math.ceil(Lt)/2,Ct/=Lt/rn),Wt=this.cachedCanvases.getCanvas(qt,Jt,rn),Xt=Wt.context,Xt.clearRect(0,0,Jt,rn),Xt.drawImage(nt,0,0,Rt,Lt,0,0,Jt,rn),nt=Wt.canvas,Rt=Jt,Lt=rn,qt=qt==="prescale1"?"prescale2":"prescale1"}return{img:nt,paintWidth:Rt,paintHeight:Lt}}_createMaskCanvas(nt){const ut=this.ctx,{width:ot,height:gt}=nt,bt=this.current.fillColor,Ct=this.current.patternFill,Rt=(0,a.getCurrentTransform)(ut);let Lt,qt,Wt,Xt;if((nt.bitmap||nt.data)&&nt.count>1){const hn=nt.bitmap||nt.data.buffer;qt=JSON.stringify(Ct?Rt:[Rt.slice(0,4),bt]),Lt=this._cachedBitmapsMap.get(hn),Lt||(Lt=new Map,this._cachedBitmapsMap.set(hn,Lt));const fn=Lt.get(qt);if(fn&&!Ct){const Tn=Math.round(Math.min(Rt[0],Rt[2])+Rt[4]),In=Math.round(Math.min(Rt[1],Rt[3])+Rt[5]);return{canvas:fn,offsetX:Tn,offsetY:In}}Wt=fn}Wt||(Xt=this.cachedCanvases.getCanvas("maskCanvas",ot,gt),ht(Xt.context,nt));let Jt=o.Util.transform(Rt,[1/ot,0,0,-1/gt,0,0]);Jt=o.Util.transform(Jt,[1,0,0,1,0,-gt]);const rn=o.Util.applyTransform([0,0],Jt),Qt=o.Util.applyTransform([ot,gt],Jt),pn=o.Util.normalizeRect([rn[0],rn[1],Qt[0],Qt[1]]),bn=Math.round(pn[2]-pn[0])||1,un=Math.round(pn[3]-pn[1])||1,En=this.cachedCanvases.getCanvas("fillCanvas",bn,un),sn=En.context,Vt=Math.min(rn[0],Qt[0]),Gt=Math.min(rn[1],Qt[1]);sn.translate(-Vt,-Gt),sn.transform(...Jt),Wt||(Wt=this._scaleImage(Xt.canvas,(0,a.getCurrentTransformInverse)(sn)),Wt=Wt.img,Lt&&Ct&&Lt.set(qt,Wt)),sn.imageSmoothingEnabled=Dt((0,a.getCurrentTransform)(sn),nt.interpolate),ct(sn,Wt,0,0,Wt.width,Wt.height,0,0,ot,gt),sn.globalCompositeOperation="source-in";const tn=o.Util.transform((0,a.getCurrentTransformInverse)(sn),[1,0,0,1,-Vt,-Gt]);return sn.fillStyle=Ct?bt.getPattern(ut,this,tn,c.PathType.FILL):bt,sn.fillRect(0,0,ot,gt),Lt&&!Ct&&(this.cachedCanvases.delete("fillCanvas"),Lt.set(qt,En.canvas)),{canvas:En.canvas,offsetX:Math.round(Vt),offsetY:Math.round(Gt)}}setLineWidth(nt){nt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=nt,this.ctx.lineWidth=nt}setLineCap(nt){this.ctx.lineCap=Ft[nt]}setLineJoin(nt){this.ctx.lineJoin=yt[nt]}setMiterLimit(nt){this.ctx.miterLimit=nt}setDash(nt,ut){const ot=this.ctx;ot.setLineDash!==void 0&&(ot.setLineDash(nt),ot.lineDashOffset=ut)}setRenderingIntent(nt){}setFlatness(nt){}setGState(nt){for(const[ut,ot]of nt)switch(ut){case"LW":this.setLineWidth(ot);break;case"LC":this.setLineCap(ot);break;case"LJ":this.setLineJoin(ot);break;case"ML":this.setMiterLimit(ot);break;case"D":this.setDash(ot[0],ot[1]);break;case"RI":this.setRenderingIntent(ot);break;case"FL":this.setFlatness(ot);break;case"Font":this.setFont(ot[0],ot[1]);break;case"CA":this.current.strokeAlpha=ot;break;case"ca":this.current.fillAlpha=ot,this.ctx.globalAlpha=ot;break;case"BM":this.ctx.globalCompositeOperation=ot;break;case"SMask":this.current.activeSMask=ot?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ot);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const nt=this.inSMaskMode;this.current.activeSMask&&!nt?this.beginSMaskMode():!this.current.activeSMask&&nt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const nt=this.ctx.canvas.width,ut=this.ctx.canvas.height,ot="smaskGroupAt"+this.groupLevel,gt=this.cachedCanvases.getCanvas(ot,nt,ut);this.suspendedCtx=this.ctx,this.ctx=gt.context;const bt=this.ctx;bt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),rt(this.suspendedCtx,bt),lt(bt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(nt){if(!this.current.activeSMask)return;nt?(nt[0]=Math.floor(nt[0]),nt[1]=Math.floor(nt[1]),nt[2]=Math.ceil(nt[2]),nt[3]=Math.ceil(nt[3])):nt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ut=this.current.activeSMask,ot=this.suspendedCtx;Et(ot,ut,this.ctx,nt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(rt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const nt=this.current;this.stateStack.push(nt),this.current=nt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),rt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(nt,ut,ot,gt,bt,Ct){this.ctx.transform(nt,ut,ot,gt,bt,Ct),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(nt,ut,ot){const gt=this.ctx,bt=this.current;let Ct=bt.x,Rt=bt.y,Lt,qt;const Wt=(0,a.getCurrentTransform)(gt),Xt=Wt[0]===0&&Wt[3]===0||Wt[1]===0&&Wt[2]===0,Jt=Xt?ot.slice(0):null;for(let rn=0,Qt=0,pn=nt.length;rn<pn;rn++)switch(nt[rn]|0){case o.OPS.rectangle:Ct=ut[Qt++],Rt=ut[Qt++];const bn=ut[Qt++],un=ut[Qt++],En=Ct+bn,sn=Rt+un;gt.moveTo(Ct,Rt),bn===0||un===0?gt.lineTo(En,sn):(gt.lineTo(En,Rt),gt.lineTo(En,sn),gt.lineTo(Ct,sn)),Xt||bt.updateRectMinMax(Wt,[Ct,Rt,En,sn]),gt.closePath();break;case o.OPS.moveTo:Ct=ut[Qt++],Rt=ut[Qt++],gt.moveTo(Ct,Rt),Xt||bt.updatePathMinMax(Wt,Ct,Rt);break;case o.OPS.lineTo:Ct=ut[Qt++],Rt=ut[Qt++],gt.lineTo(Ct,Rt),Xt||bt.updatePathMinMax(Wt,Ct,Rt);break;case o.OPS.curveTo:Lt=Ct,qt=Rt,Ct=ut[Qt+4],Rt=ut[Qt+5],gt.bezierCurveTo(ut[Qt],ut[Qt+1],ut[Qt+2],ut[Qt+3],Ct,Rt),bt.updateCurvePathMinMax(Wt,Lt,qt,ut[Qt],ut[Qt+1],ut[Qt+2],ut[Qt+3],Ct,Rt,Jt),Qt+=6;break;case o.OPS.curveTo2:Lt=Ct,qt=Rt,gt.bezierCurveTo(Ct,Rt,ut[Qt],ut[Qt+1],ut[Qt+2],ut[Qt+3]),bt.updateCurvePathMinMax(Wt,Lt,qt,Ct,Rt,ut[Qt],ut[Qt+1],ut[Qt+2],ut[Qt+3],Jt),Ct=ut[Qt+2],Rt=ut[Qt+3],Qt+=4;break;case o.OPS.curveTo3:Lt=Ct,qt=Rt,Ct=ut[Qt+2],Rt=ut[Qt+3],gt.bezierCurveTo(ut[Qt],ut[Qt+1],Ct,Rt,Ct,Rt),bt.updateCurvePathMinMax(Wt,Lt,qt,ut[Qt],ut[Qt+1],Ct,Rt,Ct,Rt,Jt),Qt+=4;break;case o.OPS.closePath:gt.closePath();break}Xt&&bt.updateScalingPathMinMax(Wt,Jt),bt.setCurrentPoint(Ct,Rt)}closePath(){this.ctx.closePath()}stroke(nt=!0){const ut=this.ctx,ot=this.current.strokeColor;ut.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ot=="object"&&(ot!=null&&ot.getPattern)?(ut.save(),ut.strokeStyle=ot.getPattern(ut,this,(0,a.getCurrentTransformInverse)(ut),c.PathType.STROKE),this.rescaleAndStroke(!1),ut.restore()):this.rescaleAndStroke(!0)),nt&&this.consumePath(this.current.getClippedPathBoundingBox()),ut.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(nt=!0){const ut=this.ctx,ot=this.current.fillColor,gt=this.current.patternFill;let bt=!1;gt&&(ut.save(),ut.fillStyle=ot.getPattern(ut,this,(0,a.getCurrentTransformInverse)(ut),c.PathType.FILL),bt=!0);const Ct=this.current.getClippedPathBoundingBox();this.contentVisible&&Ct!==null&&(this.pendingEOFill?(ut.fill("evenodd"),this.pendingEOFill=!1):ut.fill()),bt&&ut.restore(),nt&&this.consumePath(Ct)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=vt}eoClip(){this.pendingClip=At}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const nt=this.pendingTextPaths,ut=this.ctx;if(nt===void 0){ut.beginPath();return}ut.save(),ut.beginPath();for(const ot of nt)ut.setTransform(...ot.transform),ut.translate(ot.x,ot.y),ot.addToPath(ut,ot.fontSize);ut.restore(),ut.clip(),ut.beginPath(),delete this.pendingTextPaths}setCharSpacing(nt){this.current.charSpacing=nt}setWordSpacing(nt){this.current.wordSpacing=nt}setHScale(nt){this.current.textHScale=nt/100}setLeading(nt){this.current.leading=-nt}setFont(nt,ut){var Wt;const ot=this.commonObjs.get(nt),gt=this.current;if(!ot)throw new Error(`Can't find font for ${nt}`);if(gt.fontMatrix=ot.fontMatrix||o.FONT_IDENTITY_MATRIX,(gt.fontMatrix[0]===0||gt.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+nt),ut<0?(ut=-ut,gt.fontDirection=-1):gt.fontDirection=1,this.current.font=ot,this.current.fontSize=ut,ot.isType3Font)return;const bt=ot.loadedName||"sans-serif",Ct=((Wt=ot.systemFontInfo)==null?void 0:Wt.css)||`"${bt}", ${ot.fallbackName}`;let Rt="normal";ot.black?Rt="900":ot.bold&&(Rt="bold");const Lt=ot.italic?"italic":"normal";let qt=ut;ut<g?qt=g:ut>h&&(qt=h),this.current.fontSizeScale=ut/qt,this.ctx.font=`${Lt} ${Rt} ${qt}px ${Ct}`}setTextRenderingMode(nt){this.current.textRenderingMode=nt}setTextRise(nt){this.current.textRise=nt}moveText(nt,ut){this.current.x=this.current.lineX+=nt,this.current.y=this.current.lineY+=ut}setLeadingMoveText(nt,ut){this.setLeading(-ut),this.moveText(nt,ut)}setTextMatrix(nt,ut,ot,gt,bt,Ct){this.current.textMatrix=[nt,ut,ot,gt,bt,Ct],this.current.textMatrixScale=Math.hypot(nt,ut),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(nt,ut,ot,gt){const bt=this.ctx,Ct=this.current,Rt=Ct.font,Lt=Ct.textRenderingMode,qt=Ct.fontSize/Ct.fontSizeScale,Wt=Lt&o.TextRenderingMode.FILL_STROKE_MASK,Xt=!!(Lt&o.TextRenderingMode.ADD_TO_PATH_FLAG),Jt=Ct.patternFill&&!Rt.missingFile;let rn;(Rt.disableFontFace||Xt||Jt)&&(rn=Rt.getPathGenerator(this.commonObjs,nt)),Rt.disableFontFace||Jt?(bt.save(),bt.translate(ut,ot),bt.beginPath(),rn(bt,qt),gt&&bt.setTransform(...gt),(Wt===o.TextRenderingMode.FILL||Wt===o.TextRenderingMode.FILL_STROKE)&&bt.fill(),(Wt===o.TextRenderingMode.STROKE||Wt===o.TextRenderingMode.FILL_STROKE)&&bt.stroke(),bt.restore()):((Wt===o.TextRenderingMode.FILL||Wt===o.TextRenderingMode.FILL_STROKE)&&bt.fillText(nt,ut,ot),(Wt===o.TextRenderingMode.STROKE||Wt===o.TextRenderingMode.FILL_STROKE)&&bt.strokeText(nt,ut,ot)),Xt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(bt),x:ut,y:ot,fontSize:qt,addToPath:rn})}get isFontSubpixelAAEnabled(){const{context:nt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);nt.scale(1.5,1),nt.fillText("I",0,10);const ut=nt.getImageData(0,0,10,10).data;let ot=!1;for(let gt=3;gt<ut.length;gt+=4)if(ut[gt]>0&&ut[gt]<255){ot=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",ot)}showText(nt){const ut=this.current,ot=ut.font;if(ot.isType3Font)return this.showType3Text(nt);const gt=ut.fontSize;if(gt===0)return;const bt=this.ctx,Ct=ut.fontSizeScale,Rt=ut.charSpacing,Lt=ut.wordSpacing,qt=ut.fontDirection,Wt=ut.textHScale*qt,Xt=nt.length,Jt=ot.vertical,rn=Jt?1:-1,Qt=ot.defaultVMetrics,pn=gt*ut.fontMatrix[0],bn=ut.textRenderingMode===o.TextRenderingMode.FILL&&!ot.disableFontFace&&!ut.patternFill;bt.save(),bt.transform(...ut.textMatrix),bt.translate(ut.x,ut.y+ut.textRise),qt>0?bt.scale(Wt,-1):bt.scale(Wt,1);let un;if(ut.patternFill){bt.save();const tn=ut.fillColor.getPattern(bt,this,(0,a.getCurrentTransformInverse)(bt),c.PathType.FILL);un=(0,a.getCurrentTransform)(bt),bt.restore(),bt.fillStyle=tn}let En=ut.lineWidth;const sn=ut.textMatrixScale;if(sn===0||En===0){const tn=ut.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(tn===o.TextRenderingMode.STROKE||tn===o.TextRenderingMode.FILL_STROKE)&&(En=this.getSinglePixelWidth())}else En/=sn;if(Ct!==1&&(bt.scale(Ct,Ct),En/=Ct),bt.lineWidth=En,ot.isInvalidPDFjsFont){const tn=[];let hn=0;for(const fn of nt)tn.push(fn.unicode),hn+=fn.width;bt.fillText(tn.join(""),0,0),ut.x+=hn*pn*Wt,bt.restore(),this.compose();return}let Vt=0,Gt;for(Gt=0;Gt<Xt;++Gt){const tn=nt[Gt];if(typeof tn=="number"){Vt+=rn*tn*gt/1e3;continue}let hn=!1;const fn=(tn.isSpace?Lt:0)+Rt,Tn=tn.fontChar,In=tn.accent;let Cn,On,Rn=tn.width;if(Jt){const Ln=tn.vmetric||Qt,en=-(tn.vmetric?Ln[1]:Rn*.5)*pn,zt=Ln[2]*pn;Rn=Ln?-Ln[0]:Rn,Cn=en/Ct,On=(Vt+zt)/Ct}else Cn=Vt/Ct,On=0;if(ot.remeasure&&Rn>0){const Ln=bt.measureText(Tn).width*1e3/gt*Ct;if(Rn<Ln&&this.isFontSubpixelAAEnabled){const en=Rn/Ln;hn=!0,bt.save(),bt.scale(en,1),Cn/=en}else Rn!==Ln&&(Cn+=(Rn-Ln)/2e3*gt/Ct)}if(this.contentVisible&&(tn.isInFont||ot.missingFile)){if(bn&&!In)bt.fillText(Tn,Cn,On);else if(this.paintChar(Tn,Cn,On,un),In){const Ln=Cn+gt*In.offset.x/Ct,en=On-gt*In.offset.y/Ct;this.paintChar(In.fontChar,Ln,en,un)}}const kn=Jt?Rn*pn-fn*qt:Rn*pn+fn*qt;Vt+=kn,hn&&bt.restore()}Jt?ut.y-=Vt:ut.x+=Vt*Wt,bt.restore(),this.compose()}showType3Text(nt){const ut=this.ctx,ot=this.current,gt=ot.font,bt=ot.fontSize,Ct=ot.fontDirection,Rt=gt.vertical?1:-1,Lt=ot.charSpacing,qt=ot.wordSpacing,Wt=ot.textHScale*Ct,Xt=ot.fontMatrix||o.FONT_IDENTITY_MATRIX,Jt=nt.length,rn=ot.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Qt,pn,bn,un;if(!(rn||bt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ut.save(),ut.transform(...ot.textMatrix),ut.translate(ot.x,ot.y),ut.scale(Wt,Ct),Qt=0;Qt<Jt;++Qt){if(pn=nt[Qt],typeof pn=="number"){un=Rt*pn*bt/1e3,this.ctx.translate(un,0),ot.x+=un*Wt;continue}const En=(pn.isSpace?qt:0)+Lt,sn=gt.charProcOperatorList[pn.operatorListId];if(!sn){(0,o.warn)(`Type3 character "${pn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=pn,this.save(),ut.scale(bt,bt),ut.transform(...Xt),this.executeOperatorList(sn),this.restore()),bn=o.Util.applyTransform([pn.width,0],Xt)[0]*bt+En,ut.translate(bn,0),ot.x+=bn*Wt}ut.restore(),this.processingType3=null}}setCharWidth(nt,ut){}setCharWidthAndBounds(nt,ut,ot,gt,bt,Ct){this.ctx.rect(ot,gt,bt-ot,Ct-gt),this.ctx.clip(),this.endPath()}getColorN_Pattern(nt){let ut;if(nt[0]==="TilingPattern"){const ot=nt[1],gt=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),bt={createCanvasGraphics:Ct=>new nn(Ct,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ut=new c.TilingPattern(nt,ot,this.ctx,bt,gt)}else ut=this._getPattern(nt[1],nt[2]);return ut}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(nt,ut,ot){const gt=o.Util.makeHexColor(nt,ut,ot);this.ctx.strokeStyle=gt,this.current.strokeColor=gt}setFillRGBColor(nt,ut,ot){const gt=o.Util.makeHexColor(nt,ut,ot);this.ctx.fillStyle=gt,this.current.fillColor=gt,this.current.patternFill=!1}_getPattern(nt,ut=null){let ot;return this.cachedPatterns.has(nt)?ot=this.cachedPatterns.get(nt):(ot=(0,c.getShadingPattern)(this.getObject(nt)),this.cachedPatterns.set(nt,ot)),ut&&(ot.matrix=ut),ot}shadingFill(nt){if(!this.contentVisible)return;const ut=this.ctx;this.save();const ot=this._getPattern(nt);ut.fillStyle=ot.getPattern(ut,this,(0,a.getCurrentTransformInverse)(ut),c.PathType.SHADING);const gt=(0,a.getCurrentTransformInverse)(ut);if(gt){const{width:bt,height:Ct}=ut.canvas,[Rt,Lt,qt,Wt]=o.Util.getAxialAlignedBoundingBox([0,0,bt,Ct],gt);this.ctx.fillRect(Rt,Lt,qt-Rt,Wt-Lt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(nt,ut){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(nt)&&nt.length===6&&this.transform(...nt),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),ut)){const ot=ut[2]-ut[0],gt=ut[3]-ut[1];this.ctx.rect(ut[0],ut[1],ot,gt),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),ut),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(nt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ut=this.ctx;nt.isolated||(0,o.info)("TODO: Support non-isolated groups."),nt.knockout&&(0,o.warn)("Knockout groups not supported.");const ot=(0,a.getCurrentTransform)(ut);if(nt.matrix&&ut.transform(...nt.matrix),!nt.bbox)throw new Error("Bounding box is required.");let gt=o.Util.getAxialAlignedBoundingBox(nt.bbox,(0,a.getCurrentTransform)(ut));const bt=[0,0,ut.canvas.width,ut.canvas.height];gt=o.Util.intersect(gt,bt)||[0,0,0,0];const Ct=Math.floor(gt[0]),Rt=Math.floor(gt[1]);let Lt=Math.max(Math.ceil(gt[2])-Ct,1),qt=Math.max(Math.ceil(gt[3])-Rt,1),Wt=1,Xt=1;Lt>_&&(Wt=Lt/_,Lt=_),qt>_&&(Xt=qt/_,qt=_),this.current.startNewPathAndClipBox([0,0,Lt,qt]);let Jt="groupAt"+this.groupLevel;nt.smask&&(Jt+="_smask_"+this.smaskCounter++%2);const rn=this.cachedCanvases.getCanvas(Jt,Lt,qt),Qt=rn.context;Qt.scale(1/Wt,1/Xt),Qt.translate(-Ct,-Rt),Qt.transform(...ot),nt.smask?this.smaskStack.push({canvas:rn.canvas,context:Qt,offsetX:Ct,offsetY:Rt,scaleX:Wt,scaleY:Xt,subtype:nt.smask.subtype,backdrop:nt.smask.backdrop,transferMap:nt.smask.transferMap||null,startTransformInverse:null}):(ut.setTransform(1,0,0,1,0,0),ut.translate(Ct,Rt),ut.scale(Wt,Xt),ut.save()),rt(ut,Qt),this.ctx=Qt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ut),this.groupLevel++}endGroup(nt){if(!this.contentVisible)return;this.groupLevel--;const ut=this.ctx,ot=this.groupStack.pop();if(this.ctx=ot,this.ctx.imageSmoothingEnabled=!1,nt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const gt=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...gt);const bt=o.Util.getAxialAlignedBoundingBox([0,0,ut.canvas.width,ut.canvas.height],gt);this.ctx.drawImage(ut.canvas,0,0),this.ctx.restore(),this.compose(bt)}}beginAnnotation(nt,ut,ot,gt,bt){if(jt(this,_t,Ur).call(this),dt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ut)&&ut.length===4){const Ct=ut[2]-ut[0],Rt=ut[3]-ut[1];if(bt&&this.annotationCanvasMap){ot=ot.slice(),ot[4]-=ut[0],ot[5]-=ut[1],ut=ut.slice(),ut[0]=ut[1]=0,ut[2]=Ct,ut[3]=Rt;const[Lt,qt]=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:Wt}=this,Xt=Math.ceil(Ct*this.outputScaleX*Wt),Jt=Math.ceil(Rt*this.outputScaleY*Wt);this.annotationCanvas=this.canvasFactory.create(Xt,Jt);const{canvas:rn,context:Qt}=this.annotationCanvas;this.annotationCanvasMap.set(nt,rn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Qt,this.ctx.save(),this.ctx.setTransform(Lt,0,0,-qt,0,Rt*qt),dt(this.ctx)}else dt(this.ctx),this.ctx.rect(ut[0],ut[1],Ct,Rt),this.ctx.clip(),this.endPath()}this.current=new $(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ot),this.transform(...gt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),jt(this,$t,$r).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(nt){if(!this.contentVisible)return;const ut=nt.count;nt=this.getObject(nt.data,nt),nt.count=ut;const ot=this.ctx,gt=this.processingType3;if(gt&&(gt.compiled===void 0&&(gt.compiled=et(nt)),gt.compiled)){gt.compiled(ot);return}const bt=this._createMaskCanvas(nt),Ct=bt.canvas;ot.save(),ot.setTransform(1,0,0,1,0,0),ot.drawImage(Ct,bt.offsetX,bt.offsetY),ot.restore(),this.compose()}paintImageMaskXObjectRepeat(nt,ut,ot=0,gt=0,bt,Ct){if(!this.contentVisible)return;nt=this.getObject(nt.data,nt);const Rt=this.ctx;Rt.save();const Lt=(0,a.getCurrentTransform)(Rt);Rt.transform(ut,ot,gt,bt,0,0);const qt=this._createMaskCanvas(nt);Rt.setTransform(1,0,0,1,qt.offsetX-Lt[4],qt.offsetY-Lt[5]);for(let Wt=0,Xt=Ct.length;Wt<Xt;Wt+=2){const Jt=o.Util.transform(Lt,[ut,ot,gt,bt,Ct[Wt],Ct[Wt+1]]),[rn,Qt]=o.Util.applyTransform([0,0],Jt);Rt.drawImage(qt.canvas,rn,Qt)}Rt.restore(),this.compose()}paintImageMaskXObjectGroup(nt){if(!this.contentVisible)return;const ut=this.ctx,ot=this.current.fillColor,gt=this.current.patternFill;for(const bt of nt){const{data:Ct,width:Rt,height:Lt,transform:qt}=bt,Wt=this.cachedCanvases.getCanvas("maskCanvas",Rt,Lt),Xt=Wt.context;Xt.save();const Jt=this.getObject(Ct,bt);ht(Xt,Jt),Xt.globalCompositeOperation="source-in",Xt.fillStyle=gt?ot.getPattern(Xt,this,(0,a.getCurrentTransformInverse)(ut),c.PathType.FILL):ot,Xt.fillRect(0,0,Rt,Lt),Xt.restore(),ut.save(),ut.transform(...qt),ut.scale(1,-1),ct(ut,Wt.canvas,0,0,Rt,Lt,0,-1,1,1),ut.restore()}this.compose()}paintImageXObject(nt){if(!this.contentVisible)return;const ut=this.getObject(nt);if(!ut){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ut)}paintImageXObjectRepeat(nt,ut,ot,gt){if(!this.contentVisible)return;const bt=this.getObject(nt);if(!bt){(0,o.warn)("Dependent image isn't ready yet");return}const Ct=bt.width,Rt=bt.height,Lt=[];for(let qt=0,Wt=gt.length;qt<Wt;qt+=2)Lt.push({transform:[ut,0,0,ot,gt[qt],gt[qt+1]],x:0,y:0,w:Ct,h:Rt});this.paintInlineImageXObjectGroup(bt,Lt)}applyTransferMapsToCanvas(nt){return this.current.transferMaps!=="none"&&(nt.filter=this.current.transferMaps,nt.drawImage(nt.canvas,0,0),nt.filter="none"),nt.canvas}applyTransferMapsToBitmap(nt){if(this.current.transferMaps==="none")return nt.bitmap;const{bitmap:ut,width:ot,height:gt}=nt,bt=this.cachedCanvases.getCanvas("inlineImage",ot,gt),Ct=bt.context;return Ct.filter=this.current.transferMaps,Ct.drawImage(ut,0,0),Ct.filter="none",bt.canvas}paintInlineImageXObject(nt){if(!this.contentVisible)return;const ut=nt.width,ot=nt.height,gt=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Rt}=gt;Rt!=="none"&&Rt!==""&&(gt.filter="none")}gt.scale(1/ut,-1/ot);let bt;if(nt.bitmap)bt=this.applyTransferMapsToBitmap(nt);else if(typeof HTMLElement=="function"&&nt instanceof HTMLElement||!nt.data)bt=nt;else{const Lt=this.cachedCanvases.getCanvas("inlineImage",ut,ot).context;tt(Lt,nt),bt=this.applyTransferMapsToCanvas(Lt)}const Ct=this._scaleImage(bt,(0,a.getCurrentTransformInverse)(gt));gt.imageSmoothingEnabled=Dt((0,a.getCurrentTransform)(gt),nt.interpolate),ct(gt,Ct.img,0,0,Ct.paintWidth,Ct.paintHeight,0,-ot,ut,ot),this.compose(),this.restore()}paintInlineImageXObjectGroup(nt,ut){if(!this.contentVisible)return;const ot=this.ctx;let gt;if(nt.bitmap)gt=nt.bitmap;else{const bt=nt.width,Ct=nt.height,Lt=this.cachedCanvases.getCanvas("inlineImage",bt,Ct).context;tt(Lt,nt),gt=this.applyTransferMapsToCanvas(Lt)}for(const bt of ut)ot.save(),ot.transform(...bt.transform),ot.scale(1,-1),ct(ot,gt,bt.x,bt.y,bt.w,bt.h,0,-1,1,1),ot.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(nt){}markPointProps(nt,ut){}beginMarkedContent(nt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(nt,ut){nt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ut)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(nt){const ut=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(nt);const ot=this.ctx;this.pendingClip&&(ut||(this.pendingClip===At?ot.clip("evenodd"):ot.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ot.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const nt=(0,a.getCurrentTransform)(this.ctx);if(nt[1]===0&&nt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(nt[0]),Math.abs(nt[3]));else{const ut=Math.abs(nt[0]*nt[3]-nt[2]*nt[1]),ot=Math.hypot(nt[0],nt[2]),gt=Math.hypot(nt[1],nt[3]);this._cachedGetSinglePixelWidth=Math.max(ot,gt)/ut}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:nt}=this.current,{a:ut,b:ot,c:gt,d:bt}=this.ctx.getTransform();let Ct,Rt;if(ot===0&&gt===0){const Lt=Math.abs(ut),qt=Math.abs(bt);if(Lt===qt)if(nt===0)Ct=Rt=1/Lt;else{const Wt=Lt*nt;Ct=Rt=Wt<1?1/Wt:1}else if(nt===0)Ct=1/Lt,Rt=1/qt;else{const Wt=Lt*nt,Xt=qt*nt;Ct=Wt<1?1/Wt:1,Rt=Xt<1?1/Xt:1}}else{const Lt=Math.abs(ut*bt-ot*gt),qt=Math.hypot(ut,ot),Wt=Math.hypot(gt,bt);if(nt===0)Ct=Wt/Lt,Rt=qt/Lt;else{const Xt=nt*Lt;Ct=Wt>Xt?Wt/Xt:1,Rt=qt>Xt?qt/Xt:1}}this._cachedScaleForStroking[0]=Ct,this._cachedScaleForStroking[1]=Rt}return this._cachedScaleForStroking}rescaleAndStroke(nt){const{ctx:ut}=this,{lineWidth:ot}=this.current,[gt,bt]=this.getScaleForStroking();if(ut.lineWidth=ot||1,gt===1&&bt===1){ut.stroke();return}const Ct=ut.getLineDash();if(nt&&ut.save(),ut.scale(gt,bt),Ct.length>0){const Rt=Math.max(gt,bt);ut.setLineDash(Ct.map(Lt=>Lt/Rt)),ut.lineDashOffset/=Rt}ut.stroke(),nt&&ut.restore()}isContentVisible(){for(let nt=this.markedContentStack.length-1;nt>=0;nt--)if(!this.markedContentStack[nt].visible)return!1;return!0}};_t=new WeakSet,Ur=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$t=new WeakSet,$r=function(){if(this.pageColors){const nt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(nt!=="none"){const ut=this.ctx.filter;this.ctx.filter=nt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ut}}};let kt=nn;e.CanvasGraphics=kt;for(const Tt in o.OPS)kt.prototype[Tt]!==void 0&&(kt.prototype[o.OPS[Tt]]=kt.prototype[Tt])},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=mt;var o=s(1),a=s(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=c;function d(et,$){if(!$)return;const tt=$[2]-$[0],ht=$[3]-$[1],rt=new Path2D;rt.rect($[0],$[1],tt,ht),et.clip(rt)}class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class h extends g{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let tt;this._type==="axial"?tt=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(tt=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ht of this._colorStops)tt.addColorStop(ht[0],ht[1]);return tt}getPattern($,tt,ht,rt){let dt;if(rt===c.STROKE||rt===c.FILL){const xt=tt.current.getClippedPathBoundingBox(rt,(0,a.getCurrentTransform)($))||[0,0,0,0],pt=Math.ceil(xt[2]-xt[0])||1,it=Math.ceil(xt[3]-xt[1])||1,St=tt.cachedCanvases.getCanvas("pattern",pt,it,!0),Et=St.context;Et.clearRect(0,0,Et.canvas.width,Et.canvas.height),Et.beginPath(),Et.rect(0,0,Et.canvas.width,Et.canvas.height),Et.translate(-xt[0],-xt[1]),ht=o.Util.transform(ht,[1,0,0,1,xt[0],xt[1]]),Et.transform(...tt.baseTransform),this.matrix&&Et.transform(...this.matrix),d(Et,this._bbox),Et.fillStyle=this._createGradient(Et),Et.fill(),dt=$.createPattern(St.canvas,"no-repeat");const Dt=new DOMMatrix(ht);dt.setTransform(Dt)}else d($,this._bbox),dt=this._createGradient($);return dt}}function _(et,$,tt,ht,rt,dt,xt,pt){const it=$.coords,St=$.colors,Et=et.data,Dt=et.width*4;let Ft;it[tt+1]>it[ht+1]&&(Ft=tt,tt=ht,ht=Ft,Ft=dt,dt=xt,xt=Ft),it[ht+1]>it[rt+1]&&(Ft=ht,ht=rt,rt=Ft,Ft=xt,xt=pt,pt=Ft),it[tt+1]>it[ht+1]&&(Ft=tt,tt=ht,ht=Ft,Ft=dt,dt=xt,xt=Ft);const yt=(it[tt]+$.offsetX)*$.scaleX,vt=(it[tt+1]+$.offsetY)*$.scaleY,At=(it[ht]+$.offsetX)*$.scaleX,kt=(it[ht+1]+$.offsetY)*$.scaleY,_t=(it[rt]+$.offsetX)*$.scaleX,Pt=(it[rt+1]+$.offsetY)*$.scaleY;if(vt>=Pt)return;const $t=St[dt],Zt=St[dt+1],nn=St[dt+2],Tt=St[xt],nt=St[xt+1],ut=St[xt+2],ot=St[pt],gt=St[pt+1],bt=St[pt+2],Ct=Math.round(vt),Rt=Math.round(Pt);let Lt,qt,Wt,Xt,Jt,rn,Qt,pn;for(let bn=Ct;bn<=Rt;bn++){if(bn<kt){const Gt=bn<vt?0:(vt-bn)/(vt-kt);Lt=yt-(yt-At)*Gt,qt=$t-($t-Tt)*Gt,Wt=Zt-(Zt-nt)*Gt,Xt=nn-(nn-ut)*Gt}else{let Gt;bn>Pt?Gt=1:kt===Pt?Gt=0:Gt=(kt-bn)/(kt-Pt),Lt=At-(At-_t)*Gt,qt=Tt-(Tt-ot)*Gt,Wt=nt-(nt-gt)*Gt,Xt=ut-(ut-bt)*Gt}let un;bn<vt?un=0:bn>Pt?un=1:un=(vt-bn)/(vt-Pt),Jt=yt-(yt-_t)*un,rn=$t-($t-ot)*un,Qt=Zt-(Zt-gt)*un,pn=nn-(nn-bt)*un;const En=Math.round(Math.min(Lt,Jt)),sn=Math.round(Math.max(Lt,Jt));let Vt=Dt*bn+En*4;for(let Gt=En;Gt<=sn;Gt++)un=(Lt-Gt)/(Lt-Jt),un<0?un=0:un>1&&(un=1),Et[Vt++]=qt-(qt-rn)*un|0,Et[Vt++]=Wt-(Wt-Qt)*un|0,Et[Vt++]=Xt-(Xt-pn)*un|0,Et[Vt++]=255}}function b(et,$,tt){const ht=$.coords,rt=$.colors;let dt,xt;switch($.type){case"lattice":const pt=$.verticesPerRow,it=Math.floor(ht.length/pt)-1,St=pt-1;for(dt=0;dt<it;dt++){let Et=dt*pt;for(let Dt=0;Dt<St;Dt++,Et++)_(et,tt,ht[Et],ht[Et+1],ht[Et+pt],rt[Et],rt[Et+1],rt[Et+pt]),_(et,tt,ht[Et+pt+1],ht[Et+1],ht[Et+pt],rt[Et+pt+1],rt[Et+1],rt[Et+pt])}break;case"triangles":for(dt=0,xt=ht.length;dt<xt;dt+=3)_(et,tt,ht[dt],ht[dt+1],ht[dt+2],rt[dt],rt[dt+1],rt[dt+2]);break;default:throw new Error("illegal figure")}}class _e extends g{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,tt,ht){const pt=Math.floor(this._bounds[0]),it=Math.floor(this._bounds[1]),St=Math.ceil(this._bounds[2])-pt,Et=Math.ceil(this._bounds[3])-it,Dt=Math.min(Math.ceil(Math.abs(St*$[0]*1.1)),3e3),Ft=Math.min(Math.ceil(Math.abs(Et*$[1]*1.1)),3e3),yt=St/Dt,vt=Et/Ft,At={coords:this._coords,colors:this._colors,offsetX:-pt,offsetY:-it,scaleX:1/yt,scaleY:1/vt},kt=Dt+2*2,_t=Ft+2*2,Pt=ht.getCanvas("mesh",kt,_t,!1),$t=Pt.context,Zt=$t.createImageData(Dt,Ft);if(tt){const Tt=Zt.data;for(let nt=0,ut=Tt.length;nt<ut;nt+=4)Tt[nt]=tt[0],Tt[nt+1]=tt[1],Tt[nt+2]=tt[2],Tt[nt+3]=255}for(const Tt of this._figures)b(Zt,Tt,At);return $t.putImageData(Zt,2,2),{canvas:Pt.canvas,offsetX:pt-2*yt,offsetY:it-2*vt,scaleX:yt,scaleY:vt}}getPattern($,tt,ht,rt){d($,this._bbox);let dt;if(rt===c.SHADING)dt=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)($));else if(dt=o.Util.singularValueDecompose2dScale(tt.baseTransform),this.matrix){const pt=o.Util.singularValueDecompose2dScale(this.matrix);dt=[dt[0]*pt[0],dt[1]*pt[1]]}const xt=this._createMeshCanvas(dt,rt===c.SHADING?null:this._background,tt.cachedCanvases);return rt!==c.SHADING&&($.setTransform(...tt.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(xt.offsetX,xt.offsetY),$.scale(xt.scaleX,xt.scaleY),$.createPattern(xt.canvas,"no-repeat")}}class ft extends g{getPattern(){return"hotpink"}}function mt(et){switch(et[0]){case"RadialAxial":return new h(et);case"Mesh":return new _e(et);case"Dummy":return new ft}throw new Error(`Unknown IR type: ${et[0]}`)}const lt={COLORED:1,UNCOLORED:2},ct=class ct{constructor($,tt,ht,rt,dt){this.operatorList=$[2],this.matrix=$[3]||[1,0,0,1,0,0],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=tt,this.ctx=ht,this.canvasGraphicsFactory=rt,this.baseTransform=dt}createPatternCanvas($){const tt=this.operatorList,ht=this.bbox,rt=this.xstep,dt=this.ystep,xt=this.paintType,pt=this.tilingType,it=this.color,St=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+pt);const Et=ht[0],Dt=ht[1],Ft=ht[2],yt=ht[3],vt=o.Util.singularValueDecompose2dScale(this.matrix),At=o.Util.singularValueDecompose2dScale(this.baseTransform),kt=[vt[0]*At[0],vt[1]*At[1]],_t=this.getSizeAndScale(rt,this.ctx.canvas.width,kt[0]),Pt=this.getSizeAndScale(dt,this.ctx.canvas.height,kt[1]),$t=$.cachedCanvases.getCanvas("pattern",_t.size,Pt.size,!0),Zt=$t.context,nn=St.createCanvasGraphics(Zt);nn.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(nn,xt,it);let Tt=Et,nt=Dt,ut=Ft,ot=yt;return Et<0&&(Tt=0,ut+=Math.abs(Et)),Dt<0&&(nt=0,ot+=Math.abs(Dt)),Zt.translate(-(_t.scale*Tt),-(Pt.scale*nt)),nn.transform(_t.scale,0,0,Pt.scale,0,0),Zt.save(),this.clipBbox(nn,Tt,nt,ut,ot),nn.baseTransform=(0,a.getCurrentTransform)(nn.ctx),nn.executeOperatorList(tt),nn.endDrawing(),{canvas:$t.canvas,scaleX:_t.scale,scaleY:Pt.scale,offsetX:Tt,offsetY:nt}}getSizeAndScale($,tt,ht){$=Math.abs($);const rt=Math.max(ct.MAX_PATTERN_SIZE,tt);let dt=Math.ceil($*ht);return dt>=rt?dt=rt:ht=dt/$,{scale:ht,size:dt}}clipBbox($,tt,ht,rt,dt){const xt=rt-tt,pt=dt-ht;$.ctx.rect(tt,ht,xt,pt),$.current.updateRectMinMax((0,a.getCurrentTransform)($.ctx),[tt,ht,rt,dt]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,tt,ht){const rt=$.ctx,dt=$.current;switch(tt){case lt.COLORED:const xt=this.ctx;rt.fillStyle=xt.fillStyle,rt.strokeStyle=xt.strokeStyle,dt.fillColor=xt.fillStyle,dt.strokeColor=xt.strokeStyle;break;case lt.UNCOLORED:const pt=o.Util.makeHexColor(ht[0],ht[1],ht[2]);rt.fillStyle=pt,rt.strokeStyle=pt,dt.fillColor=pt,dt.strokeColor=pt;break;default:throw new o.FormatError(`Unsupported paint type: ${tt}`)}}getPattern($,tt,ht,rt){let dt=ht;rt!==c.SHADING&&(dt=o.Util.transform(dt,tt.baseTransform),this.matrix&&(dt=o.Util.transform(dt,this.matrix)));const xt=this.createPatternCanvas(tt);let pt=new DOMMatrix(dt);pt=pt.translate(xt.offsetX,xt.offsetY),pt=pt.scale(1/xt.scaleX,1/xt.scaleY);const it=$.createPattern(xt.canvas,"repeat");return it.setTransform(pt),it}};Hn(ct,"MAX_PATTERN_SIZE",3e3);let at=ct;e.TilingPattern=at},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=c,e.convertToRGBA=a,e.grayToRGBA=g;var o=s(1);function a(h){switch(h.kind){case o.ImageKind.GRAYSCALE_1BPP:return c(h);case o.ImageKind.RGB_24BPP:return d(h)}return null}function c({src:h,srcPos:_=0,dest:b,width:_e,height:ft,nonBlackColor:mt=4294967295,inverseDecode:lt=!1}){const at=o.FeatureTest.isLittleEndian?4278190080:255,[ct,et]=lt?[mt,at]:[at,mt],$=_e>>3,tt=_e&7,ht=h.length;b=new Uint32Array(b.buffer);let rt=0;for(let dt=0;dt<ft;dt++){for(const pt=_+$;_<pt;_++){const it=_<ht?h[_]:255;b[rt++]=it&128?et:ct,b[rt++]=it&64?et:ct,b[rt++]=it&32?et:ct,b[rt++]=it&16?et:ct,b[rt++]=it&8?et:ct,b[rt++]=it&4?et:ct,b[rt++]=it&2?et:ct,b[rt++]=it&1?et:ct}if(tt===0)continue;const xt=_<ht?h[_++]:255;for(let pt=0;pt<tt;pt++)b[rt++]=xt&1<<7-pt?et:ct}return{srcPos:_,destPos:rt}}function d({src:h,srcPos:_=0,dest:b,destPos:_e=0,width:ft,height:mt}){let lt=0;const at=h.length>>2,ct=new Uint32Array(h.buffer,_,at);if(o.FeatureTest.isLittleEndian){for(;lt<at-2;lt+=3,_e+=4){const et=ct[lt],$=ct[lt+1],tt=ct[lt+2];b[_e]=et|4278190080,b[_e+1]=et>>>24|$<<8|4278190080,b[_e+2]=$>>>16|tt<<16|4278190080,b[_e+3]=tt>>>8|4278190080}for(let et=lt*4,$=h.length;et<$;et+=3)b[_e++]=h[et]|h[et+1]<<8|h[et+2]<<16|4278190080}else{for(;lt<at-2;lt+=3,_e+=4){const et=ct[lt],$=ct[lt+1],tt=ct[lt+2];b[_e]=et|255,b[_e+1]=et<<24|$>>>8|255,b[_e+2]=$<<16|tt>>>16|255,b[_e+3]=tt<<8|255}for(let et=lt*4,$=h.length;et<$;et+=3)b[_e++]=h[et]<<24|h[et+1]<<16|h[et+2]<<8|255}return{srcPos:_,destPos:_e}}function g(h,_){if(o.FeatureTest.isLittleEndian)for(let b=0,_e=h.length;b<_e;b++)_[b]=h[b]*65793|4278190080;else for(let b=0,_e=h.length;b<_e;b++)_[b]=h[b]*16843008|255}},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const s=Object.create(null);e.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(i,e,s)=>{var h,ps,b,ms,ft,mr;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var o=s(1);const a={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(lt){switch(lt instanceof Error||typeof lt=="object"&&lt!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),lt.name){case"AbortException":return new o.AbortException(lt.message);case"MissingPDFException":return new o.MissingPDFException(lt.message);case"PasswordException":return new o.PasswordException(lt.message,lt.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(lt.message,lt.status);case"UnknownErrorException":return new o.UnknownErrorException(lt.message,lt.details);default:return new o.UnknownErrorException(lt.message,lt.toString())}}class g{constructor(at,ct,et){Mt(this,h);Mt(this,b);Mt(this,ft);this.sourceName=at,this.targetName=ct,this.comObj=et,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=$=>{const tt=$.data;if(tt.targetName!==this.sourceName)return;if(tt.stream){jt(this,b,ms).call(this,tt);return}if(tt.callback){const rt=tt.callbackId,dt=this.callbackCapabilities[rt];if(!dt)throw new Error(`Cannot resolve callback ${rt}`);if(delete this.callbackCapabilities[rt],tt.callback===a.DATA)dt.resolve(tt.data);else if(tt.callback===a.ERROR)dt.reject(d(tt.reason));else throw new Error("Unexpected callback case");return}const ht=this.actionHandler[tt.action];if(!ht)throw new Error(`Unknown action from worker: ${tt.action}`);if(tt.callbackId){const rt=this.sourceName,dt=tt.sourceName;new Promise(function(xt){xt(ht(tt.data))}).then(function(xt){et.postMessage({sourceName:rt,targetName:dt,callback:a.DATA,callbackId:tt.callbackId,data:xt})},function(xt){et.postMessage({sourceName:rt,targetName:dt,callback:a.ERROR,callbackId:tt.callbackId,reason:d(xt)})});return}if(tt.streamId){jt(this,h,ps).call(this,tt);return}ht(tt.data)},et.addEventListener("message",this._onComObjOnMessage)}on(at,ct){const et=this.actionHandler;if(et[at])throw new Error(`There is already an actionName called "${at}"`);et[at]=ct}send(at,ct,et){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:at,data:ct},et)}sendWithPromise(at,ct,et){const $=this.callbackId++,tt=new o.PromiseCapability;this.callbackCapabilities[$]=tt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:at,callbackId:$,data:ct},et)}catch(ht){tt.reject(ht)}return tt.promise}sendWithStream(at,ct,et,$){const tt=this.streamId++,ht=this.sourceName,rt=this.targetName,dt=this.comObj;return new ReadableStream({start:xt=>{const pt=new o.PromiseCapability;return this.streamControllers[tt]={controller:xt,startCall:pt,pullCall:null,cancelCall:null,isClosed:!1},dt.postMessage({sourceName:ht,targetName:rt,action:at,streamId:tt,data:ct,desiredSize:xt.desiredSize},$),pt.promise},pull:xt=>{const pt=new o.PromiseCapability;return this.streamControllers[tt].pullCall=pt,dt.postMessage({sourceName:ht,targetName:rt,stream:c.PULL,streamId:tt,desiredSize:xt.desiredSize}),pt.promise},cancel:xt=>{(0,o.assert)(xt instanceof Error,"cancel must have a valid reason");const pt=new o.PromiseCapability;return this.streamControllers[tt].cancelCall=pt,this.streamControllers[tt].isClosed=!0,dt.postMessage({sourceName:ht,targetName:rt,stream:c.CANCEL,streamId:tt,reason:d(xt)}),pt.promise}},et)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}h=new WeakSet,ps=function(at){const ct=at.streamId,et=this.sourceName,$=at.sourceName,tt=this.comObj,ht=this,rt=this.actionHandler[at.action],dt={enqueue(xt,pt=1,it){if(this.isCancelled)return;const St=this.desiredSize;this.desiredSize-=pt,St>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),tt.postMessage({sourceName:et,targetName:$,stream:c.ENQUEUE,streamId:ct,chunk:xt},it)},close(){this.isCancelled||(this.isCancelled=!0,tt.postMessage({sourceName:et,targetName:$,stream:c.CLOSE,streamId:ct}),delete ht.streamSinks[ct])},error(xt){(0,o.assert)(xt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,tt.postMessage({sourceName:et,targetName:$,stream:c.ERROR,streamId:ct,reason:d(xt)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:at.desiredSize,ready:null};dt.sinkCapability.resolve(),dt.ready=dt.sinkCapability.promise,this.streamSinks[ct]=dt,new Promise(function(xt){xt(rt(at.data,dt))}).then(function(){tt.postMessage({sourceName:et,targetName:$,stream:c.START_COMPLETE,streamId:ct,success:!0})},function(xt){tt.postMessage({sourceName:et,targetName:$,stream:c.START_COMPLETE,streamId:ct,reason:d(xt)})})},b=new WeakSet,ms=function(at){const ct=at.streamId,et=this.sourceName,$=at.sourceName,tt=this.comObj,ht=this.streamControllers[ct],rt=this.streamSinks[ct];switch(at.stream){case c.START_COMPLETE:at.success?ht.startCall.resolve():ht.startCall.reject(d(at.reason));break;case c.PULL_COMPLETE:at.success?ht.pullCall.resolve():ht.pullCall.reject(d(at.reason));break;case c.PULL:if(!rt){tt.postMessage({sourceName:et,targetName:$,stream:c.PULL_COMPLETE,streamId:ct,success:!0});break}rt.desiredSize<=0&&at.desiredSize>0&&rt.sinkCapability.resolve(),rt.desiredSize=at.desiredSize,new Promise(function(dt){var xt;dt((xt=rt.onPull)==null?void 0:xt.call(rt))}).then(function(){tt.postMessage({sourceName:et,targetName:$,stream:c.PULL_COMPLETE,streamId:ct,success:!0})},function(dt){tt.postMessage({sourceName:et,targetName:$,stream:c.PULL_COMPLETE,streamId:ct,reason:d(dt)})});break;case c.ENQUEUE:if((0,o.assert)(ht,"enqueue should have stream controller"),ht.isClosed)break;ht.controller.enqueue(at.chunk);break;case c.CLOSE:if((0,o.assert)(ht,"close should have stream controller"),ht.isClosed)break;ht.isClosed=!0,ht.controller.close(),jt(this,ft,mr).call(this,ht,ct);break;case c.ERROR:(0,o.assert)(ht,"error should have stream controller"),ht.controller.error(d(at.reason)),jt(this,ft,mr).call(this,ht,ct);break;case c.CANCEL_COMPLETE:at.success?ht.cancelCall.resolve():ht.cancelCall.reject(d(at.reason)),jt(this,ft,mr).call(this,ht,ct);break;case c.CANCEL:if(!rt)break;new Promise(function(dt){var xt;dt((xt=rt.onCancel)==null?void 0:xt.call(rt,d(at.reason)))}).then(function(){tt.postMessage({sourceName:et,targetName:$,stream:c.CANCEL_COMPLETE,streamId:ct,success:!0})},function(dt){tt.postMessage({sourceName:et,targetName:$,stream:c.CANCEL_COMPLETE,streamId:ct,reason:d(dt)})}),rt.sinkCapability.reject(d(at.reason)),rt.isCancelled=!0,delete this.streamSinks[ct];break;default:throw new Error("Unexpected stream case")}},ft=new WeakSet,mr=async function(at,ct){var et,$,tt;await Promise.allSettled([(et=at.startCall)==null?void 0:et.promise,($=at.pullCall)==null?void 0:$.promise,(tt=at.cancelCall)==null?void 0:tt.promise]),delete this.streamControllers[ct]},e.MessageHandler=g},(i,e,s)=>{var c,d;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var o=s(1);class a{constructor({parsedData:h,rawData:_}){Mt(this,c,void 0);Mt(this,d,void 0);Kt(this,c,h),Kt(this,d,_)}getRaw(){return j(this,d)}get(h){return j(this,c).get(h)??null}getAll(){return(0,o.objectFromMap)(j(this,c))}has(h){return j(this,c).has(h)}}c=new WeakMap,d=new WeakMap,e.Metadata=a},(i,e,s)=>{var h,_,b,_e,ft,mt,Br;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var o=s(1),a=s(8);const c=Symbol("INTERNAL");class d{constructor(ct,et){Mt(this,h,!0);this.name=ct,this.intent=et}get visible(){return j(this,h)}_setVisible(ct,et){ct!==c&&(0,o.unreachable)("Internal method `_setVisible` called."),Kt(this,h,et)}}h=new WeakMap;class g{constructor(ct){Mt(this,mt);Mt(this,_,null);Mt(this,b,new Map);Mt(this,_e,null);Mt(this,ft,null);if(this.name=null,this.creator=null,ct!==null){this.name=ct.name,this.creator=ct.creator,Kt(this,ft,ct.order);for(const et of ct.groups)j(this,b).set(et.id,new d(et.name,et.intent));if(ct.baseState==="OFF")for(const et of j(this,b).values())et._setVisible(c,!1);for(const et of ct.on)j(this,b).get(et)._setVisible(c,!0);for(const et of ct.off)j(this,b).get(et)._setVisible(c,!1);Kt(this,_e,this.getHash())}}isVisible(ct){if(j(this,b).size===0)return!0;if(!ct)return(0,o.warn)("Optional content group not defined."),!0;if(ct.type==="OCG")return j(this,b).has(ct.id)?j(this,b).get(ct.id).visible:((0,o.warn)(`Optional content group not found: ${ct.id}`),!0);if(ct.type==="OCMD"){if(ct.expression)return jt(this,mt,Br).call(this,ct.expression);if(!ct.policy||ct.policy==="AnyOn"){for(const et of ct.ids){if(!j(this,b).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(j(this,b).get(et).visible)return!0}return!1}else if(ct.policy==="AllOn"){for(const et of ct.ids){if(!j(this,b).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(!j(this,b).get(et).visible)return!1}return!0}else if(ct.policy==="AnyOff"){for(const et of ct.ids){if(!j(this,b).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(!j(this,b).get(et).visible)return!0}return!1}else if(ct.policy==="AllOff"){for(const et of ct.ids){if(!j(this,b).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(j(this,b).get(et).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${ct.policy}.`),!0}return(0,o.warn)(`Unknown group type ${ct.type}.`),!0}setVisibility(ct,et=!0){if(!j(this,b).has(ct)){(0,o.warn)(`Optional content group not found: ${ct}`);return}j(this,b).get(ct)._setVisible(c,!!et),Kt(this,_,null)}get hasInitialVisibility(){return j(this,_e)===null||this.getHash()===j(this,_e)}getOrder(){return j(this,b).size?j(this,ft)?j(this,ft).slice():[...j(this,b).keys()]:null}getGroups(){return j(this,b).size>0?(0,o.objectFromMap)(j(this,b)):null}getGroup(ct){return j(this,b).get(ct)||null}getHash(){if(j(this,_)!==null)return j(this,_);const ct=new a.MurmurHash3_64;for(const[et,$]of j(this,b))ct.update(`${et}:${$.visible}`);return Kt(this,_,ct.hexdigest())}}_=new WeakMap,b=new WeakMap,_e=new WeakMap,ft=new WeakMap,mt=new WeakSet,Br=function(ct){const et=ct.length;if(et<2)return!0;const $=ct[0];for(let tt=1;tt<et;tt++){const ht=ct[tt];let rt;if(Array.isArray(ht))rt=jt(this,mt,Br).call(this,ht);else if(j(this,b).has(ht))rt=j(this,b).get(ht).visible;else return(0,o.warn)(`Optional content group not found: ${ht}`),!0;switch($){case"And":if(!rt)return!1;break;case"Or":if(rt)return!0;break;case"Not":return!rt;default:return!0}}return $==="And"},e.OptionalContentConfig=g},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var o=s(1),a=s(6);class c{constructor({length:_,initialData:b,progressiveDone:_e=!1,contentDispositionFilename:ft=null,disableRange:mt=!1,disableStream:lt=!1},at){if((0,o.assert)(at,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_e,this._contentDispositionFilename=ft,(b==null?void 0:b.length)>0){const ct=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;this._queuedChunks.push(ct)}this._pdfDataRangeTransport=at,this._isStreamingSupported=!lt,this._isRangeSupported=!mt,this._contentLength=_,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ct,et)=>{this._onReceiveData({begin:ct,chunk:et})}),this._pdfDataRangeTransport.addProgressListener((ct,et)=>{this._onProgress({loaded:ct,total:et})}),this._pdfDataRangeTransport.addProgressiveReadListener(ct=>{this._onReceiveData({chunk:ct})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_,chunk:b}){const _e=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;if(_===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_e):this._queuedChunks.push(_e);else{const ft=this._rangeReaders.some(function(mt){return mt._begin!==_?!1:(mt._enqueue(_e),!0)});(0,o.assert)(ft,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){var b,_e,ft,mt;_.total===void 0?(_e=(b=this._rangeReaders[0])==null?void 0:b.onProgress)==null||_e.call(b,{loaded:_.loaded}):(mt=(ft=this._fullRequestReader)==null?void 0:ft.onProgress)==null||mt.call(ft,{loaded:_.loaded,total:_.total})}_onProgressiveDone(){var _;(_=this._fullRequestReader)==null||_.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const b=this._rangeReaders.indexOf(_);b>=0&&this._rangeReaders.splice(b,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new d(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,b){if(b<=this._progressiveDataLength)return null;const _e=new g(this,_,b);return this._pdfDataRangeTransport.requestDataRange(_,b),this._rangeReaders.push(_e),_e}cancelAllRequests(_){var b;(b=this._fullRequestReader)==null||b.cancel(_);for(const _e of this._rangeReaders.slice(0))_e.cancel(_);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=c;class d{constructor(_,b,_e=!1,ft=null){this._stream=_,this._done=_e||!1,this._filename=(0,a.isPdfFile)(ft)?ft:null,this._queuedChunks=b||[],this._loaded=0;for(const mt of this._queuedChunks)this._loaded+=mt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(_,b,_e){this._stream=_,this._begin=b,this._end=_e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const b=this._queuedChunk;return this._queuedChunk=null,{value:b,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var o=s(1),a=s(20);function c(_e,ft,mt){return{method:"GET",headers:_e,signal:mt.signal,mode:"cors",credentials:ft?"include":"same-origin",redirect:"follow"}}function d(_e){const ft=new Headers;for(const mt in _e){const lt=_e[mt];lt!==void 0&&ft.append(mt,lt)}return ft}function g(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:((0,o.warn)(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class h{constructor(ft){this.source=ft,this.isHttp=/^https?:/i.test(ft.url),this.httpHeaders=this.isHttp&&ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ft;return((ft=this._fullRequestReader)==null?void 0:ft._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader(ft,mt){if(mt<=this._progressiveDataLength)return null;const lt=new b(this,ft,mt);return this._rangeRequestReaders.push(lt),lt}cancelAllRequests(ft){var mt;(mt=this._fullRequestReader)==null||mt.cancel(ft);for(const lt of this._rangeRequestReaders.slice(0))lt.cancel(ft)}}e.PDFFetchStream=h;class _{constructor(ft){this._stream=ft,this._reader=null,this._loaded=0,this._filename=null;const mt=ft.source;this._withCredentials=mt.withCredentials||!1,this._contentLength=mt.length,this._headersCapability=new o.PromiseCapability,this._disableRange=mt.disableRange||!1,this._rangeChunkSize=mt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!mt.disableStream,this._isRangeSupported=!mt.disableRange,this._headers=d(this._stream.httpHeaders);const lt=mt.url;fetch(lt,c(this._headers,this._withCredentials,this._abortController)).then(at=>{if(!(0,a.validateResponseStatus)(at.status))throw(0,a.createResponseStatusError)(at.status,lt);this._reader=at.body.getReader(),this._headersCapability.resolve();const ct=tt=>at.headers.get(tt),{allowRangeRequests:et,suggestedLength:$}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:ct,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=et,this._contentLength=$||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(ct),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;await this._headersCapability.promise;const{value:ft,done:mt}=await this._reader.read();return mt?{value:ft,done:mt}:(this._loaded+=ft.byteLength,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g(ft),done:!1})}cancel(ft){var mt;(mt=this._reader)==null||mt.cancel(ft),this._abortController.abort()}}class b{constructor(ft,mt,lt){this._stream=ft,this._reader=null,this._loaded=0;const at=ft.source;this._withCredentials=at.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!at.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${mt}-${lt-1}`);const ct=at.url;fetch(ct,c(this._headers,this._withCredentials,this._abortController)).then(et=>{if(!(0,a.validateResponseStatus)(et.status))throw(0,a.createResponseStatusError)(et.status,ct);this._readCapability.resolve(),this._reader=et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;await this._readCapability.promise;const{value:ft,done:mt}=await this._reader.read();return mt?{value:ft,done:mt}:(this._loaded+=ft.byteLength,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded}),{value:g(ft),done:!1})}cancel(ft){var mt;(mt=this._reader)==null||mt.cancel(ft),this._abortController.abort()}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=h,e.extractFilenameFromHeader=g,e.validateRangeRequestCapabilities=d,e.validateResponseStatus=_;var o=s(1),a=s(21),c=s(6);function d({getResponseHeader:b,isHttp:_e,rangeChunkSize:ft,disableRange:mt}){const lt={allowRangeRequests:!1,suggestedLength:void 0},at=parseInt(b("Content-Length"),10);return!Number.isInteger(at)||(lt.suggestedLength=at,at<=2*ft)||mt||!_e||b("Accept-Ranges")!=="bytes"||(b("Content-Encoding")||"identity")!=="identity"||(lt.allowRangeRequests=!0),lt}function g(b){const _e=b("Content-Disposition");if(_e){let ft=(0,a.getFilenameFromContentDispositionHeader)(_e);if(ft.includes("%"))try{ft=decodeURIComponent(ft)}catch{}if((0,c.isPdfFile)(ft))return ft}return null}function h(b,_e){return b===404||b===0&&_e.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+_e+'".'):new o.UnexpectedResponseException(`Unexpected server response (${b}) while retrieving PDF "${_e}".`,b)}function _(b){return b===200||b===206}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=a;var o=s(1);function a(c){let d=!0,g=h("filename\\*","i").exec(c);if(g){g=g[1];let at=ft(g);return at=unescape(at),at=mt(at),at=lt(at),b(at)}if(g=_e(c),g){const at=lt(g);return b(at)}if(g=h("filename","i").exec(c),g){g=g[1];let at=ft(g);return at=lt(at),b(at)}function h(at,ct){return new RegExp("(?:^|;)\\s*"+at+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ct)}function _(at,ct){if(at){if(!/^[\x00-\xFF]+$/.test(ct))return ct;try{const et=new TextDecoder(at,{fatal:!0}),$=(0,o.stringToBytes)(ct);ct=et.decode($),d=!1}catch{}}return ct}function b(at){return d&&/[\x80-\xff]/.test(at)&&(at=_("utf-8",at),d&&(at=_("iso-8859-1",at))),at}function _e(at){const ct=[];let et;const $=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(et=$.exec(at))!==null;){let[,ht,rt,dt]=et;if(ht=parseInt(ht,10),ht in ct){if(ht===0)break;continue}ct[ht]=[rt,dt]}const tt=[];for(let ht=0;ht<ct.length&&ht in ct;++ht){let[rt,dt]=ct[ht];dt=ft(dt),rt&&(dt=unescape(dt),ht===0&&(dt=mt(dt))),tt.push(dt)}return tt.join("")}function ft(at){if(at.startsWith('"')){const ct=at.slice(1).split('\\"');for(let et=0;et<ct.length;++et){const $=ct[et].indexOf('"');$!==-1&&(ct[et]=ct[et].slice(0,$),ct.length=et+1),ct[et]=ct[et].replaceAll(/\\(.)/g,"$1")}at=ct.join('"')}return at}function mt(at){const ct=at.indexOf("'");if(ct===-1)return at;const et=at.slice(0,ct),tt=at.slice(ct+1).replace(/^[^']*'/,"");return _(et,tt)}function lt(at){return!at.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(at)?at:at.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ct,et,$,tt){if($==="q"||$==="Q")return tt=tt.replaceAll("_"," "),tt=tt.replaceAll(/=([0-9a-fA-F]{2})/g,function(ht,rt){return String.fromCharCode(parseInt(rt,16))}),_(et,tt);try{tt=atob(tt)}catch{}return _(et,tt)})}return""}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var o=s(1),a=s(20);const c=200,d=206;function g(ft){const mt=ft.response;return typeof mt!="string"?mt:(0,o.stringToBytes)(mt).buffer}class h{constructor(mt,lt={}){this.url=mt,this.isHttp=/^https?:/i.test(mt),this.httpHeaders=this.isHttp&&lt.httpHeaders||Object.create(null),this.withCredentials=lt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(mt,lt,at){const ct={begin:mt,end:lt};for(const et in at)ct[et]=at[et];return this.request(ct)}requestFull(mt){return this.request(mt)}request(mt){const lt=new XMLHttpRequest,at=this.currXhrId++,ct=this.pendingRequests[at]={xhr:lt};lt.open("GET",this.url),lt.withCredentials=this.withCredentials;for(const et in this.httpHeaders){const $=this.httpHeaders[et];$!==void 0&&lt.setRequestHeader(et,$)}return this.isHttp&&"begin"in mt&&"end"in mt?(lt.setRequestHeader("Range",`bytes=${mt.begin}-${mt.end-1}`),ct.expectedStatus=d):ct.expectedStatus=c,lt.responseType="arraybuffer",mt.onError&&(lt.onerror=function(et){mt.onError(lt.status)}),lt.onreadystatechange=this.onStateChange.bind(this,at),lt.onprogress=this.onProgress.bind(this,at),ct.onHeadersReceived=mt.onHeadersReceived,ct.onDone=mt.onDone,ct.onError=mt.onError,ct.onProgress=mt.onProgress,lt.send(null),at}onProgress(mt,lt){var ct;const at=this.pendingRequests[mt];at&&((ct=at.onProgress)==null||ct.call(at,lt))}onStateChange(mt,lt){var ht,rt,dt;const at=this.pendingRequests[mt];if(!at)return;const ct=at.xhr;if(ct.readyState>=2&&at.onHeadersReceived&&(at.onHeadersReceived(),delete at.onHeadersReceived),ct.readyState!==4||!(mt in this.pendingRequests))return;if(delete this.pendingRequests[mt],ct.status===0&&this.isHttp){(ht=at.onError)==null||ht.call(at,ct.status);return}const et=ct.status||c;if(!(et===c&&at.expectedStatus===d)&&et!==at.expectedStatus){(rt=at.onError)==null||rt.call(at,ct.status);return}const tt=g(ct);if(et===d){const xt=ct.getResponseHeader("Content-Range"),pt=/bytes (\d+)-(\d+)\/(\d+)/.exec(xt);at.onDone({begin:parseInt(pt[1],10),chunk:tt})}else tt?at.onDone({begin:0,chunk:tt}):(dt=at.onError)==null||dt.call(at,ct.status)}getRequestXhr(mt){return this.pendingRequests[mt].xhr}isPendingRequest(mt){return mt in this.pendingRequests}abortRequest(mt){const lt=this.pendingRequests[mt].xhr;delete this.pendingRequests[mt],lt.abort()}}class _{constructor(mt){this._source=mt,this._manager=new h(mt.url,{httpHeaders:mt.httpHeaders,withCredentials:mt.withCredentials}),this._rangeChunkSize=mt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(mt){const lt=this._rangeRequestReaders.indexOf(mt);lt>=0&&this._rangeRequestReaders.splice(lt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new b(this._manager,this._source),this._fullRequestReader}getRangeReader(mt,lt){const at=new _e(this._manager,mt,lt);return at.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(at),at}cancelAllRequests(mt){var lt;(lt=this._fullRequestReader)==null||lt.cancel(mt);for(const at of this._rangeRequestReaders.slice(0))at.cancel(mt)}}e.PDFNetworkStream=_;class b{constructor(mt,lt){this._manager=mt;const at={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=lt.url,this._fullRequestId=mt.requestFull(at),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=lt.disableRange||!1,this._contentLength=lt.length,this._rangeChunkSize=lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const mt=this._fullRequestId,lt=this._manager.getRequestXhr(mt),at=$=>lt.getResponseHeader($),{allowRangeRequests:ct,suggestedLength:et}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:at,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ct&&(this._isRangeSupported=!0),this._contentLength=et||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(at),this._isRangeSupported&&this._manager.abortRequest(mt),this._headersReceivedCapability.resolve()}_onDone(mt){if(mt&&(this._requests.length>0?this._requests.shift().resolve({value:mt.chunk,done:!1}):this._cachedChunks.push(mt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(mt){this._storedError=(0,a.createResponseStatusError)(mt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(mt){var lt;(lt=this.onProgress)==null||lt.call(this,{loaded:mt.loaded,total:mt.lengthComputable?mt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const mt=new o.PromiseCapability;return this._requests.push(mt),mt.promise}cancel(mt){this._done=!0,this._headersReceivedCapability.reject(mt);for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _e{constructor(mt,lt,at){this._manager=mt;const ct={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=mt.url,this._requestId=mt.requestRange(lt,at,ct),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var mt;(mt=this.onClosed)==null||mt.call(this,this)}_onDone(mt){const lt=mt.chunk;this._requests.length>0?this._requests.shift().resolve({value:lt,done:!1}):this._queuedChunk=lt,this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(mt){this._storedError=(0,a.createResponseStatusError)(mt,this._url);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(mt){var lt;this.isStreamingSupported||(lt=this.onProgress)==null||lt.call(this,{loaded:mt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const mt=new o.PromiseCapability;return this._requests.push(mt),mt.promise}cancel(mt){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var o=s(1),a=s(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(at){const ct=require$$5,et=ct.parse(at);return et.protocol==="file:"||et.host?et:/^[a-z]:[/\\]/i.test(at)?ct.parse(`file:///${at}`):(et.host||(et.protocol="file:"),et)}class g{constructor(ct){this.source=ct,this.url=d(ct.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ct.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ct;return((ct=this._fullRequestReader)==null?void 0:ct._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new mt(this):new _e(this),this._fullRequestReader}getRangeReader(ct,et){if(et<=this._progressiveDataLength)return null;const $=this.isFsUrl?new lt(this,ct,et):new ft(this,ct,et);return this._rangeRequestReaders.push($),$}cancelAllRequests(ct){var et;(et=this._fullRequestReader)==null||et.cancel(ct);for(const $ of this._rangeRequestReaders.slice(0))$.cancel(ct)}}e.PDFNodeStream=g;class h{constructor(ct){this._url=ct.url,this._done=!1,this._storedError=null,this.onProgress=null;const et=ct.source;this._contentLength=et.length,this._loaded=0,this._filename=null,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ct=this._readableStream.read();return ct===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=ct.length,($=this.onProgress)==null||$.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ct).buffer,done:!1})}cancel(ct){if(!this._readableStream){this._error(ct);return}this._readableStream.destroy(ct)}_error(ct){this._storedError=ct,this._readCapability.resolve()}_setReadableStream(ct){this._readableStream=ct,ct.on("readable",()=>{this._readCapability.resolve()}),ct.on("end",()=>{ct.destroy(),this._done=!0,this._readCapability.resolve()}),ct.on("error",et=>{this._error(et)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _{constructor(ct){this._url=ct.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const et=ct.source;this._isStreamingSupported=!et.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ct=this._readableStream.read();return ct===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=ct.length,($=this.onProgress)==null||$.call(this,{loaded:this._loaded}),{value:new Uint8Array(ct).buffer,done:!1})}cancel(ct){if(!this._readableStream){this._error(ct);return}this._readableStream.destroy(ct)}_error(ct){this._storedError=ct,this._readCapability.resolve()}_setReadableStream(ct){this._readableStream=ct,ct.on("readable",()=>{this._readCapability.resolve()}),ct.on("end",()=>{ct.destroy(),this._done=!0,this._readCapability.resolve()}),ct.on("error",et=>{this._error(et)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(at,ct){return{protocol:at.protocol,auth:at.auth,host:at.hostname,port:at.port,path:at.path,method:"GET",headers:ct}}class _e extends h{constructor(ct){super(ct);const et=$=>{if($.statusCode===404){const dt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=dt,this._headersCapability.reject(dt);return}this._headersCapability.resolve(),this._setReadableStream($);const tt=dt=>this._readableStream.headers[dt.toLowerCase()],{allowRangeRequests:ht,suggestedLength:rt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:tt,isHttp:ct.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ht,this._contentLength=rt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(tt)};if(this._request=null,this._url.protocol==="http:"){const $=require$$5;this._request=$.request(b(this._url,ct.httpHeaders),et)}else{const $=require$$5;this._request=$.request(b(this._url,ct.httpHeaders),et)}this._request.on("error",$=>{this._storedError=$,this._headersCapability.reject($)}),this._request.end()}}class ft extends _{constructor(ct,et,$){super(ct),this._httpHeaders={};for(const ht in ct.httpHeaders){const rt=ct.httpHeaders[ht];rt!==void 0&&(this._httpHeaders[ht]=rt)}this._httpHeaders.Range=`bytes=${et}-${$-1}`;const tt=ht=>{if(ht.statusCode===404){const rt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=rt;return}this._setReadableStream(ht)};if(this._request=null,this._url.protocol==="http:"){const ht=require$$5;this._request=ht.request(b(this._url,this._httpHeaders),tt)}else{const ht=require$$5;this._request=ht.request(b(this._url,this._httpHeaders),tt)}this._request.on("error",ht=>{this._storedError=ht}),this._request.end()}}class mt extends h{constructor(ct){super(ct);let et=decodeURIComponent(this._url.path);c.test(this._url.href)&&(et=et.replace(/^\//,""));const $=require$$5;$.lstat(et,(tt,ht)=>{if(tt){tt.code==="ENOENT"&&(tt=new o.MissingPDFException(`Missing PDF "${et}".`)),this._storedError=tt,this._headersCapability.reject(tt);return}this._contentLength=ht.size,this._setReadableStream($.createReadStream(et)),this._headersCapability.resolve()})}}class lt extends _{constructor(ct,et,$){super(ct);let tt=decodeURIComponent(this._url.path);c.test(this._url.href)&&(tt=tt.replace(/^\//,""));const ht=require$$5;this._setReadableStream(ht.createReadStream(tt,{start:et,end:$-1}))}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var o=s(6),a=s(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",h=["butt","round","square"],_=["miter","round","bevel"],b=function(ht,rt="",dt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!dt)return URL.createObjectURL(new Blob([ht],{type:rt}));const xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let pt=`data:${rt};base64,`;for(let it=0,St=ht.length;it<St;it+=3){const Et=ht[it]&255,Dt=ht[it+1]&255,Ft=ht[it+2]&255,yt=Et>>2,vt=(Et&3)<<4|Dt>>4,At=it+1<St?(Dt&15)<<2|Ft>>6:64,kt=it+2<St?Ft&63:64;pt+=xt[yt]+xt[vt]+xt[At]+xt[kt]}return pt},_e=function(){const ht=new Uint8Array([137,80,78,71,13,10,26,10]),rt=12,dt=new Int32Array(256);for(let Ft=0;Ft<256;Ft++){let yt=Ft;for(let vt=0;vt<8;vt++)yt=yt&1?3988292384^yt>>1&2147483647:yt>>1&2147483647;dt[Ft]=yt}function xt(Ft,yt,vt){let At=-1;for(let kt=yt;kt<vt;kt++){const _t=(At^Ft[kt])&255,Pt=dt[_t];At=At>>>8^Pt}return At^-1}function pt(Ft,yt,vt,At){let kt=At;const _t=yt.length;vt[kt]=_t>>24&255,vt[kt+1]=_t>>16&255,vt[kt+2]=_t>>8&255,vt[kt+3]=_t&255,kt+=4,vt[kt]=Ft.charCodeAt(0)&255,vt[kt+1]=Ft.charCodeAt(1)&255,vt[kt+2]=Ft.charCodeAt(2)&255,vt[kt+3]=Ft.charCodeAt(3)&255,kt+=4,vt.set(yt,kt),kt+=yt.length;const Pt=xt(vt,At+4,kt);vt[kt]=Pt>>24&255,vt[kt+1]=Pt>>16&255,vt[kt+2]=Pt>>8&255,vt[kt+3]=Pt&255}function it(Ft,yt,vt){let At=1,kt=0;for(let _t=yt;_t<vt;++_t)At=(At+(Ft[_t]&255))%65521,kt=(kt+At)%65521;return kt<<16|At}function St(Ft){if(!a.isNodeJS)return Et(Ft);try{const yt=parseInt(process.versions.node)>=8?Ft:Buffer.from(Ft),vt=require$$5.deflateSync(yt,{level:9});return vt instanceof Uint8Array?vt:new Uint8Array(vt)}catch(yt){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+yt)}return Et(Ft)}function Et(Ft){let yt=Ft.length;const vt=65535,At=Math.ceil(yt/vt),kt=new Uint8Array(2+yt+At*5+4);let _t=0;kt[_t++]=120,kt[_t++]=156;let Pt=0;for(;yt>vt;)kt[_t++]=0,kt[_t++]=255,kt[_t++]=255,kt[_t++]=0,kt[_t++]=0,kt.set(Ft.subarray(Pt,Pt+vt),_t),_t+=vt,Pt+=vt,yt-=vt;kt[_t++]=1,kt[_t++]=yt&255,kt[_t++]=yt>>8&255,kt[_t++]=~yt&65535&255,kt[_t++]=(~yt&65535)>>8&255,kt.set(Ft.subarray(Pt),_t),_t+=Ft.length-Pt;const $t=it(Ft,0,Ft.length);return kt[_t++]=$t>>24&255,kt[_t++]=$t>>16&255,kt[_t++]=$t>>8&255,kt[_t++]=$t&255,kt}function Dt(Ft,yt,vt,At){const kt=Ft.width,_t=Ft.height;let Pt,$t,Zt;const nn=Ft.data;switch(yt){case a.ImageKind.GRAYSCALE_1BPP:$t=0,Pt=1,Zt=kt+7>>3;break;case a.ImageKind.RGB_24BPP:$t=2,Pt=8,Zt=kt*3;break;case a.ImageKind.RGBA_32BPP:$t=6,Pt=8,Zt=kt*4;break;default:throw new Error("invalid format")}const Tt=new Uint8Array((1+Zt)*_t);let nt=0,ut=0;for(let Lt=0;Lt<_t;++Lt)Tt[nt++]=0,Tt.set(nn.subarray(ut,ut+Zt),nt),ut+=Zt,nt+=Zt;if(yt===a.ImageKind.GRAYSCALE_1BPP&&At){nt=0;for(let Lt=0;Lt<_t;Lt++){nt++;for(let qt=0;qt<Zt;qt++)Tt[nt++]^=255}}const ot=new Uint8Array([kt>>24&255,kt>>16&255,kt>>8&255,kt&255,_t>>24&255,_t>>16&255,_t>>8&255,_t&255,Pt,$t,0,0,0]),gt=St(Tt),bt=ht.length+rt*3+ot.length+gt.length,Ct=new Uint8Array(bt);let Rt=0;return Ct.set(ht,Rt),Rt+=ht.length,pt("IHDR",ot,Ct,Rt),Rt+=rt+ot.length,pt("IDATA",gt,Ct,Rt),Rt+=rt+gt.length,pt("IEND",new Uint8Array(0),Ct,Rt),b(Ct,"image/png",vt)}return function(yt,vt,At){const kt=yt.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:yt.kind;return Dt(yt,kt,vt,At)}}();class ft{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(rt,dt){this.x=rt,this.y=dt}}function mt(ht){let rt=[];const dt=[];for(const xt of ht){if(xt.fn==="save"){rt.push({fnId:92,fn:"group",items:[]}),dt.push(rt),rt=rt.at(-1).items;continue}xt.fn==="restore"?rt=dt.pop():rt.push(xt)}return rt}function lt(ht){if(Number.isInteger(ht))return ht.toString();const rt=ht.toFixed(10);let dt=rt.length-1;if(rt[dt]!=="0")return rt;do dt--;while(rt[dt]==="0");return rt.substring(0,rt[dt]==="."?dt:dt+1)}function at(ht){if(ht[4]===0&&ht[5]===0){if(ht[1]===0&&ht[2]===0)return ht[0]===1&&ht[3]===1?"":`scale(${lt(ht[0])} ${lt(ht[3])})`;if(ht[0]===ht[3]&&ht[1]===-ht[2]){const rt=Math.acos(ht[0])*180/Math.PI;return`rotate(${lt(rt)})`}}else if(ht[0]===1&&ht[1]===0&&ht[2]===0&&ht[3]===1)return`translate(${lt(ht[4])} ${lt(ht[5])})`;return`matrix(${lt(ht[0])} ${lt(ht[1])} ${lt(ht[2])} ${lt(ht[3])} ${lt(ht[4])} ${lt(ht[5])})`}let ct=0,et=0,$=0;class tt{constructor(rt,dt,xt=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new ft,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=rt,this.objs=dt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!xt,this._operatorIdMapping=[];for(const pt in a.OPS)this._operatorIdMapping[a.OPS[pt]]=pt}getObject(rt,dt=null){return typeof rt=="string"?rt.startsWith("g_")?this.commonObjs.get(rt):this.objs.get(rt):dt}save(){this.transformStack.push(this.transformMatrix);const rt=this.current;this.extraStack.push(rt),this.current=rt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(rt){this.save(),this.executeOpTree(rt),this.restore()}loadDependencies(rt){const dt=rt.fnArray,xt=rt.argsArray;for(let pt=0,it=dt.length;pt<it;pt++)if(dt[pt]===a.OPS.dependency)for(const St of xt[pt]){const Et=St.startsWith("g_")?this.commonObjs:this.objs,Dt=new Promise(Ft=>{Et.get(St,Ft)});this.current.dependencies.push(Dt)}return Promise.all(this.current.dependencies)}transform(rt,dt,xt,pt,it,St){const Et=[rt,dt,xt,pt,it,St];this.transformMatrix=a.Util.transform(this.transformMatrix,Et),this.tgrp=null}getSVG(rt,dt){this.viewport=dt;const xt=this._initialize(dt);return this.loadDependencies(rt).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(rt)),xt))}convertOpList(rt){const dt=this._operatorIdMapping,xt=rt.argsArray,pt=rt.fnArray,it=[];for(let St=0,Et=pt.length;St<Et;St++){const Dt=pt[St];it.push({fnId:Dt,fn:dt[Dt],args:xt[St]})}return mt(it)}executeOpTree(rt){for(const dt of rt){const xt=dt.fn,pt=dt.fnId,it=dt.args;switch(pt|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(it);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(it[0],it[1]);break;case a.OPS.setFont:this.setFont(it);break;case a.OPS.showText:this.showText(it[0]);break;case a.OPS.showSpacedText:this.showText(it[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(it[0],it[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(it[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(it[0]);break;case a.OPS.setHScale:this.setHScale(it[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(it[0],it[1],it[2],it[3],it[4],it[5]);break;case a.OPS.setTextRise:this.setTextRise(it[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(it[0]);break;case a.OPS.setLineWidth:this.setLineWidth(it[0]);break;case a.OPS.setLineJoin:this.setLineJoin(it[0]);break;case a.OPS.setLineCap:this.setLineCap(it[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(it[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(it[0],it[1],it[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(it[0],it[1],it[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(it);break;case a.OPS.setFillColorN:this.setFillColorN(it);break;case a.OPS.shadingFill:this.shadingFill(it[0]);break;case a.OPS.setDash:this.setDash(it[0],it[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(it[0]);break;case a.OPS.setFlatness:this.setFlatness(it[0]);break;case a.OPS.setGState:this.setGState(it[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(it[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(it[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(it[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(it[0],it[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(it[0],it[1],it[2],it[3],it[4],it[5]);break;case a.OPS.constructPath:this.constructPath(it[0],it[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(dt.items);break;default:(0,a.warn)(`Unimplemented operator ${xt}`);break}}}setWordSpacing(rt){this.current.wordSpacing=rt}setCharSpacing(rt){this.current.charSpacing=rt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(rt,dt,xt,pt,it,St){const Et=this.current;Et.textMatrix=Et.lineMatrix=[rt,dt,xt,pt,it,St],Et.textMatrixScale=Math.hypot(rt,dt),Et.x=Et.lineX=0,Et.y=Et.lineY=0,Et.xcoords=[],Et.ycoords=[],Et.tspan=this.svgFactory.createElement("svg:tspan"),Et.tspan.setAttributeNS(null,"font-family",Et.fontFamily),Et.tspan.setAttributeNS(null,"font-size",`${lt(Et.fontSize)}px`),Et.tspan.setAttributeNS(null,"y",lt(-Et.y)),Et.txtElement=this.svgFactory.createElement("svg:text"),Et.txtElement.append(Et.tspan)}beginText(){const rt=this.current;rt.x=rt.lineX=0,rt.y=rt.lineY=0,rt.textMatrix=a.IDENTITY_MATRIX,rt.lineMatrix=a.IDENTITY_MATRIX,rt.textMatrixScale=1,rt.tspan=this.svgFactory.createElement("svg:tspan"),rt.txtElement=this.svgFactory.createElement("svg:text"),rt.txtgrp=this.svgFactory.createElement("svg:g"),rt.xcoords=[],rt.ycoords=[]}moveText(rt,dt){const xt=this.current;xt.x=xt.lineX+=rt,xt.y=xt.lineY+=dt,xt.xcoords=[],xt.ycoords=[],xt.tspan=this.svgFactory.createElement("svg:tspan"),xt.tspan.setAttributeNS(null,"font-family",xt.fontFamily),xt.tspan.setAttributeNS(null,"font-size",`${lt(xt.fontSize)}px`),xt.tspan.setAttributeNS(null,"y",lt(-xt.y))}showText(rt){const dt=this.current,xt=dt.font,pt=dt.fontSize;if(pt===0)return;const it=dt.fontSizeScale,St=dt.charSpacing,Et=dt.wordSpacing,Dt=dt.fontDirection,Ft=dt.textHScale*Dt,yt=xt.vertical,vt=yt?1:-1,At=xt.defaultVMetrics,kt=pt*dt.fontMatrix[0];let _t=0;for(const Zt of rt){if(Zt===null){_t+=Dt*Et;continue}else if(typeof Zt=="number"){_t+=vt*Zt*pt/1e3;continue}const nn=(Zt.isSpace?Et:0)+St,Tt=Zt.fontChar;let nt,ut,ot=Zt.width;if(yt){let bt;const Ct=Zt.vmetric||At;bt=Zt.vmetric?Ct[1]:ot*.5,bt=-bt*kt;const Rt=Ct[2]*kt;ot=Ct?-Ct[0]:ot,nt=bt/it,ut=(_t+Rt)/it}else nt=_t/it,ut=0;(Zt.isInFont||xt.missingFile)&&(dt.xcoords.push(dt.x+nt),yt&&dt.ycoords.push(-dt.y+ut),dt.tspan.textContent+=Tt);const gt=yt?ot*kt-nn*Dt:ot*kt+nn*Dt;_t+=gt}dt.tspan.setAttributeNS(null,"x",dt.xcoords.map(lt).join(" ")),yt?dt.tspan.setAttributeNS(null,"y",dt.ycoords.map(lt).join(" ")):dt.tspan.setAttributeNS(null,"y",lt(-dt.y)),yt?dt.y-=_t:dt.x+=_t*Ft,dt.tspan.setAttributeNS(null,"font-family",dt.fontFamily),dt.tspan.setAttributeNS(null,"font-size",`${lt(dt.fontSize)}px`),dt.fontStyle!==c.fontStyle&&dt.tspan.setAttributeNS(null,"font-style",dt.fontStyle),dt.fontWeight!==c.fontWeight&&dt.tspan.setAttributeNS(null,"font-weight",dt.fontWeight);const Pt=dt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(Pt===a.TextRenderingMode.FILL||Pt===a.TextRenderingMode.FILL_STROKE?(dt.fillColor!==c.fillColor&&dt.tspan.setAttributeNS(null,"fill",dt.fillColor),dt.fillAlpha<1&&dt.tspan.setAttributeNS(null,"fill-opacity",dt.fillAlpha)):dt.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?dt.tspan.setAttributeNS(null,"fill","transparent"):dt.tspan.setAttributeNS(null,"fill","none"),Pt===a.TextRenderingMode.STROKE||Pt===a.TextRenderingMode.FILL_STROKE){const Zt=1/(dt.textMatrixScale||1);this._setStrokeAttributes(dt.tspan,Zt)}let $t=dt.textMatrix;dt.textRise!==0&&($t=$t.slice(),$t[5]+=dt.textRise),dt.txtElement.setAttributeNS(null,"transform",`${at($t)} scale(${lt(Ft)}, -1)`),dt.txtElement.setAttributeNS(d,"xml:space","preserve"),dt.txtElement.append(dt.tspan),dt.txtgrp.append(dt.txtElement),this._ensureTransformGroup().append(dt.txtElement)}setLeadingMoveText(rt,dt){this.setLeading(-dt),this.moveText(rt,dt)}addFontStyle(rt){if(!rt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const dt=b(rt.data,rt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${rt.loadedName}"; src: url(${dt}); }
`}setFont(rt){const dt=this.current,xt=this.commonObjs.get(rt[0]);let pt=rt[1];dt.font=xt,this.embedFonts&&!xt.missingFile&&!this.embeddedFonts[xt.loadedName]&&(this.addFontStyle(xt),this.embeddedFonts[xt.loadedName]=xt),dt.fontMatrix=xt.fontMatrix||a.FONT_IDENTITY_MATRIX;let it="normal";xt.black?it="900":xt.bold&&(it="bold");const St=xt.italic?"italic":"normal";pt<0?(pt=-pt,dt.fontDirection=-1):dt.fontDirection=1,dt.fontSize=pt,dt.fontFamily=xt.loadedName,dt.fontWeight=it,dt.fontStyle=St,dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.tspan.setAttributeNS(null,"y",lt(-dt.y)),dt.xcoords=[],dt.ycoords=[]}endText(){var dt;const rt=this.current;rt.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((dt=rt.txtElement)!=null&&dt.hasChildNodes())&&(rt.element=rt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(rt){rt>0&&(this.current.lineWidth=rt)}setLineCap(rt){this.current.lineCap=h[rt]}setLineJoin(rt){this.current.lineJoin=_[rt]}setMiterLimit(rt){this.current.miterLimit=rt}setStrokeAlpha(rt){this.current.strokeAlpha=rt}setStrokeRGBColor(rt,dt,xt){this.current.strokeColor=a.Util.makeHexColor(rt,dt,xt)}setFillAlpha(rt){this.current.fillAlpha=rt}setFillRGBColor(rt,dt,xt){this.current.fillColor=a.Util.makeHexColor(rt,dt,xt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(rt){this.current.strokeColor=this._makeColorN_Pattern(rt)}setFillColorN(rt){this.current.fillColor=this._makeColorN_Pattern(rt)}shadingFill(rt){const{width:dt,height:xt}=this.viewport,pt=a.Util.inverseTransform(this.transformMatrix),[it,St,Et,Dt]=a.Util.getAxialAlignedBoundingBox([0,0,dt,xt],pt),Ft=this.svgFactory.createElement("svg:rect");Ft.setAttributeNS(null,"x",it),Ft.setAttributeNS(null,"y",St),Ft.setAttributeNS(null,"width",Et-it),Ft.setAttributeNS(null,"height",Dt-St),Ft.setAttributeNS(null,"fill",this._makeShadingPattern(rt)),this.current.fillAlpha<1&&Ft.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ft)}_makeColorN_Pattern(rt){return rt[0]==="TilingPattern"?this._makeTilingPattern(rt):this._makeShadingPattern(rt)}_makeTilingPattern(rt){const dt=rt[1],xt=rt[2],pt=rt[3]||a.IDENTITY_MATRIX,[it,St,Et,Dt]=rt[4],Ft=rt[5],yt=rt[6],vt=rt[7],At=`shading${$++}`,[kt,_t,Pt,$t]=a.Util.normalizeRect([...a.Util.applyTransform([it,St],pt),...a.Util.applyTransform([Et,Dt],pt)]),[Zt,nn]=a.Util.singularValueDecompose2dScale(pt),Tt=Ft*Zt,nt=yt*nn,ut=this.svgFactory.createElement("svg:pattern");ut.setAttributeNS(null,"id",At),ut.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ut.setAttributeNS(null,"width",Tt),ut.setAttributeNS(null,"height",nt),ut.setAttributeNS(null,"x",`${kt}`),ut.setAttributeNS(null,"y",`${_t}`);const ot=this.svg,gt=this.transformMatrix,bt=this.current.fillColor,Ct=this.current.strokeColor,Rt=this.svgFactory.create(Pt-kt,$t-_t);if(this.svg=Rt,this.transformMatrix=pt,vt===2){const Lt=a.Util.makeHexColor(...dt);this.current.fillColor=Lt,this.current.strokeColor=Lt}return this.executeOpTree(this.convertOpList(xt)),this.svg=ot,this.transformMatrix=gt,this.current.fillColor=bt,this.current.strokeColor=Ct,ut.append(Rt.childNodes[0]),this.defs.append(ut),`url(#${At})`}_makeShadingPattern(rt){switch(typeof rt=="string"&&(rt=this.objs.get(rt)),rt[0]){case"RadialAxial":const dt=`shading${$++}`,xt=rt[3];let pt;switch(rt[1]){case"axial":const it=rt[4],St=rt[5];pt=this.svgFactory.createElement("svg:linearGradient"),pt.setAttributeNS(null,"id",dt),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"x1",it[0]),pt.setAttributeNS(null,"y1",it[1]),pt.setAttributeNS(null,"x2",St[0]),pt.setAttributeNS(null,"y2",St[1]);break;case"radial":const Et=rt[4],Dt=rt[5],Ft=rt[6],yt=rt[7];pt=this.svgFactory.createElement("svg:radialGradient"),pt.setAttributeNS(null,"id",dt),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"cx",Dt[0]),pt.setAttributeNS(null,"cy",Dt[1]),pt.setAttributeNS(null,"r",yt),pt.setAttributeNS(null,"fx",Et[0]),pt.setAttributeNS(null,"fy",Et[1]),pt.setAttributeNS(null,"fr",Ft);break;default:throw new Error(`Unknown RadialAxial type: ${rt[1]}`)}for(const it of xt){const St=this.svgFactory.createElement("svg:stop");St.setAttributeNS(null,"offset",it[0]),St.setAttributeNS(null,"stop-color",it[1]),pt.append(St)}return this.defs.append(pt),`url(#${dt})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${rt[0]}`)}}setDash(rt,dt){this.current.dashArray=rt,this.current.dashPhase=dt}constructPath(rt,dt){const xt=this.current;let pt=xt.x,it=xt.y,St=[],Et=0;for(const Dt of rt)switch(Dt|0){case a.OPS.rectangle:pt=dt[Et++],it=dt[Et++];const Ft=dt[Et++],yt=dt[Et++],vt=pt+Ft,At=it+yt;St.push("M",lt(pt),lt(it),"L",lt(vt),lt(it),"L",lt(vt),lt(At),"L",lt(pt),lt(At),"Z");break;case a.OPS.moveTo:pt=dt[Et++],it=dt[Et++],St.push("M",lt(pt),lt(it));break;case a.OPS.lineTo:pt=dt[Et++],it=dt[Et++],St.push("L",lt(pt),lt(it));break;case a.OPS.curveTo:pt=dt[Et+4],it=dt[Et+5],St.push("C",lt(dt[Et]),lt(dt[Et+1]),lt(dt[Et+2]),lt(dt[Et+3]),lt(pt),lt(it)),Et+=6;break;case a.OPS.curveTo2:St.push("C",lt(pt),lt(it),lt(dt[Et]),lt(dt[Et+1]),lt(dt[Et+2]),lt(dt[Et+3])),pt=dt[Et+2],it=dt[Et+3],Et+=4;break;case a.OPS.curveTo3:pt=dt[Et+2],it=dt[Et+3],St.push("C",lt(dt[Et]),lt(dt[Et+1]),lt(pt),lt(it),lt(pt),lt(it)),Et+=4;break;case a.OPS.closePath:St.push("Z");break}St=St.join(" "),xt.path&&rt.length>0&&rt[0]!==a.OPS.rectangle&&rt[0]!==a.OPS.moveTo?St=xt.path.getAttributeNS(null,"d")+St:(xt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(xt.path)),xt.path.setAttributeNS(null,"d",St),xt.path.setAttributeNS(null,"fill","none"),xt.element=xt.path,xt.setCurrentPoint(pt,it)}endPath(){const rt=this.current;if(rt.path=null,!this.pendingClip)return;if(!rt.element){this.pendingClip=null;return}const dt=`clippath${ct++}`,xt=this.svgFactory.createElement("svg:clipPath");xt.setAttributeNS(null,"id",dt),xt.setAttributeNS(null,"transform",at(this.transformMatrix));const pt=rt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?pt.setAttributeNS(null,"clip-rule","evenodd"):pt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,xt.append(pt),this.defs.append(xt),rt.activeClipUrl){rt.clipGroup=null;for(const it of this.extraStack)it.clipGroup=null;xt.setAttributeNS(null,"clip-path",rt.activeClipUrl)}rt.activeClipUrl=`url(#${dt})`,this.tgrp=null}clip(rt){this.pendingClip=rt}closePath(){const rt=this.current;if(rt.path){const dt=`${rt.path.getAttributeNS(null,"d")}Z`;rt.path.setAttributeNS(null,"d",dt)}}setLeading(rt){this.current.leading=-rt}setTextRise(rt){this.current.textRise=rt}setTextRenderingMode(rt){this.current.textRenderingMode=rt}setHScale(rt){this.current.textHScale=rt/100}setRenderingIntent(rt){}setFlatness(rt){}setGState(rt){for(const[dt,xt]of rt)switch(dt){case"LW":this.setLineWidth(xt);break;case"LC":this.setLineCap(xt);break;case"LJ":this.setLineJoin(xt);break;case"ML":this.setMiterLimit(xt);break;case"D":this.setDash(xt[0],xt[1]);break;case"RI":this.setRenderingIntent(xt);break;case"FL":this.setFlatness(xt);break;case"Font":this.setFont(xt);break;case"CA":this.setStrokeAlpha(xt);break;case"ca":this.setFillAlpha(xt);break;default:(0,a.warn)(`Unimplemented graphic state operator ${dt}`);break}}fill(){const rt=this.current;rt.element&&(rt.element.setAttributeNS(null,"fill",rt.fillColor),rt.element.setAttributeNS(null,"fill-opacity",rt.fillAlpha),this.endPath())}stroke(){const rt=this.current;rt.element&&(this._setStrokeAttributes(rt.element),rt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(rt,dt=1){const xt=this.current;let pt=xt.dashArray;dt!==1&&pt.length>0&&(pt=pt.map(function(it){return dt*it})),rt.setAttributeNS(null,"stroke",xt.strokeColor),rt.setAttributeNS(null,"stroke-opacity",xt.strokeAlpha),rt.setAttributeNS(null,"stroke-miterlimit",lt(xt.miterLimit)),rt.setAttributeNS(null,"stroke-linecap",xt.lineCap),rt.setAttributeNS(null,"stroke-linejoin",xt.lineJoin),rt.setAttributeNS(null,"stroke-width",lt(dt*xt.lineWidth)+"px"),rt.setAttributeNS(null,"stroke-dasharray",pt.map(lt).join(" ")),rt.setAttributeNS(null,"stroke-dashoffset",lt(dt*xt.dashPhase)+"px")}eoFill(){var rt;(rt=this.current.element)==null||rt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var rt;(rt=this.current.element)==null||rt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const rt=this.svgFactory.createElement("svg:rect");rt.setAttributeNS(null,"x","0"),rt.setAttributeNS(null,"y","0"),rt.setAttributeNS(null,"width","1px"),rt.setAttributeNS(null,"height","1px"),rt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(rt)}paintImageXObject(rt){const dt=this.getObject(rt);if(!dt){(0,a.warn)(`Dependent image with object ID ${rt} is not ready yet`);return}this.paintInlineImageXObject(dt)}paintInlineImageXObject(rt,dt){const xt=rt.width,pt=rt.height,it=_e(rt,this.forceDataSchema,!!dt),St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x","0"),St.setAttributeNS(null,"y","0"),St.setAttributeNS(null,"width",lt(xt)),St.setAttributeNS(null,"height",lt(pt)),this.current.element=St,this.clip("nonzero");const Et=this.svgFactory.createElement("svg:image");Et.setAttributeNS(g,"xlink:href",it),Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y",lt(-pt)),Et.setAttributeNS(null,"width",lt(xt)+"px"),Et.setAttributeNS(null,"height",lt(pt)+"px"),Et.setAttributeNS(null,"transform",`scale(${lt(1/xt)} ${lt(-1/pt)})`),dt?dt.append(Et):this._ensureTransformGroup().append(Et)}paintImageMaskXObject(rt){const dt=this.getObject(rt.data,rt);if(dt.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const xt=this.current,pt=dt.width,it=dt.height,St=xt.fillColor;xt.maskId=`mask${et++}`;const Et=this.svgFactory.createElement("svg:mask");Et.setAttributeNS(null,"id",xt.maskId);const Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x","0"),Dt.setAttributeNS(null,"y","0"),Dt.setAttributeNS(null,"width",lt(pt)),Dt.setAttributeNS(null,"height",lt(it)),Dt.setAttributeNS(null,"fill",St),Dt.setAttributeNS(null,"mask",`url(#${xt.maskId})`),this.defs.append(Et),this._ensureTransformGroup().append(Dt),this.paintInlineImageXObject(dt,Et)}paintFormXObjectBegin(rt,dt){if(Array.isArray(rt)&&rt.length===6&&this.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]),dt){const xt=dt[2]-dt[0],pt=dt[3]-dt[1],it=this.svgFactory.createElement("svg:rect");it.setAttributeNS(null,"x",dt[0]),it.setAttributeNS(null,"y",dt[1]),it.setAttributeNS(null,"width",lt(xt)),it.setAttributeNS(null,"height",lt(pt)),this.current.element=it,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(rt){const dt=this.svgFactory.create(rt.width,rt.height),xt=this.svgFactory.createElement("svg:defs");dt.append(xt),this.defs=xt;const pt=this.svgFactory.createElement("svg:g");return pt.setAttributeNS(null,"transform",at(rt.transform)),dt.append(pt),this.svg=pt,dt}_ensureClipGroup(){if(!this.current.clipGroup){const rt=this.svgFactory.createElement("svg:g");rt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(rt),this.current.clipGroup=rt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",at(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=tt},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class s{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function g(h){var _e;if(!h)return;let _=null;const b=h.name;if(b==="#text")_=h.value;else if(s.shouldBuildText(b))(_e=h==null?void 0:h.attributes)!=null&&_e.textContent?_=h.attributes.textContent:h.value&&(_=h.value);else return;if(_!==null&&c.push({str:_}),!!h.children)for(const ft of h.children)g(ft)}return g(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}e.XfaText=s},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=at,e.updateTextLayer=ct;var o=s(1),a=s(6);const c=1e5,d=30,g=.8,h=new Map;function _(et,$){let tt;if($&&o.FeatureTest.isOffscreenCanvasSupported)tt=new OffscreenCanvas(et,et).getContext("2d",{alpha:!1});else{const ht=document.createElement("canvas");ht.width=ht.height=et,tt=ht.getContext("2d",{alpha:!1})}return tt}function b(et,$){const tt=h.get(et);if(tt)return tt;const ht=_(d,$);ht.font=`${d}px ${et}`;const rt=ht.measureText("");let dt=rt.fontBoundingBoxAscent,xt=Math.abs(rt.fontBoundingBoxDescent);if(dt){const it=dt/(dt+xt);return h.set(et,it),ht.canvas.width=ht.canvas.height=0,it}ht.strokeStyle="red",ht.clearRect(0,0,d,d),ht.strokeText("g",0,0);let pt=ht.getImageData(0,0,d,d).data;xt=0;for(let it=pt.length-1-3;it>=0;it-=4)if(pt[it]>0){xt=Math.ceil(it/4/d);break}ht.clearRect(0,0,d,d),ht.strokeText("A",0,d),pt=ht.getImageData(0,0,d,d).data,dt=0;for(let it=0,St=pt.length;it<St;it+=4)if(pt[it]>0){dt=d-Math.floor(it/4/d);break}if(ht.canvas.width=ht.canvas.height=0,dt){const it=dt/(dt+xt);return h.set(et,it),it}return h.set(et,g),g}function _e(et,$,tt){const ht=document.createElement("span"),rt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};et._textDivs.push(ht);const dt=o.Util.transform(et._transform,$.transform);let xt=Math.atan2(dt[1],dt[0]);const pt=tt[$.fontName];pt.vertical&&(xt+=Math.PI/2);const it=Math.hypot(dt[2],dt[3]),St=it*b(pt.fontFamily,et._isOffscreenCanvasSupported);let Et,Dt;xt===0?(Et=dt[4],Dt=dt[5]-St):(Et=dt[4]+St*Math.sin(xt),Dt=dt[5]-St*Math.cos(xt));const Ft="calc(var(--scale-factor)*",yt=ht.style;et._container===et._rootContainer?(yt.left=`${(100*Et/et._pageWidth).toFixed(2)}%`,yt.top=`${(100*Dt/et._pageHeight).toFixed(2)}%`):(yt.left=`${Ft}${Et.toFixed(2)}px)`,yt.top=`${Ft}${Dt.toFixed(2)}px)`),yt.fontSize=`${Ft}${it.toFixed(2)}px)`,yt.fontFamily=pt.fontFamily,rt.fontSize=it,ht.setAttribute("role","presentation"),ht.textContent=$.str,ht.dir=$.dir,et._fontInspectorEnabled&&(ht.dataset.fontName=$.fontName),xt!==0&&(rt.angle=xt*(180/Math.PI));let vt=!1;if($.str.length>1)vt=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const At=Math.abs($.transform[0]),kt=Math.abs($.transform[3]);At!==kt&&Math.max(At,kt)/Math.min(At,kt)>1.5&&(vt=!0)}vt&&(rt.canvasWidth=pt.vertical?$.height:$.width),et._textDivProperties.set(ht,rt),et._isReadableStream&&et._layoutText(ht)}function ft(et){const{div:$,scale:tt,properties:ht,ctx:rt,prevFontSize:dt,prevFontFamily:xt}=et,{style:pt}=$;let it="";if(ht.canvasWidth!==0&&ht.hasText){const{fontFamily:St}=pt,{canvasWidth:Et,fontSize:Dt}=ht;(dt!==Dt||xt!==St)&&(rt.font=`${Dt*tt}px ${St}`,et.prevFontSize=Dt,et.prevFontFamily=St);const{width:Ft}=rt.measureText($.textContent);Ft>0&&(it=`scaleX(${Et*tt/Ft})`)}ht.angle!==0&&(it=`rotate(${ht.angle}deg) ${it}`),it.length>0&&(pt.transform=it)}function mt(et){if(et._canceled)return;const $=et._textDivs,tt=et._capability;if($.length>c){tt.resolve();return}if(!et._isReadableStream)for(const rt of $)et._layoutText(rt);tt.resolve()}class lt{constructor({textContentSource:$,container:tt,viewport:ht,textDivs:rt,textDivProperties:dt,textContentItemsStr:xt,isOffscreenCanvasSupported:pt}){var Ft;this._textContentSource=$,this._isReadableStream=$ instanceof ReadableStream,this._container=this._rootContainer=tt,this._textDivs=rt||[],this._textContentItemsStr=xt||[],this._isOffscreenCanvasSupported=pt,this._fontInspectorEnabled=!!((Ft=globalThis.FontInspector)!=null&&Ft.enabled),this._reader=null,this._textDivProperties=dt||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_(0,pt)};const{pageWidth:it,pageHeight:St,pageX:Et,pageY:Dt}=ht.rawDims;this._transform=[1,0,0,-1,-Et,Dt+St],this._pageWidth=it,this._pageHeight=St,(0,a.setLayerDimensions)(tt,ht),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems($,tt){for(const ht of $){if(ht.str===void 0){if(ht.type==="beginMarkedContentProps"||ht.type==="beginMarkedContent"){const rt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ht.id!==null&&this._container.setAttribute("id",`${ht.id}`),rt.append(this._container)}else ht.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ht.str),_e(this,ht,tt)}}_layoutText($){const tt=this._layoutTextParams.properties=this._textDivProperties.get($);if(this._layoutTextParams.div=$,ft(this._layoutTextParams),tt.hasText&&this._container.append($),tt.hasEOL){const ht=document.createElement("br");ht.setAttribute("role","presentation"),this._container.append(ht)}}_render(){const $=new o.PromiseCapability;let tt=Object.create(null);if(this._isReadableStream){const ht=()=>{this._reader.read().then(({value:rt,done:dt})=>{if(dt){$.resolve();return}Object.assign(tt,rt.styles),this._processItems(rt.items,tt),ht()},$.reject)};this._reader=this._textContentSource.getReader(),ht()}else if(this._textContentSource){const{items:ht,styles:rt}=this._textContentSource;this._processItems(ht,rt),$.resolve()}else throw new Error('No "textContentSource" parameter specified.');$.promise.then(()=>{tt=null,mt(this)},this._capability.reject)}}e.TextLayerRenderTask=lt;function at(et){!et.textContentSource&&(et.textContent||et.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),et.textContentSource=et.textContent||et.textContentStream);const{container:$,viewport:tt}=et,ht=getComputedStyle($),rt=ht.getPropertyValue("visibility"),dt=parseFloat(ht.getPropertyValue("--scale-factor"));rt==="visible"&&(!dt||Math.abs(dt-tt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const xt=new lt(et);return xt._render(),xt}function ct({container:et,viewport:$,textDivs:tt,textDivProperties:ht,isOffscreenCanvasSupported:rt,mustRotate:dt=!0,mustRescale:xt=!0}){if(dt&&(0,a.setLayerDimensions)(et,{rotation:$.rotation}),xt){const pt=_(0,rt),St={prevFontSize:null,prevFontFamily:null,div:null,scale:$.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:pt};for(const Et of tt)St.properties=ht.get(Et),St.div=Et,ft(St)}}},(i,e,s)=>{var b,_e,ft,mt,lt,at,ct,et,$,tt,ht,Hr,dt,gr,pt,zr,St,Wr;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var o=s(1),a=s(4),c=s(28),d=s(33),g=s(6),h=s(34);const Dt=class Dt{constructor({uiManager:yt,pageIndex:vt,div:At,accessibilityManager:kt,annotationLayer:_t,viewport:Pt,l10n:$t}){Mt(this,ht);Mt(this,dt);Mt(this,pt);Mt(this,St);Mt(this,b,void 0);Mt(this,_e,!1);Mt(this,ft,null);Mt(this,mt,this.pointerup.bind(this));Mt(this,lt,this.pointerdown.bind(this));Mt(this,at,new Map);Mt(this,ct,!1);Mt(this,et,!1);Mt(this,$,!1);Mt(this,tt,void 0);const Zt=[c.FreeTextEditor,d.InkEditor,h.StampEditor];if(!Dt._initialized){Dt._initialized=!0;for(const nn of Zt)nn.initialize($t)}yt.registerEditorTypes(Zt),Kt(this,tt,yt),this.pageIndex=vt,this.div=At,Kt(this,b,kt),Kt(this,ft,_t),this.viewport=Pt,j(this,tt).addLayer(this)}get isEmpty(){return j(this,at).size===0}updateToolbar(yt){j(this,tt).updateToolbar(yt)}updateMode(yt=j(this,tt).getMode()){jt(this,St,Wr).call(this),yt===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),yt!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",yt===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",yt===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",yt===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(yt){if(!yt&&j(this,tt).getMode()!==o.AnnotationEditorType.INK)return;if(!yt){for(const At of j(this,at).values())if(At.isEmpty()){At.setInBackground();return}}jt(this,dt,gr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(yt){j(this,tt).setEditingState(yt)}addCommands(yt){j(this,tt).addCommands(yt)}enable(){this.div.style.pointerEvents="auto";const yt=new Set;for(const At of j(this,at).values())At.enableEditing(),At.annotationElementId&&yt.add(At.annotationElementId);if(!j(this,ft))return;const vt=j(this,ft).getEditableAnnotations();for(const At of vt){if(At.hide(),j(this,tt).isDeletedAnnotationElement(At.data.id)||yt.has(At.data.id))continue;const kt=this.deserialize(At);kt&&(this.addOrRebuild(kt),kt.enableEditing())}}disable(){var vt;Kt(this,$,!0),this.div.style.pointerEvents="none";const yt=new Set;for(const At of j(this,at).values()){if(At.disableEditing(),!At.annotationElementId||At.serialize()!==null){yt.add(At.annotationElementId);continue}(vt=this.getEditableAnnotation(At.annotationElementId))==null||vt.show(),At.remove()}if(j(this,ft)){const At=j(this,ft).getEditableAnnotations();for(const kt of At){const{id:_t}=kt.data;yt.has(_t)||j(this,tt).isDeletedAnnotationElement(_t)||kt.show()}}jt(this,St,Wr).call(this),this.isEmpty&&(this.div.hidden=!0),Kt(this,$,!1)}getEditableAnnotation(yt){var vt;return((vt=j(this,ft))==null?void 0:vt.getEditableAnnotation(yt))||null}setActiveEditor(yt){j(this,tt).getActive()!==yt&&j(this,tt).setActiveEditor(yt)}enableClick(){this.div.addEventListener("pointerdown",j(this,lt)),this.div.addEventListener("pointerup",j(this,mt))}disableClick(){this.div.removeEventListener("pointerdown",j(this,lt)),this.div.removeEventListener("pointerup",j(this,mt))}attach(yt){j(this,at).set(yt.id,yt);const{annotationElementId:vt}=yt;vt&&j(this,tt).isDeletedAnnotationElement(vt)&&j(this,tt).removeDeletedAnnotationElement(yt)}detach(yt){var vt;j(this,at).delete(yt.id),(vt=j(this,b))==null||vt.removePointerInTextLayer(yt.contentDiv),!j(this,$)&&yt.annotationElementId&&j(this,tt).addDeletedAnnotationElement(yt)}remove(yt){this.detach(yt),j(this,tt).removeEditor(yt),yt.div.contains(document.activeElement)&&setTimeout(()=>{j(this,tt).focusMainContainer()},0),yt.div.remove(),yt.isAttachedToDOM=!1,j(this,et)||this.addInkEditorIfNeeded(!1)}changeParent(yt){var vt;yt.parent!==this&&(yt.annotationElementId&&(j(this,tt).addDeletedAnnotationElement(yt.annotationElementId),a.AnnotationEditor.deleteAnnotationElement(yt),yt.annotationElementId=null),this.attach(yt),(vt=yt.parent)==null||vt.detach(yt),yt.setParent(this),yt.div&&yt.isAttachedToDOM&&(yt.div.remove(),this.div.append(yt.div)))}add(yt){if(this.changeParent(yt),j(this,tt).addEditor(yt),this.attach(yt),!yt.isAttachedToDOM){const vt=yt.render();this.div.append(vt),yt.isAttachedToDOM=!0}yt.fixAndSetPosition(),yt.onceAdded(),j(this,tt).addToAnnotationStorage(yt)}moveEditorInDOM(yt){var At;if(!yt.isAttachedToDOM)return;const{activeElement:vt}=document;yt.div.contains(vt)&&(yt._focusEventsAllowed=!1,setTimeout(()=>{yt.div.contains(document.activeElement)?yt._focusEventsAllowed=!0:(yt.div.addEventListener("focusin",()=>{yt._focusEventsAllowed=!0},{once:!0}),vt.focus())},0)),yt._structTreeParentId=(At=j(this,b))==null?void 0:At.moveElementInDOM(this.div,yt.div,yt.contentDiv,!0)}addOrRebuild(yt){yt.needsToBeRebuilt()?yt.rebuild():this.add(yt)}addUndoableEditor(yt){const vt=()=>yt._uiManager.rebuild(yt),At=()=>{yt.remove()};this.addCommands({cmd:vt,undo:At,mustExec:!1})}getNextId(){return j(this,tt).getId()}pasteEditor(yt,vt){j(this,tt).updateToolbar(yt),j(this,tt).updateMode(yt);const{offsetX:At,offsetY:kt}=jt(this,pt,zr).call(this),_t=this.getNextId(),Pt=jt(this,ht,Hr).call(this,{parent:this,id:_t,x:At,y:kt,uiManager:j(this,tt),isCentered:!0,...vt});Pt&&this.add(Pt)}deserialize(yt){switch(yt.annotationType??yt.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(yt,this,j(this,tt));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(yt,this,j(this,tt));case o.AnnotationEditorType.STAMP:return h.StampEditor.deserialize(yt,this,j(this,tt))}return null}addNewEditor(){jt(this,dt,gr).call(this,jt(this,pt,zr).call(this),!0)}setSelected(yt){j(this,tt).setSelected(yt)}toggleSelected(yt){j(this,tt).toggleSelected(yt)}isSelected(yt){return j(this,tt).isSelected(yt)}unselect(yt){j(this,tt).unselect(yt)}pointerup(yt){const{isMac:vt}=o.FeatureTest.platform;if(!(yt.button!==0||yt.ctrlKey&&vt)&&yt.target===this.div&&j(this,ct)){if(Kt(this,ct,!1),!j(this,_e)){Kt(this,_e,!0);return}if(j(this,tt).getMode()===o.AnnotationEditorType.STAMP){j(this,tt).unselectAll();return}jt(this,dt,gr).call(this,yt,!1)}}pointerdown(yt){if(j(this,ct)){Kt(this,ct,!1);return}const{isMac:vt}=o.FeatureTest.platform;if(yt.button!==0||yt.ctrlKey&&vt||yt.target!==this.div)return;Kt(this,ct,!0);const At=j(this,tt).getActive();Kt(this,_e,!At||At.isEmpty())}findNewParent(yt,vt,At){const kt=j(this,tt).findParent(vt,At);return kt===null||kt===this?!1:(kt.changeParent(yt),!0)}destroy(){var yt,vt;((yt=j(this,tt).getActive())==null?void 0:yt.parent)===this&&(j(this,tt).commitOrRemove(),j(this,tt).setActiveEditor(null));for(const At of j(this,at).values())(vt=j(this,b))==null||vt.removePointerInTextLayer(At.contentDiv),At.setParent(null),At.isAttachedToDOM=!1,At.div.remove();this.div=null,j(this,at).clear(),j(this,tt).removeLayer(this)}render({viewport:yt}){this.viewport=yt,(0,g.setLayerDimensions)(this.div,yt);for(const vt of j(this,tt).getEditors(this.pageIndex))this.add(vt);this.updateMode()}update({viewport:yt}){j(this,tt).commitOrRemove(),this.viewport=yt,(0,g.setLayerDimensions)(this.div,{rotation:yt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:yt,pageHeight:vt}=this.viewport.rawDims;return[yt,vt]}};b=new WeakMap,_e=new WeakMap,ft=new WeakMap,mt=new WeakMap,lt=new WeakMap,at=new WeakMap,ct=new WeakMap,et=new WeakMap,$=new WeakMap,tt=new WeakMap,ht=new WeakSet,Hr=function(yt){switch(j(this,tt).getMode()){case o.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(yt);case o.AnnotationEditorType.INK:return new d.InkEditor(yt);case o.AnnotationEditorType.STAMP:return new h.StampEditor(yt)}return null},dt=new WeakSet,gr=function(yt,vt){const At=this.getNextId(),kt=jt(this,ht,Hr).call(this,{parent:this,id:At,x:yt.offsetX,y:yt.offsetY,uiManager:j(this,tt),isCentered:vt});return kt&&this.add(kt),kt},pt=new WeakSet,zr=function(){const{x:yt,y:vt,width:At,height:kt}=this.div.getBoundingClientRect(),_t=Math.max(0,yt),Pt=Math.max(0,vt),$t=Math.min(window.innerWidth,yt+At),Zt=Math.min(window.innerHeight,vt+kt),nn=(_t+$t)/2-yt,Tt=(Pt+Zt)/2-vt,[nt,ut]=this.viewport.rotation%180===0?[nn,Tt]:[Tt,nn];return{offsetX:nt,offsetY:ut}},St=new WeakSet,Wr=function(){Kt(this,et,!0);for(const yt of j(this,at).values())yt.isEmpty()&&yt.remove();Kt(this,et,!1)},Hn(Dt,"_initialized",!1);let _=Dt;e.AnnotationEditorLayer=_},(i,e,s)=>{var h,_,b,_e,ft,mt,lt,at,ct,et,gs,tt,ys,rt,vs,xt,ar,it,Vr,Et,_s,Ft,Gr;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var o=s(1),a=s(5),c=s(4),d=s(29);const vt=class vt extends c.AnnotationEditor{constructor(_t){super({..._t,name:"freeTextEditor"});Mt(this,et);Mt(this,tt);Mt(this,rt);Mt(this,xt);Mt(this,it);Mt(this,Et);Mt(this,Ft);Mt(this,h,this.editorDivBlur.bind(this));Mt(this,_,this.editorDivFocus.bind(this));Mt(this,b,this.editorDivInput.bind(this));Mt(this,_e,this.editorDivKeydown.bind(this));Mt(this,ft,void 0);Mt(this,mt,"");Mt(this,lt,`${this.id}-editor`);Mt(this,at,void 0);Mt(this,ct,null);Kt(this,ft,_t.color||vt._defaultColor||c.AnnotationEditor._defaultLineColor),Kt(this,at,_t.fontSize||vt._defaultFontSize)}static get _keyboardManager(){const _t=vt.prototype,Pt=nn=>nn.isEmpty(),$t=a.AnnotationEditorUIManager.TRANSLATE_SMALL,Zt=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],_t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],_t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],_t._translateEmpty,{args:[-$t,0],checker:Pt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],_t._translateEmpty,{args:[-Zt,0],checker:Pt}],[["ArrowRight","mac+ArrowRight"],_t._translateEmpty,{args:[$t,0],checker:Pt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],_t._translateEmpty,{args:[Zt,0],checker:Pt}],[["ArrowUp","mac+ArrowUp"],_t._translateEmpty,{args:[0,-$t],checker:Pt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],_t._translateEmpty,{args:[0,-Zt],checker:Pt}],[["ArrowDown","mac+ArrowDown"],_t._translateEmpty,{args:[0,$t],checker:Pt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],_t._translateEmpty,{args:[0,Zt],checker:Pt}]]))}static initialize(_t){c.AnnotationEditor.initialize(_t,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Pt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Pt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(_t,Pt){switch(_t){case o.AnnotationEditorParamsType.FREETEXT_SIZE:vt._defaultFontSize=Pt;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:vt._defaultColor=Pt;break}}updateParams(_t,Pt){switch(_t){case o.AnnotationEditorParamsType.FREETEXT_SIZE:jt(this,et,gs).call(this,Pt);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:jt(this,tt,ys).call(this,Pt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,vt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,vt._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,j(this,at)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,j(this,ft)]]}_translateEmpty(_t,Pt){this._uiManager.translateSelectedEditors(_t,Pt,!0)}getInitialTranslation(){const _t=this.parentScale;return[-vt._internalPadding*_t,-(vt._internalPadding+j(this,at))*_t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",j(this,_e)),this.editorDiv.addEventListener("focus",j(this,_)),this.editorDiv.addEventListener("blur",j(this,h)),this.editorDiv.addEventListener("input",j(this,b)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",j(this,lt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",j(this,_e)),this.editorDiv.removeEventListener("focus",j(this,_)),this.editorDiv.removeEventListener("blur",j(this,h)),this.editorDiv.removeEventListener("input",j(this,b)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(_t){this._focusEventsAllowed&&(super.focusin(_t),_t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var _t;if(this.width){jt(this,Ft,Gr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(_t=this._initialOptions)!=null&&_t.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const _t=j(this,mt),Pt=Kt(this,mt,jt(this,rt,vs).call(this).trimEnd());if(_t===Pt)return;const $t=Zt=>{if(Kt(this,mt,Zt),!Zt){this.remove();return}jt(this,it,Vr).call(this),this._uiManager.rebuild(this),jt(this,xt,ar).call(this)};this.addCommands({cmd:()=>{$t(Pt)},undo:()=>{$t(_t)},mustExec:!1}),jt(this,xt,ar).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(_t){this.enterInEditMode()}keydown(_t){_t.target===this.div&&_t.key==="Enter"&&(this.enterInEditMode(),_t.preventDefault())}editorDivKeydown(_t){vt._keyboardManager.exec(this,_t)}editorDivFocus(_t){this.isEditing=!0}editorDivBlur(_t){this.isEditing=!1}editorDivInput(_t){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let _t,Pt;this.width&&(_t=this.x,Pt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",j(this,lt)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Zt=>{var nn;return(nn=this.editorDiv)==null?void 0:nn.setAttribute("aria-label",Zt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Zt=>{var nn;return(nn=this.editorDiv)==null?void 0:nn.setAttribute("default-content",Zt)}),this.editorDiv.contentEditable=!0;const{style:$t}=this.editorDiv;if($t.fontSize=`calc(${j(this,at)}px * var(--scale-factor))`,$t.color=j(this,ft),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Zt,nn]=this.parentDimensions;if(this.annotationElementId){const{position:Tt}=j(this,ct);let[nt,ut]=this.getInitialTranslation();[nt,ut]=this.pageTranslationToScreen(nt,ut);const[ot,gt]=this.pageDimensions,[bt,Ct]=this.pageTranslation;let Rt,Lt;switch(this.rotation){case 0:Rt=_t+(Tt[0]-bt)/ot,Lt=Pt+this.height-(Tt[1]-Ct)/gt;break;case 90:Rt=_t+(Tt[0]-bt)/ot,Lt=Pt-(Tt[1]-Ct)/gt,[nt,ut]=[ut,-nt];break;case 180:Rt=_t-this.width+(Tt[0]-bt)/ot,Lt=Pt-(Tt[1]-Ct)/gt,[nt,ut]=[-nt,-ut];break;case 270:Rt=_t+(Tt[0]-bt-this.height*gt)/ot,Lt=Pt+(Tt[1]-Ct-this.width*ot)/gt,[nt,ut]=[-ut,nt];break}this.setAt(Rt*Zt,Lt*nn,nt,ut)}else this.setAt(_t*Zt,Pt*nn,this.width*Zt,this.height*nn);jt(this,it,Vr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(_t,Pt,$t){let Zt=null;if(_t instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Tt,fontColor:nt},rect:ut,rotation:ot,id:gt},textContent:bt,textPosition:Ct,parent:{page:{pageNumber:Rt}}}=_t;if(!bt||bt.length===0)return null;Zt=_t={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(nt),fontSize:Tt,value:bt.join(`
`),position:Ct,pageIndex:Rt-1,rect:ut,rotation:ot,id:gt,deleted:!1}}const nn=super.deserialize(_t,Pt,$t);return Kt(nn,at,_t.fontSize),Kt(nn,ft,o.Util.makeHexColor(..._t.color)),Kt(nn,mt,_t.value),nn.annotationElementId=_t.id||null,Kt(nn,ct,Zt),nn}serialize(_t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Pt=vt._internalPadding*this.parentScale,$t=this.getRect(Pt,Pt),Zt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:j(this,ft)),nn={annotationType:o.AnnotationEditorType.FREETEXT,color:Zt,fontSize:j(this,at),value:j(this,mt),pageIndex:this.pageIndex,rect:$t,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return _t?nn:this.annotationElementId&&!jt(this,Et,_s).call(this,nn)?null:(nn.id=this.annotationElementId,nn)}};h=new WeakMap,_=new WeakMap,b=new WeakMap,_e=new WeakMap,ft=new WeakMap,mt=new WeakMap,lt=new WeakMap,at=new WeakMap,ct=new WeakMap,et=new WeakSet,gs=function(_t){const Pt=Zt=>{this.editorDiv.style.fontSize=`calc(${Zt}px * var(--scale-factor))`,this.translate(0,-(Zt-j(this,at))*this.parentScale),Kt(this,at,Zt),jt(this,xt,ar).call(this)},$t=j(this,at);this.addCommands({cmd:()=>{Pt(_t)},undo:()=>{Pt($t)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},tt=new WeakSet,ys=function(_t){const Pt=j(this,ft);this.addCommands({cmd:()=>{Kt(this,ft,this.editorDiv.style.color=_t)},undo:()=>{Kt(this,ft,this.editorDiv.style.color=Pt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rt=new WeakSet,vs=function(){const _t=this.editorDiv.getElementsByTagName("div");if(_t.length===0)return this.editorDiv.innerText;const Pt=[];for(const $t of _t)Pt.push($t.innerText.replace(/\r\n?|\n/,""));return Pt.join(`
`)},xt=new WeakSet,ar=function(){const[_t,Pt]=this.parentDimensions;let $t;if(this.isAttachedToDOM)$t=this.div.getBoundingClientRect();else{const{currentLayer:Zt,div:nn}=this,Tt=nn.style.display;nn.style.display="hidden",Zt.div.append(this.div),$t=nn.getBoundingClientRect(),nn.remove(),nn.style.display=Tt}this.rotation%180===this.parentRotation%180?(this.width=$t.width/_t,this.height=$t.height/Pt):(this.width=$t.height/_t,this.height=$t.width/Pt),this.fixAndSetPosition()},it=new WeakSet,Vr=function(){if(this.editorDiv.replaceChildren(),!!j(this,mt))for(const _t of j(this,mt).split(`
`)){const Pt=document.createElement("div");Pt.append(_t?document.createTextNode(_t):document.createElement("br")),this.editorDiv.append(Pt)}},Et=new WeakSet,_s=function(_t){const{value:Pt,fontSize:$t,color:Zt,rect:nn,pageIndex:Tt}=j(this,ct);return _t.value!==Pt||_t.fontSize!==$t||_t.rect.some((nt,ut)=>Math.abs(nt-nn[ut])>=1)||_t.color.some((nt,ut)=>nt!==Zt[ut])||_t.pageIndex!==Tt},Ft=new WeakSet,Gr=function(_t=!1){if(!this.annotationElementId)return;if(jt(this,xt,ar).call(this),!_t&&(this.width===0||this.height===0)){setTimeout(()=>jt(this,Ft,Gr).call(this,!0),0);return}const Pt=vt._internalPadding*this.parentScale;j(this,ct).rect=this.getRect(Pt,Pt)},Hn(vt,"_freeTextDefaultContent",""),Hn(vt,"_internalPadding",0),Hn(vt,"_defaultColor",null),Hn(vt,"_defaultFontSize",10),Hn(vt,"_type","freetext");let g=vt;e.FreeTextEditor=g},(i,e,s)=>{var ut,gt,Yn,Ct,Es,Lt,qt,Wt,Xt,Jt,rn,Qt,pn,bn,un,En,sn,Vt,Gt,tn,hn,fn,Tn,bs,Cn,yr,Rn,qr,Ln,Kr,zt,Ut,an,cn,Bn,$n,Ht,Xr,An,mn,xn,wn,Ss,ln,Yr;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var o=s(1),a=s(6),c=s(3),d=s(30),g=s(31),h=s(32);const _=1e3,b=9,_e=new WeakSet;function ft(Sn){return{width:Sn[2]-Sn[0],height:Sn[3]-Sn[1]}}class mt{static create(It){switch(It.data.annotationType){case o.AnnotationType.LINK:return new at(It);case o.AnnotationType.TEXT:return new ct(It);case o.AnnotationType.WIDGET:switch(It.data.fieldType){case"Tx":return new $(It);case"Btn":return It.data.radioButton?new rt(It):It.data.checkBox?new ht(It):new dt(It);case"Ch":return new xt(It);case"Sig":return new tt(It)}return new et(It);case o.AnnotationType.POPUP:return new pt(It);case o.AnnotationType.FREETEXT:return new St(It);case o.AnnotationType.LINE:return new Et(It);case o.AnnotationType.SQUARE:return new Dt(It);case o.AnnotationType.CIRCLE:return new Ft(It);case o.AnnotationType.POLYLINE:return new yt(It);case o.AnnotationType.CARET:return new At(It);case o.AnnotationType.INK:return new kt(It);case o.AnnotationType.POLYGON:return new vt(It);case o.AnnotationType.HIGHLIGHT:return new _t(It);case o.AnnotationType.UNDERLINE:return new Pt(It);case o.AnnotationType.SQUIGGLY:return new $t(It);case o.AnnotationType.STRIKEOUT:return new Zt(It);case o.AnnotationType.STAMP:return new nn(It);case o.AnnotationType.FILEATTACHMENT:return new Tt(It);default:return new lt(It)}}}const ot=class ot{constructor(It,{isRenderable:st=!1,ignoreBorder:wt=!1,createQuadrilaterals:Ot=!1}={}){Mt(this,ut,!1);this.isRenderable=st,this.data=It.data,this.layer=It.layer,this.linkService=It.linkService,this.downloadManager=It.downloadManager,this.imageResourcesPath=It.imageResourcesPath,this.renderForms=It.renderForms,this.svgFactory=It.svgFactory,this.annotationStorage=It.annotationStorage,this.enableScripting=It.enableScripting,this.hasJSActions=It.hasJSActions,this._fieldObjects=It.fieldObjects,this.parent=It.parent,st&&(this.container=this._createContainer(wt)),Ot&&this._createQuadrilaterals()}static _hasPopupData({titleObj:It,contentsObj:st,richText:wt}){return!!(It!=null&&It.str||st!=null&&st.str||wt!=null&&wt.str)}get hasPopupData(){return ot._hasPopupData(this.data)}_createContainer(It){const{data:st,parent:{page:wt,viewport:Ot}}=this,Nt=document.createElement("section");Nt.setAttribute("data-annotation-id",st.id),this instanceof et||(Nt.tabIndex=_),Nt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Nt.setAttribute("aria-haspopup","dialog"),st.noRotate&&Nt.classList.add("norotate");const{pageWidth:Bt,pageHeight:Yt,pageX:on,pageY:yn}=Ot.rawDims;if(!st.rect||this instanceof pt){const{rotation:Pn}=st;return!st.hasOwnCanvas&&Pn!==0&&this.setRotation(Pn,Nt),Nt}const{width:gn,height:Mn}=ft(st.rect),vn=o.Util.normalizeRect([st.rect[0],wt.view[3]-st.rect[1]+wt.view[1],st.rect[2],wt.view[3]-st.rect[3]+wt.view[1]]);if(!It&&st.borderStyle.width>0){Nt.style.borderWidth=`${st.borderStyle.width}px`;const Pn=st.borderStyle.horizontalCornerRadius,Dn=st.borderStyle.verticalCornerRadius;if(Pn>0||Dn>0){const Un=`calc(${Pn}px * var(--scale-factor)) / calc(${Dn}px * var(--scale-factor))`;Nt.style.borderRadius=Un}else if(this instanceof rt){const Un=`calc(${gn}px * var(--scale-factor)) / calc(${Mn}px * var(--scale-factor))`;Nt.style.borderRadius=Un}switch(st.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:Nt.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:Nt.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:Nt.style.borderBottomStyle="solid";break}const Nn=st.borderColor||null;Nn?(Kt(this,ut,!0),Nt.style.borderColor=o.Util.makeHexColor(Nn[0]|0,Nn[1]|0,Nn[2]|0)):Nt.style.borderWidth=0}Nt.style.left=`${100*(vn[0]-on)/Bt}%`,Nt.style.top=`${100*(vn[1]-yn)/Yt}%`;const{rotation:_n}=st;return st.hasOwnCanvas||_n===0?(Nt.style.width=`${100*gn/Bt}%`,Nt.style.height=`${100*Mn/Yt}%`):this.setRotation(_n,Nt),Nt}setRotation(It,st=this.container){if(!this.data.rect)return;const{pageWidth:wt,pageHeight:Ot}=this.parent.viewport.rawDims,{width:Nt,height:Bt}=ft(this.data.rect);let Yt,on;It%180===0?(Yt=100*Nt/wt,on=100*Bt/Ot):(Yt=100*Bt/wt,on=100*Nt/Ot),st.style.width=`${Yt}%`,st.style.height=`${on}%`,st.setAttribute("data-main-rotation",(360-It)%360)}get _commonActions(){const It=(st,wt,Ot)=>{const Nt=Ot.detail[st],Bt=Nt[0],Yt=Nt.slice(1);Ot.target.style[wt]=d.ColorConverters[`${Bt}_HTML`](Yt),this.annotationStorage.setValue(this.data.id,{[wt]:d.ColorConverters[`${Bt}_rgb`](Yt)})};return(0,o.shadow)(this,"_commonActions",{display:st=>{const{display:wt}=st.detail,Ot=wt%2===1;this.container.style.visibility=Ot?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Ot,noPrint:wt===1||wt===2})},print:st=>{this.annotationStorage.setValue(this.data.id,{noPrint:!st.detail.print})},hidden:st=>{const{hidden:wt}=st.detail;this.container.style.visibility=wt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:wt,noView:wt})},focus:st=>{setTimeout(()=>st.target.focus({preventScroll:!1}),0)},userName:st=>{st.target.title=st.detail.userName},readonly:st=>{st.target.disabled=st.detail.readonly},required:st=>{this._setRequired(st.target,st.detail.required)},bgColor:st=>{It("bgColor","backgroundColor",st)},fillColor:st=>{It("fillColor","backgroundColor",st)},fgColor:st=>{It("fgColor","color",st)},textColor:st=>{It("textColor","color",st)},borderColor:st=>{It("borderColor","borderColor",st)},strokeColor:st=>{It("strokeColor","borderColor",st)},rotation:st=>{const wt=st.detail.rotation;this.setRotation(wt),this.annotationStorage.setValue(this.data.id,{rotation:wt})}})}_dispatchEventFromSandbox(It,st){const wt=this._commonActions;for(const Ot of Object.keys(st.detail)){const Nt=It[Ot]||wt[Ot];Nt==null||Nt(st)}}_setDefaultPropertiesFromJS(It){if(!this.enableScripting)return;const st=this.annotationStorage.getRawValue(this.data.id);if(!st)return;const wt=this._commonActions;for(const[Ot,Nt]of Object.entries(st)){const Bt=wt[Ot];if(Bt){const Yt={detail:{[Ot]:Nt},target:It};Bt(Yt),delete st[Ot]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:It}=this.data;if(!It)return;const[st,wt,Ot,Nt]=this.data.rect;if(It.length===1){const[,{x:Dn,y:Nn},{x:Un,y:Wn}]=It[0];if(Ot===Dn&&Nt===Nn&&st===Un&&wt===Wn)return}const{style:Bt}=this.container;let Yt;if(j(this,ut)){const{borderColor:Dn,borderWidth:Nn}=Bt;Bt.borderWidth=0,Yt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Dn}" stroke-width="${Nn}">`],this.container.classList.add("hasBorder")}const on=Ot-st,yn=Nt-wt,{svgFactory:gn}=this,Mn=gn.createElement("svg");Mn.classList.add("quadrilateralsContainer"),Mn.setAttribute("width",0),Mn.setAttribute("height",0);const vn=gn.createElement("defs");Mn.append(vn);const _n=gn.createElement("clipPath"),Pn=`clippath_${this.data.id}`;_n.setAttribute("id",Pn),_n.setAttribute("clipPathUnits","objectBoundingBox"),vn.append(_n);for(const[,{x:Dn,y:Nn},{x:Un,y:Wn}]of It){const zn=gn.createElement("rect"),Vn=(Un-st)/on,Kn=(Nt-Nn)/yn,Xn=(Dn-Un)/on,is=(Nn-Wn)/yn;zn.setAttribute("x",Vn),zn.setAttribute("y",Kn),zn.setAttribute("width",Xn),zn.setAttribute("height",is),_n.append(zn),Yt==null||Yt.push(`<rect vector-effect="non-scaling-stroke" x="${Vn}" y="${Kn}" width="${Xn}" height="${is}"/>`)}j(this,ut)&&(Yt.push("</g></svg>')"),Bt.backgroundImage=Yt.join("")),this.container.append(Mn),this.container.style.clipPath=`url(#${Pn})`}_createPopup(){const{container:It,data:st}=this;It.setAttribute("aria-haspopup","dialog");const wt=new pt({data:{color:st.color,titleObj:st.titleObj,modificationDate:st.modificationDate,contentsObj:st.contentsObj,richText:st.richText,parentRect:st.rect,borderStyle:0,id:`popup_${st.id}`,rotation:st.rotation},parent:this.parent,elements:[this]});this.parent.div.append(wt.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(It,st=null){const wt=[];if(this._fieldObjects){const Ot=this._fieldObjects[It];if(Ot)for(const{page:Nt,id:Bt,exportValues:Yt}of Ot){if(Nt===-1||Bt===st)continue;const on=typeof Yt=="string"?Yt:null,yn=document.querySelector(`[data-element-id="${Bt}"]`);if(yn&&!_e.has(yn)){(0,o.warn)(`_getElementsByName - element not allowed: ${Bt}`);continue}wt.push({id:Bt,exportValue:on,domElement:yn})}return wt}for(const Ot of document.getElementsByName(It)){const{exportValue:Nt}=Ot,Bt=Ot.getAttribute("data-element-id");Bt!==st&&_e.has(Ot)&&wt.push({id:Bt,exportValue:Nt,domElement:Ot})}return wt}show(){var It;this.container&&(this.container.hidden=!1),(It=this.popup)==null||It.maybeShow()}hide(){var It;this.container&&(this.container.hidden=!0),(It=this.popup)==null||It.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const It=this.getElementsToTriggerPopup();if(Array.isArray(It))for(const st of It)st.classList.add("highlightArea");else It.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:It,data:{id:st}}=this;this.container.addEventListener("dblclick",()=>{var wt;(wt=this.linkService.eventBus)==null||wt.dispatch("switchannotationeditormode",{source:this,mode:It,editId:st})})}};ut=new WeakMap;let lt=ot;class at extends lt{constructor(st,wt=null){super(st,{isRenderable:!0,ignoreBorder:!!(wt!=null&&wt.ignoreBorder),createQuadrilaterals:!0});Mt(this,gt);Mt(this,Ct);this.isTooltipOnly=st.data.isTooltipOnly}render(){const{data:st,linkService:wt}=this,Ot=document.createElement("a");Ot.setAttribute("data-element-id",st.id);let Nt=!1;return st.url?(wt.addLinkAttributes(Ot,st.url,st.newWindow),Nt=!0):st.action?(this._bindNamedAction(Ot,st.action),Nt=!0):st.attachment?(this._bindAttachment(Ot,st.attachment),Nt=!0):st.setOCGState?(jt(this,Ct,Es).call(this,Ot,st.setOCGState),Nt=!0):st.dest?(this._bindLink(Ot,st.dest),Nt=!0):(st.actions&&(st.actions.Action||st.actions["Mouse Up"]||st.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ot,st),Nt=!0),st.resetForm?(this._bindResetFormAction(Ot,st.resetForm),Nt=!0):this.isTooltipOnly&&!Nt&&(this._bindLink(Ot,""),Nt=!0)),this.container.classList.add("linkAnnotation"),Nt&&this.container.append(Ot),this.container}_bindLink(st,wt){st.href=this.linkService.getDestinationHash(wt),st.onclick=()=>(wt&&this.linkService.goToDestination(wt),!1),(wt||wt==="")&&jt(this,gt,Yn).call(this)}_bindNamedAction(st,wt){st.href=this.linkService.getAnchorUrl(""),st.onclick=()=>(this.linkService.executeNamedAction(wt),!1),jt(this,gt,Yn).call(this)}_bindAttachment(st,wt){st.href=this.linkService.getAnchorUrl(""),st.onclick=()=>{var Ot;return(Ot=this.downloadManager)==null||Ot.openOrDownloadData(this.container,wt.content,wt.filename),!1},jt(this,gt,Yn).call(this)}_bindJSAction(st,wt){st.href=this.linkService.getAnchorUrl("");const Ot=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Nt of Object.keys(wt.actions)){const Bt=Ot.get(Nt);Bt&&(st[Bt]=()=>{var Yt;return(Yt=this.linkService.eventBus)==null||Yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt.id,name:Nt}}),!1})}st.onclick||(st.onclick=()=>!1),jt(this,gt,Yn).call(this)}_bindResetFormAction(st,wt){const Ot=st.onclick;if(Ot||(st.href=this.linkService.getAnchorUrl("")),jt(this,gt,Yn).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ot||(st.onclick=()=>!1);return}st.onclick=()=>{var Mn;Ot==null||Ot();const{fields:Nt,refs:Bt,include:Yt}=wt,on=[];if(Nt.length!==0||Bt.length!==0){const vn=new Set(Bt);for(const _n of Nt){const Pn=this._fieldObjects[_n]||[];for(const{id:Dn}of Pn)vn.add(Dn)}for(const _n of Object.values(this._fieldObjects))for(const Pn of _n)vn.has(Pn.id)===Yt&&on.push(Pn)}else for(const vn of Object.values(this._fieldObjects))on.push(...vn);const yn=this.annotationStorage,gn=[];for(const vn of on){const{id:_n}=vn;switch(gn.push(_n),vn.type){case"text":{const Dn=vn.defaultValue||"";yn.setValue(_n,{value:Dn});break}case"checkbox":case"radiobutton":{const Dn=vn.defaultValue===vn.exportValues;yn.setValue(_n,{value:Dn});break}case"combobox":case"listbox":{const Dn=vn.defaultValue||"";yn.setValue(_n,{value:Dn});break}default:continue}const Pn=document.querySelector(`[data-element-id="${_n}"]`);if(Pn){if(!_e.has(Pn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${_n}`);continue}}else continue;Pn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Mn=this.linkService.eventBus)==null||Mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:gn,name:"ResetForm"}})),!1}}}gt=new WeakSet,Yn=function(){this.container.setAttribute("data-internal-link","")},Ct=new WeakSet,Es=function(st,wt){st.href=this.linkService.getAnchorUrl(""),st.onclick=()=>(this.linkService.executeSetOCGState(wt),!1),jt(this,gt,Yn).call(this)};class ct extends lt{constructor(It){super(It,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const It=document.createElement("img");return It.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",It.alt="[{{type}} Annotation]",It.dataset.l10nId="text_annotation_type",It.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(It),this.container}}class et extends lt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(It){var st;this.data.hasOwnCanvas&&(((st=It.previousSibling)==null?void 0:st.nodeName)==="CANVAS"&&(It.previousSibling.hidden=!0),It.hidden=!1)}_getKeyModifier(It){const{isWin:st,isMac:wt}=o.FeatureTest.platform;return st&&It.ctrlKey||wt&&It.metaKey}_setEventListener(It,st,wt,Ot,Nt){wt.includes("mouse")?It.addEventListener(wt,Bt=>{var Yt;(Yt=this.linkService.eventBus)==null||Yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ot,value:Nt(Bt),shift:Bt.shiftKey,modifier:this._getKeyModifier(Bt)}})}):It.addEventListener(wt,Bt=>{var Yt;if(wt==="blur"){if(!st.focused||!Bt.relatedTarget)return;st.focused=!1}else if(wt==="focus"){if(st.focused)return;st.focused=!0}Nt&&((Yt=this.linkService.eventBus)==null||Yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ot,value:Nt(Bt)}}))})}_setEventListeners(It,st,wt,Ot){var Nt,Bt,Yt;for(const[on,yn]of wt)(yn==="Action"||(Nt=this.data.actions)!=null&&Nt[yn])&&((yn==="Focus"||yn==="Blur")&&(st||(st={focused:!1})),this._setEventListener(It,st,on,yn,Ot),yn==="Focus"&&!((Bt=this.data.actions)!=null&&Bt.Blur)?this._setEventListener(It,st,"blur","Blur",null):yn==="Blur"&&!((Yt=this.data.actions)!=null&&Yt.Focus)&&this._setEventListener(It,st,"focus","Focus",null))}_setBackgroundColor(It){const st=this.data.backgroundColor||null;It.style.backgroundColor=st===null?"transparent":o.Util.makeHexColor(st[0],st[1],st[2])}_setTextStyle(It){const st=["left","center","right"],{fontColor:wt}=this.data.defaultAppearanceData,Ot=this.data.defaultAppearanceData.fontSize||b,Nt=It.style;let Bt;const Yt=2,on=yn=>Math.round(10*yn)/10;if(this.data.multiLine){const yn=Math.abs(this.data.rect[3]-this.data.rect[1]-Yt),gn=Math.round(yn/(o.LINE_FACTOR*Ot))||1,Mn=yn/gn;Bt=Math.min(Ot,on(Mn/o.LINE_FACTOR))}else{const yn=Math.abs(this.data.rect[3]-this.data.rect[1]-Yt);Bt=Math.min(Ot,on(yn/o.LINE_FACTOR))}Nt.fontSize=`calc(${Bt}px * var(--scale-factor))`,Nt.color=o.Util.makeHexColor(wt[0],wt[1],wt[2]),this.data.textAlignment!==null&&(Nt.textAlign=st[this.data.textAlignment])}_setRequired(It,st){st?It.setAttribute("required",!0):It.removeAttribute("required"),It.setAttribute("aria-required",st)}}class $ extends et{constructor(It){const st=It.renderForms||!It.data.hasAppearance&&!!It.data.fieldValue;super(It,{isRenderable:st})}setPropertyOnSiblings(It,st,wt,Ot){const Nt=this.annotationStorage;for(const Bt of this._getElementsByName(It.name,It.id))Bt.domElement&&(Bt.domElement[st]=wt),Nt.setValue(Bt.id,{[Ot]:wt})}render(){var Ot,Nt;const It=this.annotationStorage,st=this.data.id;this.container.classList.add("textWidgetAnnotation");let wt=null;if(this.renderForms){const Bt=It.getValue(st,{value:this.data.fieldValue});let Yt=Bt.value||"";const on=It.getValue(st,{charLimit:this.data.maxLen}).charLimit;on&&Yt.length>on&&(Yt=Yt.slice(0,on));let yn=Bt.formattedValue||((Ot=this.data.textContent)==null?void 0:Ot.join(`
`))||null;yn&&this.data.comb&&(yn=yn.replaceAll(/\s+/g,""));const gn={userValue:Yt,formattedValue:yn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(wt=document.createElement("textarea"),wt.textContent=yn??Yt,this.data.doNotScroll&&(wt.style.overflowY="hidden")):(wt=document.createElement("input"),wt.type="text",wt.setAttribute("value",yn??Yt),this.data.doNotScroll&&(wt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(wt.hidden=!0),_e.add(wt),wt.setAttribute("data-element-id",st),wt.disabled=this.data.readOnly,wt.name=this.data.fieldName,wt.tabIndex=_,this._setRequired(wt,this.data.required),on&&(wt.maxLength=on),wt.addEventListener("input",vn=>{It.setValue(st,{value:vn.target.value}),this.setPropertyOnSiblings(wt,"value",vn.target.value,"value"),gn.formattedValue=null}),wt.addEventListener("resetform",vn=>{const _n=this.data.defaultFieldValue??"";wt.value=gn.userValue=_n,gn.formattedValue=null});let Mn=vn=>{const{formattedValue:_n}=gn;_n!=null&&(vn.target.value=_n),vn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){wt.addEventListener("focus",_n=>{if(gn.focused)return;const{target:Pn}=_n;gn.userValue&&(Pn.value=gn.userValue),gn.lastCommittedValue=Pn.value,gn.commitKey=1,gn.focused=!0}),wt.addEventListener("updatefromsandbox",_n=>{this.showElementAndHideCanvas(_n.target);const Pn={value(Dn){gn.userValue=Dn.detail.value??"",It.setValue(st,{value:gn.userValue.toString()}),Dn.target.value=gn.userValue},formattedValue(Dn){const{formattedValue:Nn}=Dn.detail;gn.formattedValue=Nn,Nn!=null&&Dn.target!==document.activeElement&&(Dn.target.value=Nn),It.setValue(st,{formattedValue:Nn})},selRange(Dn){Dn.target.setSelectionRange(...Dn.detail.selRange)},charLimit:Dn=>{var zn;const{charLimit:Nn}=Dn.detail,{target:Un}=Dn;if(Nn===0){Un.removeAttribute("maxLength");return}Un.setAttribute("maxLength",Nn);let Wn=gn.userValue;!Wn||Wn.length<=Nn||(Wn=Wn.slice(0,Nn),Un.value=gn.userValue=Wn,It.setValue(st,{value:Wn}),(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:Wn,willCommit:!0,commitKey:1,selStart:Un.selectionStart,selEnd:Un.selectionEnd}}))}};this._dispatchEventFromSandbox(Pn,_n)}),wt.addEventListener("keydown",_n=>{var Nn;gn.commitKey=1;let Pn=-1;if(_n.key==="Escape"?Pn=0:_n.key==="Enter"&&!this.data.multiLine?Pn=2:_n.key==="Tab"&&(gn.commitKey=3),Pn===-1)return;const{value:Dn}=_n.target;gn.lastCommittedValue!==Dn&&(gn.lastCommittedValue=Dn,gn.userValue=Dn,(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:Dn,willCommit:!0,commitKey:Pn,selStart:_n.target.selectionStart,selEnd:_n.target.selectionEnd}}))});const vn=Mn;Mn=null,wt.addEventListener("blur",_n=>{var Dn;if(!gn.focused||!_n.relatedTarget)return;gn.focused=!1;const{value:Pn}=_n.target;gn.userValue=Pn,gn.lastCommittedValue!==Pn&&((Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:Pn,willCommit:!0,commitKey:gn.commitKey,selStart:_n.target.selectionStart,selEnd:_n.target.selectionEnd}})),vn(_n)}),(Nt=this.data.actions)!=null&&Nt.Keystroke&&wt.addEventListener("beforeinput",_n=>{var Kn;gn.lastCommittedValue=null;const{data:Pn,target:Dn}=_n,{value:Nn,selectionStart:Un,selectionEnd:Wn}=Dn;let zn=Un,Vn=Wn;switch(_n.inputType){case"deleteWordBackward":{const Xn=Nn.substring(0,Un).match(/\w*[^\w]*$/);Xn&&(zn-=Xn[0].length);break}case"deleteWordForward":{const Xn=Nn.substring(Un).match(/^[^\w]*\w*/);Xn&&(Vn+=Xn[0].length);break}case"deleteContentBackward":Un===Wn&&(zn-=1);break;case"deleteContentForward":Un===Wn&&(Vn+=1);break}_n.preventDefault(),(Kn=this.linkService.eventBus)==null||Kn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:Nn,change:Pn||"",willCommit:!1,selStart:zn,selEnd:Vn}})}),this._setEventListeners(wt,gn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_n=>_n.target.value)}if(Mn&&wt.addEventListener("blur",Mn),this.data.comb){const _n=(this.data.rect[2]-this.data.rect[0])/on;wt.classList.add("comb"),wt.style.letterSpacing=`calc(${_n}px * var(--scale-factor) - 1ch)`}}else wt=document.createElement("div"),wt.textContent=this.data.fieldValue,wt.style.verticalAlign="middle",wt.style.display="table-cell";return this._setTextStyle(wt),this._setBackgroundColor(wt),this._setDefaultPropertiesFromJS(wt),this.container.append(wt),this.container}}class tt extends et{constructor(It){super(It,{isRenderable:!!It.data.hasOwnCanvas})}}class ht extends et{constructor(It){super(It,{isRenderable:It.renderForms})}render(){const It=this.annotationStorage,st=this.data,wt=st.id;let Ot=It.getValue(wt,{value:st.exportValue===st.fieldValue}).value;typeof Ot=="string"&&(Ot=Ot!=="Off",It.setValue(wt,{value:Ot})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Nt=document.createElement("input");return _e.add(Nt),Nt.setAttribute("data-element-id",wt),Nt.disabled=st.readOnly,this._setRequired(Nt,this.data.required),Nt.type="checkbox",Nt.name=st.fieldName,Ot&&Nt.setAttribute("checked",!0),Nt.setAttribute("exportValue",st.exportValue),Nt.tabIndex=_,Nt.addEventListener("change",Bt=>{const{name:Yt,checked:on}=Bt.target;for(const yn of this._getElementsByName(Yt,wt)){const gn=on&&yn.exportValue===st.exportValue;yn.domElement&&(yn.domElement.checked=gn),It.setValue(yn.id,{value:gn})}It.setValue(wt,{value:on})}),Nt.addEventListener("resetform",Bt=>{const Yt=st.defaultFieldValue||"Off";Bt.target.checked=Yt===st.exportValue}),this.enableScripting&&this.hasJSActions&&(Nt.addEventListener("updatefromsandbox",Bt=>{const Yt={value(on){on.target.checked=on.detail.value!=="Off",It.setValue(wt,{value:on.target.checked})}};this._dispatchEventFromSandbox(Yt,Bt)}),this._setEventListeners(Nt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Bt=>Bt.target.checked)),this._setBackgroundColor(Nt),this._setDefaultPropertiesFromJS(Nt),this.container.append(Nt),this.container}}class rt extends et{constructor(It){super(It,{isRenderable:It.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const It=this.annotationStorage,st=this.data,wt=st.id;let Ot=It.getValue(wt,{value:st.fieldValue===st.buttonValue}).value;typeof Ot=="string"&&(Ot=Ot!==st.buttonValue,It.setValue(wt,{value:Ot}));const Nt=document.createElement("input");if(_e.add(Nt),Nt.setAttribute("data-element-id",wt),Nt.disabled=st.readOnly,this._setRequired(Nt,this.data.required),Nt.type="radio",Nt.name=st.fieldName,Ot&&Nt.setAttribute("checked",!0),Nt.tabIndex=_,Nt.addEventListener("change",Bt=>{const{name:Yt,checked:on}=Bt.target;for(const yn of this._getElementsByName(Yt,wt))It.setValue(yn.id,{value:!1});It.setValue(wt,{value:on})}),Nt.addEventListener("resetform",Bt=>{const Yt=st.defaultFieldValue;Bt.target.checked=Yt!=null&&Yt===st.buttonValue}),this.enableScripting&&this.hasJSActions){const Bt=st.buttonValue;Nt.addEventListener("updatefromsandbox",Yt=>{const on={value:yn=>{const gn=Bt===yn.detail.value;for(const Mn of this._getElementsByName(yn.target.name)){const vn=gn&&Mn.id===wt;Mn.domElement&&(Mn.domElement.checked=vn),It.setValue(Mn.id,{value:vn})}}};this._dispatchEventFromSandbox(on,Yt)}),this._setEventListeners(Nt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Yt=>Yt.target.checked)}return this._setBackgroundColor(Nt),this._setDefaultPropertiesFromJS(Nt),this.container.append(Nt),this.container}}class dt extends at{constructor(It){super(It,{ignoreBorder:It.data.hasAppearance})}render(){const It=super.render();It.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(It.title=this.data.alternativeText);const st=It.lastChild;return this.enableScripting&&this.hasJSActions&&st&&(this._setDefaultPropertiesFromJS(st),st.addEventListener("updatefromsandbox",wt=>{this._dispatchEventFromSandbox({},wt)})),It}}class xt extends et{constructor(It){super(It,{isRenderable:It.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const It=this.annotationStorage,st=this.data.id,wt=It.getValue(st,{value:this.data.fieldValue}),Ot=document.createElement("select");_e.add(Ot),Ot.setAttribute("data-element-id",st),Ot.disabled=this.data.readOnly,this._setRequired(Ot,this.data.required),Ot.name=this.data.fieldName,Ot.tabIndex=_;let Nt=this.data.combo&&this.data.options.length>0;this.data.combo||(Ot.size=this.data.options.length,this.data.multiSelect&&(Ot.multiple=!0)),Ot.addEventListener("resetform",gn=>{const Mn=this.data.defaultFieldValue;for(const vn of Ot.options)vn.selected=vn.value===Mn});for(const gn of this.data.options){const Mn=document.createElement("option");Mn.textContent=gn.displayValue,Mn.value=gn.exportValue,wt.value.includes(gn.exportValue)&&(Mn.setAttribute("selected",!0),Nt=!1),Ot.append(Mn)}let Bt=null;if(Nt){const gn=document.createElement("option");gn.value=" ",gn.setAttribute("hidden",!0),gn.setAttribute("selected",!0),Ot.prepend(gn),Bt=()=>{gn.remove(),Ot.removeEventListener("input",Bt),Bt=null},Ot.addEventListener("input",Bt)}const Yt=gn=>{const Mn=gn?"value":"textContent",{options:vn,multiple:_n}=Ot;return _n?Array.prototype.filter.call(vn,Pn=>Pn.selected).map(Pn=>Pn[Mn]):vn.selectedIndex===-1?null:vn[vn.selectedIndex][Mn]};let on=Yt(!1);const yn=gn=>{const Mn=gn.target.options;return Array.prototype.map.call(Mn,vn=>({displayValue:vn.textContent,exportValue:vn.value}))};return this.enableScripting&&this.hasJSActions?(Ot.addEventListener("updatefromsandbox",gn=>{const Mn={value(vn){Bt==null||Bt();const _n=vn.detail.value,Pn=new Set(Array.isArray(_n)?_n:[_n]);for(const Dn of Ot.options)Dn.selected=Pn.has(Dn.value);It.setValue(st,{value:Yt(!0)}),on=Yt(!1)},multipleSelection(vn){Ot.multiple=!0},remove(vn){const _n=Ot.options,Pn=vn.detail.remove;_n[Pn].selected=!1,Ot.remove(Pn),_n.length>0&&Array.prototype.findIndex.call(_n,Nn=>Nn.selected)===-1&&(_n[0].selected=!0),It.setValue(st,{value:Yt(!0),items:yn(vn)}),on=Yt(!1)},clear(vn){for(;Ot.length!==0;)Ot.remove(0);It.setValue(st,{value:null,items:[]}),on=Yt(!1)},insert(vn){const{index:_n,displayValue:Pn,exportValue:Dn}=vn.detail.insert,Nn=Ot.children[_n],Un=document.createElement("option");Un.textContent=Pn,Un.value=Dn,Nn?Nn.before(Un):Ot.append(Un),It.setValue(st,{value:Yt(!0),items:yn(vn)}),on=Yt(!1)},items(vn){const{items:_n}=vn.detail;for(;Ot.length!==0;)Ot.remove(0);for(const Pn of _n){const{displayValue:Dn,exportValue:Nn}=Pn,Un=document.createElement("option");Un.textContent=Dn,Un.value=Nn,Ot.append(Un)}Ot.options.length>0&&(Ot.options[0].selected=!0),It.setValue(st,{value:Yt(!0),items:yn(vn)}),on=Yt(!1)},indices(vn){const _n=new Set(vn.detail.indices);for(const Pn of vn.target.options)Pn.selected=_n.has(Pn.index);It.setValue(st,{value:Yt(!0)}),on=Yt(!1)},editable(vn){vn.target.disabled=!vn.detail.editable}};this._dispatchEventFromSandbox(Mn,gn)}),Ot.addEventListener("input",gn=>{var vn;const Mn=Yt(!0);It.setValue(st,{value:Mn}),gn.preventDefault(),(vn=this.linkService.eventBus)==null||vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:on,changeEx:Mn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ot,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],gn=>gn.target.value)):Ot.addEventListener("input",function(gn){It.setValue(st,{value:Yt(!0)})}),this.data.combo&&this._setTextStyle(Ot),this._setBackgroundColor(Ot),this._setDefaultPropertiesFromJS(Ot),this.container.append(Ot),this.container}}class pt extends lt{constructor(It){const{data:st,elements:wt}=It;super(It,{isRenderable:lt._hasPopupData(st)}),this.elements=wt}render(){this.container.classList.add("popupAnnotation");const It=new it({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),st=[];for(const wt of this.elements)wt.popup=It,st.push(wt.data.id),wt.addHighlightArea();return this.container.setAttribute("aria-controls",st.map(wt=>`${o.AnnotationPrefix}${wt}`).join(",")),this.container}}class it{constructor({container:It,color:st,elements:wt,titleObj:Ot,modificationDate:Nt,contentsObj:Bt,richText:Yt,parent:on,rect:yn,parentRect:gn,open:Mn}){Mt(this,Tn);Mt(this,Cn);Mt(this,Rn);Mt(this,Ln);Mt(this,Lt,null);Mt(this,qt,jt(this,Tn,bs).bind(this));Mt(this,Wt,jt(this,Ln,Kr).bind(this));Mt(this,Xt,jt(this,Rn,qr).bind(this));Mt(this,Jt,jt(this,Cn,yr).bind(this));Mt(this,rn,null);Mt(this,Qt,null);Mt(this,pn,null);Mt(this,bn,null);Mt(this,un,null);Mt(this,En,null);Mt(this,sn,!1);Mt(this,Vt,null);Mt(this,Gt,null);Mt(this,tn,null);Mt(this,hn,null);Mt(this,fn,!1);var _n;Kt(this,Qt,It),Kt(this,hn,Ot),Kt(this,pn,Bt),Kt(this,tn,Yt),Kt(this,un,on),Kt(this,rn,st),Kt(this,Gt,yn),Kt(this,En,gn),Kt(this,bn,wt);const vn=a.PDFDateString.toDateObject(Nt);vn&&Kt(this,Lt,on.l10n.get("annotation_date_string",{date:vn.toLocaleDateString(),time:vn.toLocaleTimeString()})),this.trigger=wt.flatMap(Pn=>Pn.getElementsToTriggerPopup());for(const Pn of this.trigger)Pn.addEventListener("click",j(this,Jt)),Pn.addEventListener("mouseenter",j(this,Xt)),Pn.addEventListener("mouseleave",j(this,Wt)),Pn.classList.add("popupTriggerArea");for(const Pn of wt)(_n=Pn.container)==null||_n.addEventListener("keydown",j(this,qt));j(this,Qt).hidden=!0,Mn&&jt(this,Cn,yr).call(this)}render(){if(j(this,Vt))return;const{page:{view:It},viewport:{rawDims:{pageWidth:st,pageHeight:wt,pageX:Ot,pageY:Nt}}}=j(this,un),Bt=Kt(this,Vt,document.createElement("div"));if(Bt.className="popup",j(this,rn)){const zn=Bt.style.outlineColor=o.Util.makeHexColor(...j(this,rn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Bt.style.backgroundColor=`color-mix(in srgb, ${zn} 30%, white)`:Bt.style.backgroundColor=o.Util.makeHexColor(...j(this,rn).map(Kn=>Math.floor(.7*(255-Kn)+Kn)))}const Yt=document.createElement("span");Yt.className="header";const on=document.createElement("h1");if(Yt.append(on),{dir:on.dir,str:on.textContent}=j(this,hn),Bt.append(Yt),j(this,Lt)){const zn=document.createElement("span");zn.classList.add("popupDate"),j(this,Lt).then(Vn=>{zn.textContent=Vn}),Yt.append(zn)}const yn=j(this,pn),gn=j(this,tn);if(gn!=null&&gn.str&&(!(yn!=null&&yn.str)||yn.str===gn.str))h.XfaLayer.render({xfaHtml:gn.html,intent:"richText",div:Bt}),Bt.lastChild.classList.add("richText","popupContent");else{const zn=this._formatContents(yn);Bt.append(zn)}let Mn=!!j(this,En),vn=Mn?j(this,En):j(this,Gt);for(const zn of j(this,bn))if(!vn||o.Util.intersect(zn.data.rect,vn)!==null){vn=zn.data.rect,Mn=!0;break}const _n=o.Util.normalizeRect([vn[0],It[3]-vn[1]+It[1],vn[2],It[3]-vn[3]+It[1]]),Dn=Mn?vn[2]-vn[0]+5:0,Nn=_n[0]+Dn,Un=_n[1],{style:Wn}=j(this,Qt);Wn.left=`${100*(Nn-Ot)/st}%`,Wn.top=`${100*(Un-Nt)/wt}%`,j(this,Qt).append(Bt)}_formatContents({str:It,dir:st}){const wt=document.createElement("p");wt.classList.add("popupContent"),wt.dir=st;const Ot=It.split(/(?:\r\n?|\n)/);for(let Nt=0,Bt=Ot.length;Nt<Bt;++Nt){const Yt=Ot[Nt];wt.append(document.createTextNode(Yt)),Nt<Bt-1&&wt.append(document.createElement("br"))}return wt}forceHide(){Kt(this,fn,this.isVisible),j(this,fn)&&(j(this,Qt).hidden=!0)}maybeShow(){j(this,fn)&&(Kt(this,fn,!1),j(this,Qt).hidden=!1)}get isVisible(){return j(this,Qt).hidden===!1}}Lt=new WeakMap,qt=new WeakMap,Wt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,rn=new WeakMap,Qt=new WeakMap,pn=new WeakMap,bn=new WeakMap,un=new WeakMap,En=new WeakMap,sn=new WeakMap,Vt=new WeakMap,Gt=new WeakMap,tn=new WeakMap,hn=new WeakMap,fn=new WeakMap,Tn=new WeakSet,bs=function(It){It.altKey||It.shiftKey||It.ctrlKey||It.metaKey||(It.key==="Enter"||It.key==="Escape"&&j(this,sn))&&jt(this,Cn,yr).call(this)},Cn=new WeakSet,yr=function(){Kt(this,sn,!j(this,sn)),j(this,sn)?(jt(this,Rn,qr).call(this),j(this,Qt).addEventListener("click",j(this,Jt)),j(this,Qt).addEventListener("keydown",j(this,qt))):(jt(this,Ln,Kr).call(this),j(this,Qt).removeEventListener("click",j(this,Jt)),j(this,Qt).removeEventListener("keydown",j(this,qt)))},Rn=new WeakSet,qr=function(){j(this,Vt)||this.render(),this.isVisible?j(this,sn)&&j(this,Qt).classList.add("focused"):(j(this,Qt).hidden=!1,j(this,Qt).style.zIndex=parseInt(j(this,Qt).style.zIndex)+1e3)},Ln=new WeakSet,Kr=function(){j(this,Qt).classList.remove("focused"),!(j(this,sn)||!this.isVisible)&&(j(this,Qt).hidden=!0,j(this,Qt).style.zIndex=parseInt(j(this,Qt).style.zIndex)-1e3)};class St extends lt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0}),this.textContent=It.data.textContent,this.textPosition=It.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const It=document.createElement("div");It.classList.add("annotationTextContent"),It.setAttribute("role","comment");for(const st of this.textContent){const wt=document.createElement("span");wt.textContent=st,It.append(wt)}this.container.append(It)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=St;class Et extends lt{constructor(st){super(st,{isRenderable:!0,ignoreBorder:!0});Mt(this,zt,null)}render(){this.container.classList.add("lineAnnotation");const st=this.data,{width:wt,height:Ot}=ft(st.rect),Nt=this.svgFactory.create(wt,Ot,!0),Bt=Kt(this,zt,this.svgFactory.createElement("svg:line"));return Bt.setAttribute("x1",st.rect[2]-st.lineCoordinates[0]),Bt.setAttribute("y1",st.rect[3]-st.lineCoordinates[1]),Bt.setAttribute("x2",st.rect[2]-st.lineCoordinates[2]),Bt.setAttribute("y2",st.rect[3]-st.lineCoordinates[3]),Bt.setAttribute("stroke-width",st.borderStyle.width||1),Bt.setAttribute("stroke","transparent"),Bt.setAttribute("fill","transparent"),Nt.append(Bt),this.container.append(Nt),!st.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}zt=new WeakMap;class Dt extends lt{constructor(st){super(st,{isRenderable:!0,ignoreBorder:!0});Mt(this,Ut,null)}render(){this.container.classList.add("squareAnnotation");const st=this.data,{width:wt,height:Ot}=ft(st.rect),Nt=this.svgFactory.create(wt,Ot,!0),Bt=st.borderStyle.width,Yt=Kt(this,Ut,this.svgFactory.createElement("svg:rect"));return Yt.setAttribute("x",Bt/2),Yt.setAttribute("y",Bt/2),Yt.setAttribute("width",wt-Bt),Yt.setAttribute("height",Ot-Bt),Yt.setAttribute("stroke-width",Bt||1),Yt.setAttribute("stroke","transparent"),Yt.setAttribute("fill","transparent"),Nt.append(Yt),this.container.append(Nt),!st.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,Ut)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ut=new WeakMap;class Ft extends lt{constructor(st){super(st,{isRenderable:!0,ignoreBorder:!0});Mt(this,an,null)}render(){this.container.classList.add("circleAnnotation");const st=this.data,{width:wt,height:Ot}=ft(st.rect),Nt=this.svgFactory.create(wt,Ot,!0),Bt=st.borderStyle.width,Yt=Kt(this,an,this.svgFactory.createElement("svg:ellipse"));return Yt.setAttribute("cx",wt/2),Yt.setAttribute("cy",Ot/2),Yt.setAttribute("rx",wt/2-Bt/2),Yt.setAttribute("ry",Ot/2-Bt/2),Yt.setAttribute("stroke-width",Bt||1),Yt.setAttribute("stroke","transparent"),Yt.setAttribute("fill","transparent"),Nt.append(Yt),this.container.append(Nt),!st.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,an)}addHighlightArea(){this.container.classList.add("highlightArea")}}an=new WeakMap;class yt extends lt{constructor(st){super(st,{isRenderable:!0,ignoreBorder:!0});Mt(this,cn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const st=this.data,{width:wt,height:Ot}=ft(st.rect),Nt=this.svgFactory.create(wt,Ot,!0);let Bt=[];for(const on of st.vertices){const yn=on.x-st.rect[0],gn=st.rect[3]-on.y;Bt.push(yn+","+gn)}Bt=Bt.join(" ");const Yt=Kt(this,cn,this.svgFactory.createElement(this.svgElementName));return Yt.setAttribute("points",Bt),Yt.setAttribute("stroke-width",st.borderStyle.width||1),Yt.setAttribute("stroke","transparent"),Yt.setAttribute("fill","transparent"),Nt.append(Yt),this.container.append(Nt),!st.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,cn)}addHighlightArea(){this.container.classList.add("highlightArea")}}cn=new WeakMap;class vt extends yt{constructor(It){super(It),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class At extends lt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class kt extends lt{constructor(st){super(st,{isRenderable:!0,ignoreBorder:!0});Mt(this,Bn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const st=this.data,{width:wt,height:Ot}=ft(st.rect),Nt=this.svgFactory.create(wt,Ot,!0);for(const Bt of st.inkLists){let Yt=[];for(const yn of Bt){const gn=yn.x-st.rect[0],Mn=st.rect[3]-yn.y;Yt.push(`${gn},${Mn}`)}Yt=Yt.join(" ");const on=this.svgFactory.createElement(this.svgElementName);j(this,Bn).push(on),on.setAttribute("points",Yt),on.setAttribute("stroke-width",st.borderStyle.width||1),on.setAttribute("stroke","transparent"),on.setAttribute("fill","transparent"),!st.popupRef&&this.hasPopupData&&this._createPopup(),Nt.append(on)}return this.container.append(Nt),this.container}getElementsToTriggerPopup(){return j(this,Bn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bn=new WeakMap,e.InkAnnotationElement=kt;class _t extends lt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Pt extends lt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class $t extends lt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Zt extends lt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class nn extends lt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=nn;class Tt extends lt{constructor(st){var Nt;super(st,{isRenderable:!0});Mt(this,Ht);Mt(this,$n,null);const{filename:wt,content:Ot}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(wt,!0),this.content=Ot,(Nt=this.linkService.eventBus)==null||Nt.dispatch("fileattachmentannotation",{source:this,filename:wt,content:Ot})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:st,data:wt}=this;let Ot;wt.hasAppearance||wt.fillAlpha===0?Ot=document.createElement("div"):(Ot=document.createElement("img"),Ot.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(wt.name)?"paperclip":"pushpin"}.svg`,wt.fillAlpha&&wt.fillAlpha<1&&(Ot.style=`filter: opacity(${Math.round(wt.fillAlpha*100)}%);`)),Ot.addEventListener("dblclick",jt(this,Ht,Xr).bind(this)),Kt(this,$n,Ot);const{isMac:Nt}=o.FeatureTest.platform;return st.addEventListener("keydown",Bt=>{Bt.key==="Enter"&&(Nt?Bt.metaKey:Bt.ctrlKey)&&jt(this,Ht,Xr).call(this)}),!wt.popupRef&&this.hasPopupData?this._createPopup():Ot.classList.add("popupTriggerArea"),st.append(Ot),st}getElementsToTriggerPopup(){return j(this,$n)}addHighlightArea(){this.container.classList.add("highlightArea")}}$n=new WeakMap,Ht=new WeakSet,Xr=function(){var st;(st=this.downloadManager)==null||st.openOrDownloadData(this.container,this.content,this.filename)};class nt{constructor({div:It,accessibilityManager:st,annotationCanvasMap:wt,l10n:Ot,page:Nt,viewport:Bt}){Mt(this,wn);Mt(this,ln);Mt(this,An,null);Mt(this,mn,null);Mt(this,xn,new Map);this.div=It,Kt(this,An,st),Kt(this,mn,wt),this.l10n=Ot,this.page=Nt,this.viewport=Bt,this.zIndex=0,this.l10n||(this.l10n=g.NullL10n)}async render(It){const{annotations:st}=It,wt=this.div;(0,a.setLayerDimensions)(wt,this.viewport);const Ot=new Map,Nt={data:null,layer:wt,linkService:It.linkService,downloadManager:It.downloadManager,imageResourcesPath:It.imageResourcesPath||"",renderForms:It.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:It.annotationStorage||new c.AnnotationStorage,enableScripting:It.enableScripting===!0,hasJSActions:It.hasJSActions,fieldObjects:It.fieldObjects,parent:this,elements:null};for(const Bt of st){if(Bt.noHTML)continue;const Yt=Bt.annotationType===o.AnnotationType.POPUP;if(Yt){const gn=Ot.get(Bt.id);if(!gn)continue;Nt.elements=gn}else{const{width:gn,height:Mn}=ft(Bt.rect);if(gn<=0||Mn<=0)continue}Nt.data=Bt;const on=mt.create(Nt);if(!on.isRenderable)continue;if(!Yt&&Bt.popupRef){const gn=Ot.get(Bt.popupRef);gn?gn.push(on):Ot.set(Bt.popupRef,[on])}on.annotationEditorType>0&&j(this,xn).set(on.data.id,on);const yn=on.render();Bt.hidden&&(yn.style.visibility="hidden"),jt(this,wn,Ss).call(this,yn,Bt.id)}jt(this,ln,Yr).call(this),await this.l10n.translate(wt)}update({viewport:It}){const st=this.div;this.viewport=It,(0,a.setLayerDimensions)(st,{rotation:It.rotation}),jt(this,ln,Yr).call(this),st.hidden=!1}getEditableAnnotations(){return Array.from(j(this,xn).values())}getEditableAnnotation(It){return j(this,xn).get(It)}}An=new WeakMap,mn=new WeakMap,xn=new WeakMap,wn=new WeakSet,Ss=function(It,st){var Ot;const wt=It.firstChild||It;wt.id=`${o.AnnotationPrefix}${st}`,this.div.append(It),(Ot=j(this,An))==null||Ot.moveElementInDOM(this.div,It,wt,!1)},ln=new WeakSet,Yr=function(){if(!j(this,mn))return;const It=this.div;for(const[st,wt]of j(this,mn)){const Ot=It.querySelector(`[data-annotation-id="${st}"]`);if(!Ot)continue;const{firstChild:Nt}=Ot;Nt?Nt.nodeName==="CANVAS"?Nt.replaceWith(wt):Nt.before(wt):Ot.append(wt)}j(this,mn).clear()},e.AnnotationLayer=nt},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function s(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function o(c){return Math.max(0,Math.min(255,255*c))}class a{static CMYK_G([d,g,h,_]){return["G",1-Math.min(1,.3*d+.59*h+.11*g+_)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=o(d),[d,d,d]}static G_HTML([d]){const g=s(d);return`#${g}${g}${g}`}static RGB_G([d,g,h]){return["G",.3*d+.59*g+.11*h]}static RGB_rgb(d){return d.map(o)}static RGB_HTML(d){return`#${d.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,g,h,_]){return["RGB",1-Math.min(1,d+_),1-Math.min(1,h+_),1-Math.min(1,g+_)]}static CMYK_rgb([d,g,h,_]){return[o(1-Math.min(1,d+_)),o(1-Math.min(1,h+_)),o(1-Math.min(1,g+_))]}static CMYK_HTML(d){const g=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([d,g,h]){const _=1-d,b=1-g,_e=1-h,ft=Math.min(_,b,_e);return["CMYK",_,b,_e,ft]}}e.ColorConverters=a},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=o;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function o(d,g){switch(d){case"find_match_count":d=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return s[d]||""}function a(d,g){return g?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(h,_)=>_ in g?g[_]:"{{"+_+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,g=null,h=o(d,g)){return a(h,g)},async translate(d){}};e.NullL10n=c},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var o=s(25);class a{static setupStorage(d,g,h,_,b){const _e=_.getValue(g,{value:null});switch(h.name){case"textarea":if(_e.value!==null&&(d.textContent=_e.value),b==="print")break;d.addEventListener("input",ft=>{_.setValue(g,{value:ft.target.value})});break;case"input":if(h.attributes.type==="radio"||h.attributes.type==="checkbox"){if(_e.value===h.attributes.xfaOn?d.setAttribute("checked",!0):_e.value===h.attributes.xfaOff&&d.removeAttribute("checked"),b==="print")break;d.addEventListener("change",ft=>{_.setValue(g,{value:ft.target.checked?ft.target.getAttribute("xfaOn"):ft.target.getAttribute("xfaOff")})})}else{if(_e.value!==null&&d.setAttribute("value",_e.value),b==="print")break;d.addEventListener("input",ft=>{_.setValue(g,{value:ft.target.value})})}break;case"select":if(_e.value!==null){d.setAttribute("value",_e.value);for(const ft of h.children)ft.attributes.value===_e.value?ft.attributes.selected=!0:ft.attributes.hasOwnProperty("selected")&&delete ft.attributes.selected}d.addEventListener("input",ft=>{const mt=ft.target.options,lt=mt.selectedIndex===-1?"":mt[mt.selectedIndex].value;_.setValue(g,{value:lt})});break}}static setAttributes({html:d,element:g,storage:h=null,intent:_,linkService:b}){const{attributes:_e}=g,ft=d instanceof HTMLAnchorElement;_e.type==="radio"&&(_e.name=`${_e.name}-${_}`);for(const[mt,lt]of Object.entries(_e))if(lt!=null)switch(mt){case"class":lt.length&&d.setAttribute(mt,lt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",lt);break;case"style":Object.assign(d.style,lt);break;case"textContent":d.textContent=lt;break;default:(!ft||mt!=="href"&&mt!=="newWindow")&&d.setAttribute(mt,lt)}ft&&b.addLinkAttributes(d,_e.href,_e.newWindow),h&&_e.dataId&&this.setupStorage(d,_e.dataId,g,h)}static render(d){var at;const g=d.annotationStorage,h=d.linkService,_=d.xfaHtml,b=d.intent||"display",_e=document.createElement(_.name);_.attributes&&this.setAttributes({html:_e,element:_,intent:b,linkService:h});const ft=[[_,-1,_e]],mt=d.div;if(mt.append(_e),d.viewport){const ct=`matrix(${d.viewport.transform.join(",")})`;mt.style.transform=ct}b!=="richText"&&mt.setAttribute("class","xfaLayer xfaFont");const lt=[];for(;ft.length>0;){const[ct,et,$]=ft.at(-1);if(et+1===ct.children.length){ft.pop();continue}const tt=ct.children[++ft.at(-1)[1]];if(tt===null)continue;const{name:ht}=tt;if(ht==="#text"){const dt=document.createTextNode(tt.value);lt.push(dt),$.append(dt);continue}const rt=(at=tt==null?void 0:tt.attributes)!=null&&at.xmlns?document.createElementNS(tt.attributes.xmlns,ht):document.createElement(ht);if($.append(rt),tt.attributes&&this.setAttributes({html:rt,element:tt,storage:g,intent:b,linkService:h}),tt.children&&tt.children.length>0)ft.push([tt,-1,rt]);else if(tt.value){const dt=document.createTextNode(tt.value);o.XfaText.shouldBuildText(ht)&&lt.push(dt),rt.append(dt)}}for(const ct of mt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ct.setAttribute("readOnly",!0);return{textDivs:lt}}static update(d){const g=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=g,d.div.hidden=!1}}e.XfaLayer=a},(i,e,s)=>{var _,b,_e,ft,mt,lt,at,ct,et,$,tt,ht,rt,dt,xt,As,it,xs,Et,ws,Ft,Ts,vt,Qr,kt,Cs,Pt,Jr,Zt,ks,Tt,Ps,ut,Rs,gt,Is,Ct,Os,Lt,qn,Wt,Zr,Jt,vr,Qt,_r,bn,er,En,_i,Vt,Er,tn,Ls,fn,es,In,Ms,On,Ds,kn,ts,en,br,Ut,tr;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var o=s(1),a=s(4),c=s(29),d=s(6),g=s(5);const cn=class cn extends a.AnnotationEditor{constructor(Ht){super({...Ht,name:"inkEditor"});Mt(this,xt);Mt(this,it);Mt(this,Et);Mt(this,Ft);Mt(this,vt);Mt(this,kt);Mt(this,Pt);Mt(this,Zt);Mt(this,Tt);Mt(this,ut);Mt(this,gt);Mt(this,Ct);Mt(this,Lt);Mt(this,Wt);Mt(this,Jt);Mt(this,Qt);Mt(this,bn);Mt(this,En);Mt(this,Vt);Mt(this,On);Mt(this,kn);Mt(this,en);Mt(this,Ut);Mt(this,_,0);Mt(this,b,0);Mt(this,_e,this.canvasPointermove.bind(this));Mt(this,ft,this.canvasPointerleave.bind(this));Mt(this,mt,this.canvasPointerup.bind(this));Mt(this,lt,this.canvasPointerdown.bind(this));Mt(this,at,new Path2D);Mt(this,ct,!1);Mt(this,et,!1);Mt(this,$,!1);Mt(this,tt,null);Mt(this,ht,0);Mt(this,rt,0);Mt(this,dt,null);this.color=Ht.color||null,this.thickness=Ht.thickness||null,this.opacity=Ht.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ht){a.AnnotationEditor.initialize(Ht,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ht,dn){switch(Ht){case o.AnnotationEditorParamsType.INK_THICKNESS:cn._defaultThickness=dn;break;case o.AnnotationEditorParamsType.INK_COLOR:cn._defaultColor=dn;break;case o.AnnotationEditorParamsType.INK_OPACITY:cn._defaultOpacity=dn/100;break}}updateParams(Ht,dn){switch(Ht){case o.AnnotationEditorParamsType.INK_THICKNESS:jt(this,xt,As).call(this,dn);break;case o.AnnotationEditorParamsType.INK_COLOR:jt(this,it,xs).call(this,dn);break;case o.AnnotationEditorParamsType.INK_OPACITY:jt(this,Et,ws).call(this,dn);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,cn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,cn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(cn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||cn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||cn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??cn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(jt(this,Jt,vr).call(this),jt(this,Qt,_r).call(this)),this.isAttachedToDOM||(this.parent.add(this),jt(this,bn,er).call(this)),jt(this,Ut,tr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,j(this,tt).disconnect(),Kt(this,tt,null),super.remove())}setParent(Ht){!this.parent&&Ht?this._uiManager.removeShouldRescale(this):this.parent&&Ht===null&&this._uiManager.addShouldRescale(this),super.setParent(Ht)}onScaleChanging(){const[Ht,dn]=this.parentDimensions,An=this.width*Ht,mn=this.height*dn;this.setDimensions(An,mn)}enableEditMode(){j(this,ct)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",j(this,lt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",j(this,lt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){j(this,ct)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Kt(this,ct,!0),this.div.classList.add("disabled"),jt(this,Ut,tr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ht){this._focusEventsAllowed&&(super.focusin(Ht),this.enableEditMode())}canvasPointerdown(Ht){Ht.button!==0||!this.isInEditMode()||j(this,ct)||(this.setInForeground(),Ht.preventDefault(),Ht.type!=="mouse"&&this.div.focus(),jt(this,kt,Cs).call(this,Ht.offsetX,Ht.offsetY))}canvasPointermove(Ht){Ht.preventDefault(),jt(this,Pt,Jr).call(this,Ht.offsetX,Ht.offsetY)}canvasPointerup(Ht){Ht.preventDefault(),jt(this,Wt,Zr).call(this,Ht)}canvasPointerleave(Ht){jt(this,Wt,Zr).call(this,Ht)}get isResizable(){return!this.isEmpty()&&j(this,ct)}render(){if(this.div)return this.div;let Ht,dn;this.width&&(Ht=this.x,dn=this.y),super.render(),a.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(jn=>{var ln;return(ln=this.div)==null?void 0:ln.setAttribute("aria-label",jn)});const[An,mn,xn,wn]=jt(this,Ft,Ts).call(this);if(this.setAt(An,mn,0,0),this.setDims(xn,wn),jt(this,Jt,vr).call(this),this.width){const[jn,ln]=this.parentDimensions;this.setAspectRatio(this.width*jn,this.height*ln),this.setAt(Ht*jn,dn*ln,this.width*jn,this.height*ln),Kt(this,$,!0),jt(this,bn,er).call(this),this.setDims(this.width*jn,this.height*ln),jt(this,Lt,qn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return jt(this,Qt,_r).call(this),this.div}setDimensions(Ht,dn){const An=Math.round(Ht),mn=Math.round(dn);if(j(this,ht)===An&&j(this,rt)===mn)return;Kt(this,ht,An),Kt(this,rt,mn),this.canvas.style.visibility="hidden";const[xn,wn]=this.parentDimensions;this.width=Ht/xn,this.height=dn/wn,this.fixAndSetPosition(),j(this,ct)&&jt(this,En,_i).call(this,Ht,dn),jt(this,bn,er).call(this),jt(this,Lt,qn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ht,dn,An){var Nt,Bt,Yt;if(Ht instanceof c.InkAnnotationElement)return null;const mn=super.deserialize(Ht,dn,An);mn.thickness=Ht.thickness,mn.color=o.Util.makeHexColor(...Ht.color),mn.opacity=Ht.opacity;const[xn,wn]=mn.pageDimensions,jn=mn.width*xn,ln=mn.height*wn,Fn=mn.parentScale,Sn=Ht.thickness/2;Kt(mn,ct,!0),Kt(mn,ht,Math.round(jn)),Kt(mn,rt,Math.round(ln));const{paths:It,rect:st,rotation:wt}=Ht;for(let{bezier:on}of It){on=jt(Nt=cn,In,Ms).call(Nt,on,st,wt);const yn=[];mn.paths.push(yn);let gn=Fn*(on[0]-Sn),Mn=Fn*(on[1]-Sn);for(let _n=2,Pn=on.length;_n<Pn;_n+=6){const Dn=Fn*(on[_n]-Sn),Nn=Fn*(on[_n+1]-Sn),Un=Fn*(on[_n+2]-Sn),Wn=Fn*(on[_n+3]-Sn),zn=Fn*(on[_n+4]-Sn),Vn=Fn*(on[_n+5]-Sn);yn.push([[gn,Mn],[Dn,Nn],[Un,Wn],[zn,Vn]]),gn=zn,Mn=Vn}const vn=jt(this,tn,Ls).call(this,yn);mn.bezierPath2D.push(vn)}const Ot=jt(Bt=mn,kn,ts).call(Bt);return Kt(mn,b,Math.max(a.AnnotationEditor.MIN_SIZE,Ot[2]-Ot[0])),Kt(mn,_,Math.max(a.AnnotationEditor.MIN_SIZE,Ot[3]-Ot[1])),jt(Yt=mn,En,_i).call(Yt,jn,ln),mn}serialize(){if(this.isEmpty())return null;const Ht=this.getRect(0,0),dn=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:dn,thickness:this.thickness,opacity:this.opacity,paths:jt(this,On,Ds).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ht),pageIndex:this.pageIndex,rect:Ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_=new WeakMap,b=new WeakMap,_e=new WeakMap,ft=new WeakMap,mt=new WeakMap,lt=new WeakMap,at=new WeakMap,ct=new WeakMap,et=new WeakMap,$=new WeakMap,tt=new WeakMap,ht=new WeakMap,rt=new WeakMap,dt=new WeakMap,xt=new WeakSet,As=function(Ht){const dn=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ht,jt(this,Ut,tr).call(this)},undo:()=>{this.thickness=dn,jt(this,Ut,tr).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},it=new WeakSet,xs=function(Ht){const dn=this.color;this.addCommands({cmd:()=>{this.color=Ht,jt(this,Lt,qn).call(this)},undo:()=>{this.color=dn,jt(this,Lt,qn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Et=new WeakSet,ws=function(Ht){Ht/=100;const dn=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ht,jt(this,Lt,qn).call(this)},undo:()=>{this.opacity=dn,jt(this,Lt,qn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ft=new WeakSet,Ts=function(){const{parentRotation:Ht,parentDimensions:[dn,An]}=this;switch(Ht){case 90:return[0,An,An,dn];case 180:return[dn,An,dn,An];case 270:return[dn,0,An,dn];default:return[0,0,dn,An]}},vt=new WeakSet,Qr=function(){const{ctx:Ht,color:dn,opacity:An,thickness:mn,parentScale:xn,scaleFactor:wn}=this;Ht.lineWidth=mn*xn/wn,Ht.lineCap="round",Ht.lineJoin="round",Ht.miterLimit=10,Ht.strokeStyle=`${dn}${(0,g.opacityToHex)(An)}`},kt=new WeakSet,Cs=function(Ht,dn){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",j(this,ft)),this.canvas.addEventListener("pointermove",j(this,_e)),this.canvas.addEventListener("pointerup",j(this,mt)),this.canvas.removeEventListener("pointerdown",j(this,lt)),this.isEditing=!0,j(this,$)||(Kt(this,$,!0),jt(this,bn,er).call(this),this.thickness||(this.thickness=cn._defaultThickness),this.color||(this.color=cn._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=cn._defaultOpacity)),this.currentPath.push([Ht,dn]),Kt(this,et,!1),jt(this,vt,Qr).call(this),Kt(this,dt,()=>{jt(this,ut,Rs).call(this),j(this,dt)&&window.requestAnimationFrame(j(this,dt))}),window.requestAnimationFrame(j(this,dt))},Pt=new WeakSet,Jr=function(Ht,dn){const[An,mn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ht===An&&dn===mn)return;const xn=this.currentPath;let wn=j(this,at);if(xn.push([Ht,dn]),Kt(this,et,!0),xn.length<=2){wn.moveTo(...xn[0]),wn.lineTo(Ht,dn);return}xn.length===3&&(Kt(this,at,wn=new Path2D),wn.moveTo(...xn[0])),jt(this,gt,Is).call(this,wn,...xn.at(-3),...xn.at(-2),Ht,dn)},Zt=new WeakSet,ks=function(){if(this.currentPath.length===0)return;const Ht=this.currentPath.at(-1);j(this,at).lineTo(...Ht)},Tt=new WeakSet,Ps=function(Ht,dn){Kt(this,dt,null),Ht=Math.min(Math.max(Ht,0),this.canvas.width),dn=Math.min(Math.max(dn,0),this.canvas.height),jt(this,Pt,Jr).call(this,Ht,dn),jt(this,Zt,ks).call(this);let An;if(this.currentPath.length!==1)An=jt(this,Ct,Os).call(this);else{const ln=[Ht,dn];An=[[ln,ln.slice(),ln.slice(),ln]]}const mn=j(this,at),xn=this.currentPath;this.currentPath=[],Kt(this,at,new Path2D);const wn=()=>{this.allRawPaths.push(xn),this.paths.push(An),this.bezierPath2D.push(mn),this.rebuild()},jn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(jt(this,Jt,vr).call(this),jt(this,Qt,_r).call(this)),jt(this,Ut,tr).call(this))};this.addCommands({cmd:wn,undo:jn,mustExec:!0})},ut=new WeakSet,Rs=function(){if(!j(this,et))return;Kt(this,et,!1);const Ht=Math.ceil(this.thickness*this.parentScale),dn=this.currentPath.slice(-3),An=dn.map(wn=>wn[0]),mn=dn.map(wn=>wn[1]);Math.min(...An)-Ht,Math.max(...An)+Ht,Math.min(...mn)-Ht,Math.max(...mn)+Ht;const{ctx:xn}=this;xn.save(),xn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const wn of this.bezierPath2D)xn.stroke(wn);xn.stroke(j(this,at)),xn.restore()},gt=new WeakSet,Is=function(Ht,dn,An,mn,xn,wn,jn){const ln=(dn+mn)/2,Fn=(An+xn)/2,Sn=(mn+wn)/2,It=(xn+jn)/2;Ht.bezierCurveTo(ln+2*(mn-ln)/3,Fn+2*(xn-Fn)/3,Sn+2*(mn-Sn)/3,It+2*(xn-It)/3,Sn,It)},Ct=new WeakSet,Os=function(){const Ht=this.currentPath;if(Ht.length<=2)return[[Ht[0],Ht[0],Ht.at(-1),Ht.at(-1)]];const dn=[];let An,[mn,xn]=Ht[0];for(An=1;An<Ht.length-2;An++){const[st,wt]=Ht[An],[Ot,Nt]=Ht[An+1],Bt=(st+Ot)/2,Yt=(wt+Nt)/2,on=[mn+2*(st-mn)/3,xn+2*(wt-xn)/3],yn=[Bt+2*(st-Bt)/3,Yt+2*(wt-Yt)/3];dn.push([[mn,xn],on,yn,[Bt,Yt]]),[mn,xn]=[Bt,Yt]}const[wn,jn]=Ht[An],[ln,Fn]=Ht[An+1],Sn=[mn+2*(wn-mn)/3,xn+2*(jn-xn)/3],It=[ln+2*(wn-ln)/3,Fn+2*(jn-Fn)/3];return dn.push([[mn,xn],Sn,It,[ln,Fn]]),dn},Lt=new WeakSet,qn=function(){if(this.isEmpty()){jt(this,Vt,Er).call(this);return}jt(this,vt,Qr).call(this);const{canvas:Ht,ctx:dn}=this;dn.setTransform(1,0,0,1,0,0),dn.clearRect(0,0,Ht.width,Ht.height),jt(this,Vt,Er).call(this);for(const An of this.bezierPath2D)dn.stroke(An)},Wt=new WeakSet,Zr=function(Ht){this.canvas.removeEventListener("pointerleave",j(this,ft)),this.canvas.removeEventListener("pointermove",j(this,_e)),this.canvas.removeEventListener("pointerup",j(this,mt)),this.canvas.addEventListener("pointerdown",j(this,lt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),jt(this,Tt,Ps).call(this,Ht.offsetX,Ht.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Jt=new WeakSet,vr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ht=>{var dn;return(dn=this.canvas)==null?void 0:dn.setAttribute("aria-label",Ht)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Qt=new WeakSet,_r=function(){Kt(this,tt,new ResizeObserver(Ht=>{const dn=Ht[0].contentRect;dn.width&&dn.height&&this.setDimensions(dn.width,dn.height)})),j(this,tt).observe(this.div)},bn=new WeakSet,er=function(){if(!j(this,$))return;const[Ht,dn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ht),this.canvas.height=Math.ceil(this.height*dn),jt(this,Vt,Er).call(this)},En=new WeakSet,_i=function(Ht,dn){const An=jt(this,en,br).call(this),mn=(Ht-An)/j(this,b),xn=(dn-An)/j(this,_);this.scaleFactor=Math.min(mn,xn)},Vt=new WeakSet,Er=function(){const Ht=jt(this,en,br).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ht,this.translationY*this.scaleFactor+Ht)},tn=new WeakSet,Ls=function(Ht){const dn=new Path2D;for(let An=0,mn=Ht.length;An<mn;An++){const[xn,wn,jn,ln]=Ht[An];An===0&&dn.moveTo(...xn),dn.bezierCurveTo(wn[0],wn[1],jn[0],jn[1],ln[0],ln[1])}return dn},fn=new WeakSet,es=function(Ht,dn,An){const[mn,xn,wn,jn]=dn;switch(An){case 0:for(let ln=0,Fn=Ht.length;ln<Fn;ln+=2)Ht[ln]+=mn,Ht[ln+1]=jn-Ht[ln+1];break;case 90:for(let ln=0,Fn=Ht.length;ln<Fn;ln+=2){const Sn=Ht[ln];Ht[ln]=Ht[ln+1]+mn,Ht[ln+1]=Sn+xn}break;case 180:for(let ln=0,Fn=Ht.length;ln<Fn;ln+=2)Ht[ln]=wn-Ht[ln],Ht[ln+1]+=xn;break;case 270:for(let ln=0,Fn=Ht.length;ln<Fn;ln+=2){const Sn=Ht[ln];Ht[ln]=wn-Ht[ln+1],Ht[ln+1]=jn-Sn}break;default:throw new Error("Invalid rotation")}return Ht},In=new WeakSet,Ms=function(Ht,dn,An){const[mn,xn,wn,jn]=dn;switch(An){case 0:for(let ln=0,Fn=Ht.length;ln<Fn;ln+=2)Ht[ln]-=mn,Ht[ln+1]=jn-Ht[ln+1];break;case 90:for(let ln=0,Fn=Ht.length;ln<Fn;ln+=2){const Sn=Ht[ln];Ht[ln]=Ht[ln+1]-xn,Ht[ln+1]=Sn-mn}break;case 180:for(let ln=0,Fn=Ht.length;ln<Fn;ln+=2)Ht[ln]=wn-Ht[ln],Ht[ln+1]-=xn;break;case 270:for(let ln=0,Fn=Ht.length;ln<Fn;ln+=2){const Sn=Ht[ln];Ht[ln]=jn-Ht[ln+1],Ht[ln+1]=wn-Sn}break;default:throw new Error("Invalid rotation")}return Ht},On=new WeakSet,Ds=function(Ht,dn,An,mn){var Fn,Sn;const xn=[],wn=this.thickness/2,jn=Ht*dn+wn,ln=Ht*An+wn;for(const It of this.paths){const st=[],wt=[];for(let Ot=0,Nt=It.length;Ot<Nt;Ot++){const[Bt,Yt,on,yn]=It[Ot],gn=Ht*Bt[0]+jn,Mn=Ht*Bt[1]+ln,vn=Ht*Yt[0]+jn,_n=Ht*Yt[1]+ln,Pn=Ht*on[0]+jn,Dn=Ht*on[1]+ln,Nn=Ht*yn[0]+jn,Un=Ht*yn[1]+ln;Ot===0&&(st.push(gn,Mn),wt.push(gn,Mn)),st.push(vn,_n,Pn,Dn,Nn,Un),wt.push(vn,_n),Ot===Nt-1&&wt.push(Nn,Un)}xn.push({bezier:jt(Fn=cn,fn,es).call(Fn,st,mn,this.rotation),points:jt(Sn=cn,fn,es).call(Sn,wt,mn,this.rotation)})}return xn},kn=new WeakSet,ts=function(){let Ht=1/0,dn=-1/0,An=1/0,mn=-1/0;for(const xn of this.paths)for(const[wn,jn,ln,Fn]of xn){const Sn=o.Util.bezierBoundingBox(...wn,...jn,...ln,...Fn);Ht=Math.min(Ht,Sn[0]),An=Math.min(An,Sn[1]),dn=Math.max(dn,Sn[2]),mn=Math.max(mn,Sn[3])}return[Ht,An,dn,mn]},en=new WeakSet,br=function(){return j(this,ct)?Math.ceil(this.thickness*this.parentScale):0},Ut=new WeakSet,tr=function(Ht=!1){if(this.isEmpty())return;if(!j(this,ct)){jt(this,Lt,qn).call(this);return}const dn=jt(this,kn,ts).call(this),An=jt(this,en,br).call(this);Kt(this,b,Math.max(a.AnnotationEditor.MIN_SIZE,dn[2]-dn[0])),Kt(this,_,Math.max(a.AnnotationEditor.MIN_SIZE,dn[3]-dn[1]));const mn=Math.ceil(An+j(this,b)*this.scaleFactor),xn=Math.ceil(An+j(this,_)*this.scaleFactor),[wn,jn]=this.parentDimensions;this.width=mn/wn,this.height=xn/jn,this.setAspectRatio(mn,xn);const ln=this.translationX,Fn=this.translationY;this.translationX=-dn[0],this.translationY=-dn[1],jt(this,bn,er).call(this),jt(this,Lt,qn).call(this),Kt(this,ht,mn),Kt(this,rt,xn),this.setDims(mn,xn);const Sn=Ht?An/this.scaleFactor/2:0;this.translate(ln-this.translationX-Sn,Fn-this.translationY-Sn)},Mt(cn,tn),Mt(cn,fn),Mt(cn,In),Hn(cn,"_defaultColor",null),Hn(cn,"_defaultOpacity",1),Hn(cn,"_defaultThickness",1),Hn(cn,"_type","ink");let h=cn;e.InkEditor=h},(i,e,s)=>{var h,_,b,_e,ft,mt,lt,at,ct,et,$,lr,ht,cr,dt,Sr,pt,ns,St,Fs,Dt,Ns,yt,rs,At,Ar,_t,js;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var o=s(1),a=s(4),c=s(6),d=s(29);const $t=class $t extends a.AnnotationEditor{constructor(Tt){super({...Tt,name:"stampEditor"});Mt(this,$);Mt(this,ht);Mt(this,dt);Mt(this,pt);Mt(this,St);Mt(this,Dt);Mt(this,yt);Mt(this,At);Mt(this,_t);Mt(this,h,null);Mt(this,_,null);Mt(this,b,null);Mt(this,_e,null);Mt(this,ft,null);Mt(this,mt,null);Mt(this,lt,null);Mt(this,at,null);Mt(this,ct,!1);Mt(this,et,!1);Kt(this,_e,Tt.bitmapUrl),Kt(this,ft,Tt.bitmapFile)}static initialize(Tt){a.AnnotationEditor.initialize(Tt)}static get supportedTypes(){const Tt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Tt.map(nt=>`image/${nt}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Tt){return this.supportedTypes.includes(Tt)}static paste(Tt,nt){nt.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Tt.getAsFile()})}remove(){var Tt,nt;j(this,_)&&(Kt(this,h,null),this._uiManager.imageManager.deleteId(j(this,_)),(Tt=j(this,mt))==null||Tt.remove(),Kt(this,mt,null),(nt=j(this,lt))==null||nt.disconnect(),Kt(this,lt,null)),super.remove()}rebuild(){if(!this.parent){j(this,_)&&jt(this,dt,Sr).call(this);return}super.rebuild(),this.div!==null&&(j(this,_)&&jt(this,dt,Sr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(j(this,b)||j(this,h)||j(this,_e)||j(this,ft))}get isResizable(){return!0}render(){if(this.div)return this.div;let Tt,nt;if(this.width&&(Tt=this.x,nt=this.y),super.render(),this.div.hidden=!0,j(this,h)?jt(this,pt,ns).call(this):jt(this,dt,Sr).call(this),this.width){const[ut,ot]=this.parentDimensions;this.setAt(Tt*ut,nt*ot,this.width*ut,this.height*ot)}return this.div}static deserialize(Tt,nt,ut){if(Tt instanceof d.StampAnnotationElement)return null;const ot=super.deserialize(Tt,nt,ut),{rect:gt,bitmapUrl:bt,bitmapId:Ct,isSvg:Rt,accessibilityData:Lt}=Tt;Ct&&ut.imageManager.isValidId(Ct)?Kt(ot,_,Ct):Kt(ot,_e,bt),Kt(ot,ct,Rt);const[qt,Wt]=ot.pageDimensions;return ot.width=(gt[2]-gt[0])/qt,ot.height=(gt[3]-gt[1])/Wt,Lt&&(ot.altTextData=Lt),ot}serialize(Tt=!1,nt=null){if(this.isEmpty())return null;const ut={annotationType:o.AnnotationEditorType.STAMP,bitmapId:j(this,_),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:j(this,ct),structTreeParentId:this._structTreeParentId};if(Tt)return ut.bitmapUrl=jt(this,At,Ar).call(this,!0),ut.accessibilityData=this.altTextData,ut;const{decorative:ot,altText:gt}=this.altTextData;if(!ot&&gt&&(ut.accessibilityData={type:"Figure",alt:gt}),nt===null)return ut;nt.stamps||(nt.stamps=new Map);const bt=j(this,ct)?(ut.rect[2]-ut.rect[0])*(ut.rect[3]-ut.rect[1]):null;if(!nt.stamps.has(j(this,_)))nt.stamps.set(j(this,_),{area:bt,serialized:ut}),ut.bitmap=jt(this,At,Ar).call(this,!1);else if(j(this,ct)){const Ct=nt.stamps.get(j(this,_));bt>Ct.area&&(Ct.area=bt,Ct.serialized.bitmap.close(),Ct.serialized.bitmap=jt(this,At,Ar).call(this,!1))}return ut}};h=new WeakMap,_=new WeakMap,b=new WeakMap,_e=new WeakMap,ft=new WeakMap,mt=new WeakMap,lt=new WeakMap,at=new WeakMap,ct=new WeakMap,et=new WeakMap,$=new WeakSet,lr=function(Tt,nt=!1){if(!Tt){this.remove();return}Kt(this,h,Tt.bitmap),nt||(Kt(this,_,Tt.id),Kt(this,ct,Tt.isSvg)),jt(this,pt,ns).call(this)},ht=new WeakSet,cr=function(){Kt(this,b,null),this._uiManager.enableWaiting(!1),j(this,mt)&&this.div.focus()},dt=new WeakSet,Sr=function(){if(j(this,_)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(j(this,_)).then(nt=>jt(this,$,lr).call(this,nt,!0)).finally(()=>jt(this,ht,cr).call(this));return}if(j(this,_e)){const nt=j(this,_e);Kt(this,_e,null),this._uiManager.enableWaiting(!0),Kt(this,b,this._uiManager.imageManager.getFromUrl(nt).then(ut=>jt(this,$,lr).call(this,ut)).finally(()=>jt(this,ht,cr).call(this)));return}if(j(this,ft)){const nt=j(this,ft);Kt(this,ft,null),this._uiManager.enableWaiting(!0),Kt(this,b,this._uiManager.imageManager.getFromFile(nt).then(ut=>jt(this,$,lr).call(this,ut)).finally(()=>jt(this,ht,cr).call(this)));return}const Tt=document.createElement("input");Tt.type="file",Tt.accept=$t.supportedTypesStr,Kt(this,b,new Promise(nt=>{Tt.addEventListener("change",async()=>{if(!Tt.files||Tt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ut=await this._uiManager.imageManager.getFromFile(Tt.files[0]);jt(this,$,lr).call(this,ut)}nt()}),Tt.addEventListener("cancel",()=>{this.remove(),nt()})}).finally(()=>jt(this,ht,cr).call(this))),Tt.click()},pt=new WeakSet,ns=function(){const{div:Tt}=this;let{width:nt,height:ut}=j(this,h);const[ot,gt]=this.pageDimensions,bt=.75;if(this.width)nt=this.width*ot,ut=this.height*gt;else if(nt>bt*ot||ut>bt*gt){const qt=Math.min(bt*ot/nt,bt*gt/ut);nt*=qt,ut*=qt}const[Ct,Rt]=this.parentDimensions;this.setDims(nt*Ct/ot,ut*Rt/gt),this._uiManager.enableWaiting(!1);const Lt=Kt(this,mt,document.createElement("canvas"));Tt.append(Lt),Tt.hidden=!1,jt(this,yt,rs).call(this,nt,ut),jt(this,_t,js).call(this),j(this,et)||(this.parent.addUndoableEditor(this),Kt(this,et,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},St=new WeakSet,Fs=function(Tt,nt){var bt;const[ut,ot]=this.parentDimensions;this.width=Tt/ut,this.height=nt/ot,this.setDims(Tt,nt),(bt=this._initialOptions)!=null&&bt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,j(this,at)!==null&&clearTimeout(j(this,at)),Kt(this,at,setTimeout(()=>{Kt(this,at,null),jt(this,yt,rs).call(this,Tt,nt)},200))},Dt=new WeakSet,Ns=function(Tt,nt){const{width:ut,height:ot}=j(this,h);let gt=ut,bt=ot,Ct=j(this,h);for(;gt>2*Tt||bt>2*nt;){const Rt=gt,Lt=bt;gt>2*Tt&&(gt=gt>=16384?Math.floor(gt/2)-1:Math.ceil(gt/2)),bt>2*nt&&(bt=bt>=16384?Math.floor(bt/2)-1:Math.ceil(bt/2));const qt=new OffscreenCanvas(gt,bt);qt.getContext("2d").drawImage(Ct,0,0,Rt,Lt,0,0,gt,bt),Ct=qt.transferToImageBitmap()}return Ct},yt=new WeakSet,rs=function(Tt,nt){Tt=Math.ceil(Tt),nt=Math.ceil(nt);const ut=j(this,mt);if(!ut||ut.width===Tt&&ut.height===nt)return;ut.width=Tt,ut.height=nt;const ot=j(this,ct)?j(this,h):jt(this,Dt,Ns).call(this,Tt,nt),gt=ut.getContext("2d");gt.filter=this._uiManager.hcmFilter,gt.drawImage(ot,0,0,ot.width,ot.height,0,0,Tt,nt)},At=new WeakSet,Ar=function(Tt){if(Tt){if(j(this,ct)){const ot=this._uiManager.imageManager.getSvgUrl(j(this,_));if(ot)return ot}const nt=document.createElement("canvas");return{width:nt.width,height:nt.height}=j(this,h),nt.getContext("2d").drawImage(j(this,h),0,0),nt.toDataURL()}if(j(this,ct)){const[nt,ut]=this.pageDimensions,ot=Math.round(this.width*nt*c.PixelsPerInch.PDF_TO_CSS_UNITS),gt=Math.round(this.height*ut*c.PixelsPerInch.PDF_TO_CSS_UNITS),bt=new OffscreenCanvas(ot,gt);return bt.getContext("2d").drawImage(j(this,h),0,0,j(this,h).width,j(this,h).height,0,0,ot,gt),bt.transferToImageBitmap()}return structuredClone(j(this,h))},_t=new WeakSet,js=function(){Kt(this,lt,new ResizeObserver(Tt=>{const nt=Tt[0].contentRect;nt.width&&nt.height&&jt(this,St,Fs).call(this,nt.width,nt.height)})),j(this,lt).observe(this.div)},Hn($t,"_type","stamp");let g=$t;e.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var e=__webpack_module_cache__[i];if(e!==void 0)return e.exports;var s=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(i,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(i,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(i,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(i,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(i,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(i,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(i,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(i,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(i,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return s.version}});var e=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),h=__w_pdfjs_require__(14),_=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$2);var pdfExports=pdf$2.exports;const pdf$1=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf$1},[pdfExports]),pdfjs="default"in pdfjsModule?pdf$1:pdfjsModule;var __spreadArray=function(i,e,s){if(s||arguments.length===2)for(var o=0,a=e.length,c;o<a;o++)(c||!(o in e))&&(c||(c=Array.prototype.slice.call(e,0,o)),c[o]=e[o]);return i.concat(c||Array.prototype.slice.call(e))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(i,e){var s={};return allEvents.forEach(function(o){var a=i[o];a&&(e?s[o]=function(c){return a(c,e(o))}:s[o]=a)}),s}function makeCancellablePromise(i){var e=!1,s=new Promise(function(o,a){i.then(function(c){return!e&&o(c)}).catch(function(c){return!e&&a(c)})});return{promise:s,cancel:function(){e=!0}}}function r(i){var e,s,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(s=r(i[e]))&&(o&&(o+=" "),o+=s)}else for(s in i)i[s]&&(o&&(o+=" "),o+=s);return o}function clsx(){for(var i,e,s=0,o="",a=arguments.length;s<a;s++)(i=arguments[s])&&(e=r(i))&&(o&&(o+=" "),o+=e);return o}var isProduction=!0,prefix="Invariant failed";function invariant(i,e){if(!i){if(isProduction)throw new Error(prefix);var s=typeof e=="function"?e():e,o=s?"".concat(prefix,": ").concat(s):prefix;throw new Error(o)}}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(i,e,s){for(s of i.keys())if(dequal(s,e))return s}function dequal(i,e){var s,o,a;if(i===e)return!0;if(i&&e&&(s=i.constructor)===e.constructor){if(s===Date)return i.getTime()===e.getTime();if(s===RegExp)return i.toString()===e.toString();if(s===Array){if((o=i.length)===e.length)for(;o--&&dequal(i[o],e[o]););return o===-1}if(s===Set){if(i.size!==e.size)return!1;for(o of i)if(a=o,a&&typeof a=="object"&&(a=find(e,a),!a)||!e.has(a))return!1;return!0}if(s===Map){if(i.size!==e.size)return!1;for(o of i)if(a=o[0],a&&typeof a=="object"&&(a=find(e,a),!a)||!dequal(o[1],e.get(a)))return!1;return!0}if(s===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(s===DataView){if((o=i.byteLength)===e.byteLength)for(;o--&&i.getInt8(o)===e.getInt8(o););return o===-1}if(ArrayBuffer.isView(i)){if((o=i.byteLength)===e.byteLength)for(;o--&&i[o]===e[o];);return o===-1}if(!s||typeof i=="object"){o=0;for(s in i)if(has.call(i,s)&&++o&&!has.call(e,s)||!(s in e)||!dequal(i[s],e[s]))return!1;return Object.keys(e).length===o}}return i!==i&&e!==e}const DocumentContext=reactExports.createContext(null);function Message({children:i,type:e}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${e}`},i)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(s=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(s):Array.isArray(e)?s(e):e.then(s)}).then(s=>{invariant(Array.isArray(s),`"${s}" is not a valid destination array.`);const o=s[0];new Promise(a=>{invariant(this.pdfDocument,"PDF document not loaded."),o instanceof Object?this.pdfDocument.getPageIndex(o).then(c=>{a(c)}).catch(()=>{invariant(!1,`"${o}" is not a valid page reference.`)}):typeof o=="number"?a(o):invariant(!1,`"${o}" is not a valid destination reference.`)}).then(a=>{const c=a+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(c>=1&&c<=this.pagesCount,`"${c}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:a,pageNumber:c})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const s=e-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:e})}addLinkAttributes(e,s,o){e.href=s,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(i){return typeof i<"u"}function isProvided(i){return isDefined(i)&&i!==null}function isString(i){return typeof i=="string"}function isArrayBuffer(i){return i instanceof ArrayBuffer}function isBlob(i){return invariant(isBrowser,"isBlob can only be used in a browser environment"),i instanceof Blob}function isDataURI(i){return isString(i)&&/^data:/.test(i)}function dataURItoByteString(i){invariant(isDataURI(i),"Invalid data URI.");const[e="",s=""]=i.split(",");return e.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(i){i&&i.cancel&&i.cancel()}function makePageCallback(i,e){return Object.defineProperty(i,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function isCancelException(i){return i.name==="RenderingCancelledException"}function loadFromFile(i){return new Promise((e,s)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return s(new Error("Error while reading a file."));e(o.result)},o.onerror=a=>{if(!a.target)return s(new Error("Error while reading a file."));const{error:c}=a.target;if(!c)return s(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},o.readAsArrayBuffer(i)})}function reducer(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const i={};return allEvents.forEach(e=>{i[e]=PropTypes.func}),i})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function i(e,s,o){const{[s]:a,pageNumber:c,pdf:d}=e;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${s}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<0)return new Error(`Expected \`${s}\` to be greater or equal to 0.`);const{numPages:g}=d;if(a+1>g)return new Error(`Expected \`${s}\` to be less or equal to ${g-1}.`)}else if(!isDefined(c))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function i(e,s,o){const{[s]:a,pageIndex:c,pdf:d}=e;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${s}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<1)return new Error(`Expected \`${s}\` to be greater or equal to 1.`);const{numPages:g}=d;if(a>g)return new Error(`Expected \`${s}\` to be less or equal to ${g}.`)}else if(!isDefined(c))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(i,e,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(b){try{_(o.next(b))}catch(_e){d(_e)}}function h(b){try{_(o.throw(b))}catch(_e){d(_e)}}function _(b){b.done?c(b.value):a(b.value).then(g,h)}_((o=o.apply(i,e||[])).next())})},__rest$1=function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(s[o[a]]=i[o[a]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(i,e)=>{switch(e){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");i(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");i(s);break}}};function isParameterObject(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Document=reactExports.forwardRef(function i(e,s){var{children:o,className:a,error:c="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:g,file:h,inputRef:_,imageResourcesPath:b,loading:_e="Loading PDF…",noData:ft="No PDF file specified.",onItemClick:mt,onLoadError:lt,onLoadProgress:at,onLoadSuccess:ct,onPassword:et=defaultOnPassword,onSourceError:$,onSourceSuccess:tt,options:ht,renderMode:rt,rotate:dt}=e,xt=__rest$1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[pt,it]=useResolver(),{value:St,error:Et}=pt,[Dt,Ft]=useResolver(),{value:yt,error:vt}=Dt,At=reactExports.useRef(new LinkService),kt=reactExports.useRef([]),_t=reactExports.useRef(),Pt=reactExports.useRef();reactExports.useEffect(()=>{h&&h!==_t.current&&isParameterObject(h)&&(warning$1(!dequal(h,_t.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),_t.current=h)},[h]),reactExports.useEffect(()=>{ht&&ht!==Pt.current&&(warning$1(!dequal(ht,Pt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Pt.current=ht)},[ht]);const $t=reactExports.useRef({scrollPageIntoView:rn=>{const{dest:Qt,pageNumber:pn,pageIndex:bn=pn-1}=rn;if(mt){mt({dest:Qt,pageIndex:bn,pageNumber:pn});return}const un=kt.current[bn];if(un){un.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${pn} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(s,()=>({linkService:At,pages:kt,viewer:$t}),[]);function Zt(){tt&&tt()}function nn(){Et&&(warning$1(!1,Et.toString()),$&&$(Et))}function Tt(){it({type:"RESET"})}reactExports.useEffect(Tt,[h,it]);const nt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return isDataURI(h)?{data:dataURItoByteString(h)}:(displayCORSWarning(),{url:h});if(h instanceof PDFDataRangeTransport)return{range:h};if(isArrayBuffer(h))return{data:h};if(isBrowser&&isBlob(h))return{data:yield loadFromFile(h)};if(invariant(typeof h=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(isParameterObject(h),"Invalid parameter object: need either .data, .range or .url"),"url"in h&&typeof h.url=="string"){if(isDataURI(h.url)){const{url:rn}=h,Qt=__rest$1(h,["url"]),pn=dataURItoByteString(rn);return Object.assign({data:pn},Qt)}displayCORSWarning()}return h}),[h]);reactExports.useEffect(()=>{const rn=makeCancellablePromise(nt());return rn.promise.then(Qt=>{it({type:"RESOLVE",value:Qt})}).catch(Qt=>{it({type:"REJECT",error:Qt})}),()=>{cancelRunningTask(rn)}},[nt,it]),reactExports.useEffect(()=>{if(!(typeof St>"u")){if(St===!1){nn();return}Zt()}},[St]);function ut(){yt&&(ct&&ct(yt),kt.current=new Array(yt.numPages),At.current.setDocument(yt))}function ot(){vt&&(warning$1(!1,vt.toString()),lt&&lt(vt))}function gt(){Ft({type:"RESET"})}reactExports.useEffect(gt,[Ft,St]);function bt(){if(!St)return;const rn=ht?Object.assign(Object.assign({},St),ht):St,Qt=pdfjs.getDocument(rn);at&&(Qt.onProgress=at),et&&(Qt.onPassword=et);const pn=Qt;return pn.promise.then(bn=>{Ft({type:"RESOLVE",value:bn})}).catch(bn=>{pn.destroyed||Ft({type:"REJECT",error:bn})}),()=>{pn.destroy()}}reactExports.useEffect(bt,[ht,Ft,St]),reactExports.useEffect(()=>{if(!(typeof yt>"u")){if(yt===!1){ot();return}ut()}},[yt]);function Ct(){At.current.setViewer($t.current),At.current.setExternalLinkRel(d),At.current.setExternalLinkTarget(g)}reactExports.useEffect(Ct,[d,g]);function Rt(rn,Qt){kt.current[rn]=Qt}function Lt(rn){delete kt.current[rn]}const qt=reactExports.useMemo(()=>({imageResourcesPath:b,linkService:At.current,onItemClick:mt,pdf:yt,registerPage:Rt,renderMode:rt,rotate:dt,unregisterPage:Lt}),[b,mt,yt,rt,dt]),Wt=reactExports.useMemo(()=>makeEventProps(xt,()=>yt),[xt,yt]);function Xt(){return React.createElement(DocumentContext.Provider,{value:qt},o)}function Jt(){return h?yt==null?React.createElement(Message,{type:"loading"},typeof _e=="function"?_e():_e):yt===!1?React.createElement(Message,{type:"error"},typeof c=="function"?c():c):Xt():React.createElement(Message,{type:"no-data"},typeof ft=="function"?ft():ft)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",a),ref:_,style:{"--scale-factor":"1"}},Wt),Jt())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});const Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var s=i.filter(Boolean);if(s.length<=1){var o=s[0];return o||null}return function(c){s.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(i){return i in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(i){return"children"in i}function isStructTreeNodeWithOnlyContentChild(i){return isStructTreeNode(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function getRoleAttributes(i){const e={};if(isStructTreeNode(i)){const{role:s}=i,o=s.match(HEADING_PATTERN);if(o)e.role="heading",e["aria-level"]=Number(o[1]);else if(isPdfRole(s)){const a=PDF_ROLE_TO_HTML_ROLE[s];a&&(e.role=a)}}return e}function getBaseAttributes(i){const e={};if(isStructTreeNode(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),isStructTreeNodeWithOnlyContentChild(i)){const[s]=i.children;if(s){const o=getBaseAttributes(s);return Object.assign(Object.assign({},e),o)}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function getAttributes(i){return i?Object.assign(Object.assign({},getRoleAttributes(i)),getBaseAttributes(i)):null}function StructTreeItem({className:i,node:e}){const s=reactExports.useMemo(()=>getAttributes(e),[e]),o=reactExports.useMemo(()=>!isStructTreeNode(e)||isStructTreeNodeWithOnlyContentChild(e)?null:e.children.map((a,c)=>React.createElement(StructTreeItem,{key:c,node:a})),[e]);return React.createElement("span",Object.assign({className:i},s),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const i=usePageContext();invariant(i,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:s}=i,[o,a]=useResolver(),{value:c,error:d}=o,{customTextRenderer:g,page:h}=i;function _(){c&&s&&s(c)}function b(){d&&(warning$1(!1,d.toString()),e&&e(d))}function _e(){a({type:"RESET"})}reactExports.useEffect(_e,[a,h]);function ft(){if(g||!h)return;const mt=makeCancellablePromise(h.getStructTree()),lt=mt;return mt.promise.then(at=>{a({type:"RESOLVE",value:at})}).catch(at=>{a({type:"REJECT",error:at})}),()=>cancelRunningTask(lt)}return reactExports.useEffect(ft,[g,h,a]),reactExports.useEffect(()=>{if(c!==void 0){if(c===!1){b();return}_()}},[c]),c?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:c}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(i){const e=usePageContext();invariant(e,"Unable to find Page context.");const s=Object.assign(Object.assign({},e),i),{_className:o,canvasBackground:a,devicePixelRatio:c=getDevicePixelRatio(),onRenderError:d,onRenderSuccess:g,page:h,renderForms:_,renderTextLayer:b,rotate:_e,scale:ft}=s,{canvasRef:mt}=i;invariant(h,"Attempted to render page canvas, but no page was specified.");const lt=reactExports.useRef(null);function at(){h&&g&&g(makePageCallback(h,ft))}function ct(rt){isCancelException(rt)||(warning$1(!1,rt.toString()),d&&d(rt))}const et=reactExports.useMemo(()=>h.getViewport({scale:ft*c,rotation:_e}),[c,h,_e,ft]),$=reactExports.useMemo(()=>h.getViewport({scale:ft,rotation:_e}),[h,_e,ft]);function tt(){if(!h)return;h.cleanup();const{current:rt}=lt;if(!rt)return;rt.width=et.width,rt.height=et.height,rt.style.width=`${Math.floor($.width)}px`,rt.style.height=`${Math.floor($.height)}px`,rt.style.visibility="hidden";const dt={annotationMode:_?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:rt.getContext("2d",{alpha:!1}),viewport:et};a&&(dt.background=a);const xt=h.render(dt),pt=xt;return xt.promise.then(()=>{rt.style.visibility="",at()}).catch(ct),()=>cancelRunningTask(pt)}reactExports.useEffect(tt,[a,lt,c,h,_,et,$]);const ht=reactExports.useCallback(()=>{const{current:rt}=lt;rt&&(rt.width=0,rt.height=0)},[lt]);return reactExports.useEffect(()=>ht,[ht]),React.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(mt,lt),style:{display:"block",userSelect:"none"}},b?React.createElement(StructTree,null):null)}function PageSVG(){const i=usePageContext();invariant(i,"Unable to find Page context.");const{_className:e,onRenderSuccess:s,onRenderError:o,page:a,rotate:c,scale:d}=i;invariant(a,"Attempted to render page SVG, but no page was specified.");const[g,h]=useResolver(),{value:_,error:b}=g;function _e(){a&&s&&s(makePageCallback(a,d))}function ft(){b&&(isCancelException(b)||(warning$1(!1,b.toString()),o&&o(b)))}const mt=reactExports.useMemo(()=>a.getViewport({scale:d,rotation:c}),[a,c,d]);function lt(){h({type:"RESET"})}reactExports.useEffect(lt,[a,h,mt]);function at(){if(!a)return;const tt=makeCancellablePromise(a.getOperatorList());return tt.promise.then(ht=>{new pdfjs.SVGGraphics(a.commonObjs,a.objs).getSVG(ht,mt).then(dt=>{if(!(dt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");h({type:"RESOLVE",value:dt})}).catch(dt=>{h({type:"REJECT",error:dt})})}).catch(ht=>{h({type:"REJECT",error:ht})}),()=>cancelRunningTask(tt)}reactExports.useEffect(at,[a,h,mt]),reactExports.useEffect(()=>{if(_!==void 0){if(_===!1){ft();return}_e()}},[_]);function ct(tt){if(!tt||!_)return;tt.firstElementChild||tt.appendChild(_);const{width:ht,height:rt}=mt;_.setAttribute("width",`${ht}`),_.setAttribute("height",`${rt}`)}const{width:et,height:$}=mt;return React.createElement("div",{className:`${e}__svg`,ref:tt=>ct(tt),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:et,height:$,userSelect:"none"}})}function isTextItem(i){return"str"in i}function TextLayer(){const i=usePageContext();invariant(i,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:s,onGetTextSuccess:o,onRenderTextLayerError:a,onRenderTextLayerSuccess:c,page:d,pageIndex:g,pageNumber:h,rotate:_,scale:b}=i;invariant(d,"Attempted to load page text content, but no page was specified.");const[_e,ft]=useResolver(),{value:mt,error:lt}=_e,at=reactExports.useRef(null),ct=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function et(){mt&&o&&o(mt)}function $(){lt&&(warning$1(!1,lt.toString()),s&&s(lt))}function tt(){ft({type:"RESET"})}reactExports.useEffect(tt,[d,ft]);function ht(){if(!d)return;const Et=makeCancellablePromise(d.getTextContent()),Dt=Et;return Et.promise.then(Ft=>{ft({type:"RESOLVE",value:Ft})}).catch(Ft=>{ft({type:"REJECT",error:Ft})}),()=>cancelRunningTask(Dt)}reactExports.useEffect(ht,[d,ft]),reactExports.useEffect(()=>{if(mt!==void 0){if(mt===!1){$();return}et()}},[mt]);const rt=reactExports.useCallback(()=>{c&&c()},[c]),dt=reactExports.useCallback(Et=>{warning$1(!1,Et.toString()),a&&a(Et)},[a]);function xt(){const Et=ct.current;Et&&Et.classList.add("active")}function pt(){const Et=ct.current;Et&&Et.classList.remove("active")}const it=reactExports.useMemo(()=>d.getViewport({scale:b,rotation:_}),[d,_,b]);function St(){if(!d||!mt)return;const{current:Et}=at;if(!Et)return;Et.innerHTML="";const Dt=d.streamTextContent({includeMarkedContent:!0}),Ft={container:Et,textContentSource:Dt,viewport:it},yt=pdfjs.renderTextLayer(Ft),vt=yt;return yt.promise.then(()=>{const At=document.createElement("div");At.className="endOfContent",Et.append(At),ct.current=At;const kt=Et.querySelectorAll('[role="presentation"]');if(e){let _t=0;mt.items.forEach((Pt,$t)=>{if(!isTextItem(Pt))return;const Zt=kt[_t];if(!Zt)return;const nn=e(Object.assign({pageIndex:g,pageNumber:h,itemIndex:$t},Pt));Zt.innerHTML=nn,_t+=Pt.str&&Pt.hasEOL?2:1})}rt()}).catch(dt),()=>cancelRunningTask(vt)}return reactExports.useLayoutEffect(St,[e,dt,rt,d,g,h,mt,it]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:pt,onMouseDown:xt,ref:at})}function AnnotationLayer(){const i=useDocumentContext(),e=usePageContext();invariant(e,"Unable to find Page context.");const s=Object.assign(Object.assign({},i),e),{imageResourcesPath:o,linkService:a,onGetAnnotationsError:c,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:g,onRenderAnnotationLayerSuccess:h,page:_,pdf:b,renderForms:_e,rotate:ft,scale:mt=1}=s;invariant(b,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),invariant(_,"Attempted to load page annotations, but no page was specified."),invariant(a,"Attempted to load page annotations, but no linkService was specified.");const[lt,at]=useResolver(),{value:ct,error:et}=lt,$=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function tt(){ct&&d&&d(ct)}function ht(){et&&(warning$1(!1,et.toString()),c&&c(et))}function rt(){at({type:"RESET"})}reactExports.useEffect(rt,[at,_]);function dt(){if(!_)return;const Et=makeCancellablePromise(_.getAnnotations()),Dt=Et;return Et.promise.then(Ft=>{at({type:"RESOLVE",value:Ft})}).catch(Ft=>{at({type:"REJECT",error:Ft})}),()=>{cancelRunningTask(Dt)}}reactExports.useEffect(dt,[at,_,_e]),reactExports.useEffect(()=>{if(ct!==void 0){if(ct===!1){ht();return}tt()}},[ct]);function xt(){h&&h()}function pt(Et){warning$1(!1,`${Et}`),g&&g(Et)}const it=reactExports.useMemo(()=>_.getViewport({scale:mt,rotation:ft}),[_,ft,mt]);function St(){if(!b||!_||!a||!ct)return;const{current:Et}=$;if(!Et)return;const Dt=it.clone({dontFlip:!0}),Ft={accessibilityManager:null,annotationCanvasMap:null,div:Et,l10n:null,page:_,viewport:Dt},yt={annotations:ct,annotationStorage:b.annotationStorage,div:Et,downloadManager:null,imageResourcesPath:o,linkService:a,page:_,renderForms:_e,viewport:Dt};Et.innerHTML="";try{new pdfjs.AnnotationLayer(Ft).render(yt),xt()}catch(vt){pt(vt)}return()=>{}}return reactExports.useEffect(St,[ct,o,a,_,_e,it]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:$})}var __rest=function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(s[o[a]]=i[o[a]]);return s};const defaultScale=1,Page=function i(e){const s=useDocumentContext(),o=Object.assign(Object.assign({},s),e),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:g,children:h,className:_,customRenderer:b,customTextRenderer:_e,devicePixelRatio:ft,error:mt="Failed to load the page.",height:lt,inputRef:at,loading:ct="Loading page…",noData:et="No page specified.",onGetAnnotationsError:$,onGetAnnotationsSuccess:tt,onGetStructTreeError:ht,onGetStructTreeSuccess:rt,onGetTextError:dt,onGetTextSuccess:xt,onLoadError:pt,onLoadSuccess:it,onRenderAnnotationLayerError:St,onRenderAnnotationLayerSuccess:Et,onRenderError:Dt,onRenderSuccess:Ft,onRenderTextLayerError:yt,onRenderTextLayerSuccess:vt,pageIndex:At,pageNumber:kt,pdf:_t,registerPage:Pt,renderAnnotationLayer:$t=!0,renderForms:Zt=!1,renderMode:nn="canvas",renderTextLayer:Tt=!0,rotate:nt,scale:ut=defaultScale,unregisterPage:ot,width:gt}=o,bt=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ct,Rt]=useResolver(),{value:Lt,error:qt}=Ct,Wt=reactExports.useRef(null);invariant(_t,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Xt=isProvided(kt)?kt-1:At??null,Jt=kt??(isProvided(At)?At+1:null),rn=nt??(Lt?Lt.rotate:null),Qt=reactExports.useMemo(()=>{if(!Lt)return null;let Rn=1;const kn=ut??defaultScale;if(gt||lt){const Ln=Lt.getViewport({scale:1,rotation:rn});gt?Rn=gt/Ln.width:lt&&(Rn=lt/Ln.height)}return kn*Rn},[lt,Lt,rn,ut,gt]);function pn(){return()=>{isProvided(Xt)&&c&&ot&&ot(Xt)}}reactExports.useEffect(pn,[c,_t,Xt,ot]);function bn(){if(it){if(!Lt||!Qt)return;it(makePageCallback(Lt,Qt))}if(c&&Pt){if(!isProvided(Xt)||!Wt.current)return;Pt(Xt,Wt.current)}}function un(){qt&&(warning$1(!1,qt.toString()),pt&&pt(qt))}function En(){Rt({type:"RESET"})}reactExports.useEffect(En,[Rt,_t,Xt]);function sn(){if(!_t||!Jt)return;const Rn=makeCancellablePromise(_t.getPage(Jt)),kn=Rn;return Rn.promise.then(Ln=>{Rt({type:"RESOLVE",value:Ln})}).catch(Ln=>{Rt({type:"REJECT",error:Ln})}),()=>cancelRunningTask(kn)}reactExports.useEffect(sn,[Rt,_t,Xt,Jt,Pt]),reactExports.useEffect(()=>{if(Lt!==void 0){if(Lt===!1){un();return}bn()}},[Lt,Qt]);const Vt=reactExports.useMemo(()=>Lt&&isProvided(Xt)&&Jt&&isProvided(rn)&&isProvided(Qt)?{_className:a,canvasBackground:d,customTextRenderer:_e,devicePixelRatio:ft,onGetAnnotationsError:$,onGetAnnotationsSuccess:tt,onGetStructTreeError:ht,onGetStructTreeSuccess:rt,onGetTextError:dt,onGetTextSuccess:xt,onRenderAnnotationLayerError:St,onRenderAnnotationLayerSuccess:Et,onRenderError:Dt,onRenderSuccess:Ft,onRenderTextLayerError:yt,onRenderTextLayerSuccess:vt,page:Lt,pageIndex:Xt,pageNumber:Jt,renderForms:Zt,renderTextLayer:Tt,rotate:rn,scale:Qt}:null,[a,d,_e,ft,$,tt,ht,rt,dt,xt,St,Et,Dt,Ft,yt,vt,Lt,Xt,Jt,Zt,Tt,rn,Qt]),Gt=reactExports.useMemo(()=>makeEventProps(bt,()=>Lt&&(Qt?makePageCallback(Lt,Qt):void 0)),[bt,Lt,Qt]),tn=`${Xt}@${Qt}/${rn}`,hn=`${Xt}/${rn}`;function fn(){switch(nn){case"custom":return invariant(b,'renderMode was set to "custom", but no customRenderer was passed.'),React.createElement(b,{key:`${tn}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${hn}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${tn}_canvas`,canvasRef:g})}}function Tn(){return Tt?React.createElement(TextLayer,{key:`${tn}_text`}):null}function In(){return $t?React.createElement(AnnotationLayer,{key:`${tn}_annotations`}):null}function Cn(){return React.createElement(PageContext.Provider,{value:Vt},fn(),Tn(),In(),h)}function On(){return Jt?_t===null||Lt===void 0||Lt===null?React.createElement(Message,{type:"loading"},typeof ct=="function"?ct():ct):_t===!1||Lt===!1?React.createElement(Message,{type:"error"},typeof mt=="function"?mt():mt):Cn():React.createElement(Message,{type:"no-data"},typeof et=="function"?et():et)}return React.createElement("div",Object.assign({className:clsx(a,_),"data-page-number":Jt,ref:mergeRefs(at,Wt),style:{"--scale-factor":`${Qt}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Gt),On())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});const Page$1=Page;displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";const pdf="/assets/policy-B-k9o8Su.pdf";pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;const TandC=()=>{const[i,e]=reactExports.useState(null),[s,o]=reactExports.useState(1200);return reactExports.useEffect(()=>{o(window.innerWidth)},[]),jsxRuntimeExports.jsx("main",{className:"main-container",children:jsxRuntimeExports.jsx("div",{className:"content-container",children:jsxRuntimeExports.jsx(Document$1,{file:pdf,onLoadSuccess:({numPages:a})=>{e(a)},children:Array.from(new Array(i),(a,c)=>jsxRuntimeExports.jsx(Page$1,{pageNumber:c+1,scale:s>768?1.7:.6,renderMode:"canvas",renderTextLayer:!1},`page_${c+1}`))})})})},Section=({title:i,content:e})=>jsxRuntimeExports.jsxs("section",{className:"custom-section",children:[jsxRuntimeExports.jsx("h2",{className:"custom-title",children:i}),jsxRuntimeExports.jsx("div",{className:"custom-content",dangerouslySetInnerHTML:{__html:e}})]}),Acknowledge=()=>{const i=[{title:"OVERVIEW AND DEFINITIONS",content:`Black Fox Metaverse is an online marketplace that enables buyers of professional services (“Employers”) to search for, enter into and manage transactions with providers of professional services (“Freelancers” and, collectively with Employers, “Registered Users”). The Website contains features that enable Freelancers and Employers to do, among other things, the following:
      <br /><br />
      <strong>Employers</strong>: <br /> Create profiles, post projects, search for Freelancers, communicate with Freelancers, negotiate with Freelancers, award projects to Freelancers, manage projects, leave feedback for Freelancers, and pay Freelancers.
      <br /><br />
      <strong>Freelancers:</strong> <br /> Create profiles, advertise capabilities, submit quotes, negotiate with Employers, obtain project awards, invoice, obtain feedback from Employers, and receive payment from Employers.
      <br /><br />
      We also provide Registered Users with certain services described in, and subject to, these Terms of Service (as further defined below, the “Services”). We may add, delete or modify some or all of such Services at any time at our sole discretion with reasonable notice posted in advance on the Website. Capitalized terms used in these Terms of Service have the following meanings:
      <br /> “Account” means the account created by the Website upon registration.
      <br /> “Assumed Payment Liabilities” shall mean that portion of a Freelancer&apos;s total service charges for a Project which Black Fox Metaverse agrees to assume in consideration of the Service Charges.
      <br /><br />
      “Dispute Resolution Service” means the service described in Section 7.
      <br /> “Employer&apos;s Acceptance of Services” shall mean: <ul> <li> with respect to an Invoice, a transfer of funds by Employer to Black Fox Metaverse in respect of such Invoice or </li> <li> With respect to the Safe Deposit Service, the earlier to occur of the following: </li> <ul> <li> Employer and the Freelancer agree as to the rightful recipient of the funds or </li> <li> Employer and Freelancer have concluded the process comprising the Dispute Resolution Service. </li> </ul> </ul>
      “Black Fox Metaverse Billing and Payment Services” means, collectively, the Black Fox Metaverse Invoice Service and the Safe Deposit Service.
      <br /> Black Fox Metaverse Invoice Service” means the service described in Section 5(A).
      <br /> “Safe Deposit Service” means the service described in Section 5(B).
      <br /> “Service Charges” means, as applicable, the Project Fee, Employer Payment Processing Fee, Freelancer Transfer Method Fee and the Dispute Resolution Service Fee.
      <br /> “Services” means, collectively, the Black Fox Metaverse Billing and Payment Service, the Dispute Resolution Service and other services offered through the site.
      <br /> “Website” means the world wide web site operated by Black Fox Metaverse at www.Black Fox Metaverse.com or any replacement URL.`},{title:"REGISTRATION",content:`<strong>A. Eligibility</strong> <br /> To access our Services through our Website, you must be a legal entity, or an individual of eighteen (18) years of age or older who can form legally binding contracts. To become a Registered User, you must accept all of the terms and conditions in, incorporated by reference in, and linked to, these Terms of Service. By becoming a Registered User, you agree to: (1) abide by the Terms of Service and the processes, procedures, and guidelines described throughout the Website; (2) be financially responsible for your use of the Website and the purchase or delivery of services; and (3) perform your obligations as specified by any Project Agreement that you accept, unless such obligations are prohibited by law or by the Terms of Service. Black Fox Metaverse reserves the right, in its sole discretion, to refuse, suspend, or terminate Services to anyone.
      <br /><br />
      <strong>B. Registration</strong> <br /> To become a Registered User and to access Services you must register for an Account. You agree to provide true, accurate and complete information as prompted by the registration form and all forms you access on the Website, and to update this information to maintain its truthfulness, accuracy and completeness.
      <br /><br />
      <strong>C. Accounts & Profiles</strong> <ul> <li>General </li> <li> Once you have registered with the Website as a Registered User, the Website will create your Account with Black Fox Metaverse.com and associate it with an account number. </li> <li>Username & Password </li> <li> During registration, you will be asked to choose a username and password for the Account. As a Registered User, you agree and you are entirely responsible to safeguard and maintain the confidentiality of the username and password you use to access this Website. You authorize Black Fox Metaverse to assume that any person using the Website with your username and password is you or is authorized to act for you. You agree to notify us immediately if you suspect any unauthorized use of the Account. </li> <li>Freelancers </li> <li> As described on the Website, a Freelancer uses proposals to submit quotes for Projects. If a Freelancer requires additional proposals in a given month, the Freelancer has the option to buy additional proposals by purchasing a Proposal Pack as described on the Website. We reserve the right to change membership fees, the monthly of proposals included in the membership options or the price Proposal Packs or institute new fees at any time, at the sole discretion of Black Fox Metaverse and upon reasonable notice posted in advance on the Website. No refunds of membership fees already paid will be given. If we exercise our right to cancel a membership as provided under these Terms of Service, at any time, we will not refund the membership fee already paid. </li> </ul>`},{title:"RELATIONSHIPS",content:"<strong>A. Employer and Freelancer</strong> <br /> <ul> <li> <strong>Project Agreement</strong> </li> </ul> The engagement, contracting and management of a project are between an Employer and a Freelancer. Upon acceptance of a quote, the Employer agrees to purchase, and the Freelancer agrees to deliver, the services and related deliverables in accordance with the following agreements: (a) the agreement between Employer and Freelancer including the Project Proposal, Project Description, and other terms and conditions as communicated between Employer and Freelancer on the Website or otherwise, (b) these Terms of Service, and (c) any other content uploaded to the Website by either party (collectively, the “Project Agreement”). You agree not to enter into any contractual provisions in conflict with these Terms of Service. Any provision of a Project Agreement in conflict with these Terms of Service is void. Employer is responsible for managing, inspecting, accepting and paying for satisfactory services and deliverables in accordance with the Project Agreement in a timely manner. Freelancer is responsible for the performance and quality of the services in accordance with the Project Agreement in a timely manner. Employer and Freelancer each covenants and agrees to act with good faith and fair dealing in performance of the Project Agreement. <br /> <ul> <li> <strong>Independence</strong> </li> </ul> Employer and Freelancer each acknowledges and agrees that their relationship is that of independent contractors. The Freelancer shall perform services as an independent contractor and nothing in these Terms of Service shall be deemed to create a partnership, joint venture, agency, or employer-employee relationship between Freelancer and Employer or between Black Fox Metaverse and any Employer or Freelancer.You acknowledge, agree, and understand that Black Fox Metaverse does not, in any way, supervise, direct, control, or evaluate Freelancers or their work and is not responsible for any Project, Project terms or Work Product. <br /> <ul> <li> <strong>Work Product</strong> </li> </ul> Freelancer is expected to deliver the Work Product (deliverable or outcome) of the Project Agreement using Black Fox Metaverse to the Employer unless a NDA is signed between Freelancer & Employer. Black Fox Metaverse can request proof of work performed at any point of time for verfication as per Project Agreement."},{title:"Black Fox Metaverse FEES",content:"<strong>A. Service Fees</strong> <br /> Black Fox Metaverse deducts one or more of the following fees, as applicable, from payments made by Employers to Freelancers using the Black Fox Metaverse Billing and Payment Services: <br /> <ul> <li> <strong>Project Fee</strong> </li> </ul> Black Fox Metaverse charges all Freelancers a Project Fee. The fee is based on a Freelancer&apos;s profile membership type and is deducted from the total amount paid by an Employer for a Project. Freelancer&apos;s are charged a 3% to 10% Project Fee. <ul> <li> <strong>Employer Payment Processing Fee</strong> </li> </ul> If an Employer pays a Freelancer, an Employer Payment Processing Fee depending on the mode of payment will be charged to the Freelancer. <ul> <li> <strong>Freelancer Transfer Method Fee</strong> </li> </ul> If, upon a Freelancer&apos;s request, funds are to be disbursed via check or an NEFT transfer or through Paypal a Freelancer Transfer Method Fee will be charged to the Freelancer as described on the Website. <ul> <li> <strong>Dispute Resolution Service Fee</strong> </li> </ul> For use of Dispute Resolution Service, irrespective of the nature of resolution and any resulting disbursements, Black Fox Metaverse charges a Dispute Resolution Service Fee, equal to Rs 500 or 5% (whichever is greater) of the total amount paid by an Employer to Black Fox Metaverse for the applicable project to which such payment relates. <br /> <br /> We reserve the right to change membership fees, service fees, processing fees or any other fee that may be charged by Black Fox Metaverse at any time, at the sole discretion of Black Fox Metaverse and upon reasonable notice posted in advance on the Website. No refunds of fees already paid will be given. If we exercise our right to cancel a membership as provided under these Terms of Service, at any time, we will not refund the membership fee already paid."}];return jsxRuntimeExports.jsx("main",{className:"main-container",children:jsxRuntimeExports.jsxs("div",{className:"content-container",children:[jsxRuntimeExports.jsxs("section",{className:"custom-section",children:[jsxRuntimeExports.jsx("h1",{className:"main-title",children:"Privacy Policy."}),jsxRuntimeExports.jsx("p",{className:"main-paragraph",children:"Welcome to Black Fox Metaverse Before using our logo design service, please carefully review the following Privacy Policy, as they govern the contractual relationship between you (the ”Client”) and Black Fox Metaverse (the ”Service Provider”). By using our logo design service, you acknowledge that you have read, understood, and agreed to these Privacy Policy in their entirety."})]}),i.map(e=>jsxRuntimeExports.jsx(Section,{title:e.title,content:e.content},e.title))]})})};function App(){return reactExports.useEffect(()=>{console.log("Initializing Google Analytics..."),ReactGA.initialize("G-L4LNX64KCQ"),ReactGA.send({hitType:"pageview",page:window.location.pathname,title:document.title}),console.log("Google Analytics initialized. Tracking initial pageview.")},[]),jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(Home,{}),path:"/"}),jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(TandC,{}),path:"/terms-and-conditions"}),jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(Acknowledge,{}),path:"/privacy-policy"})]})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
